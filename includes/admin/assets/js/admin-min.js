let state_check_ws_p=1,valueJson_ws_p=[],exportJson_ws=[],pro_ws=!1,form_ID_emsFormBuilder=0,form_type_emsFormBuilder="form";const efb_version=3.6;let wpbakery_emsFormBuilder=!1;function saveLocalStorage_emsFormBuilder(){localStorage.setItem("valueJson_ws_p",JSON.stringify(valueJson_ws_p)),localStorage.setItem("valueJson_ws_p",JSON.stringify(valueJson_ws_p))}function alarm_emsFormBuilder(e){return`<div class="efb alert alert-warning alert-dismissible fade show " role="alert" id="alarm_emsFormBuilder">\n    <div class="efb emsFormBuilder"><i class="efb fas fa-exclamation-triangle faa-flash animated"></i></div>\n    <strong>${efb_var.text.alert} </strong>${e}\n  </div>`}function Link_emsFormBuilder(e){let t="https://whitestudio.team/document";if("fa_IR"!=efb_var.language)switch(e){case"publishForm":t="https://youtu.be/AnkhmZ5Cz9w";break;case"createSampleForm":case"tutorial":t+=valj_efb.length<1||"s/payment"!=valj_efb[0].type?"s/how-to-create-your-first-form-with-easy-form-builde":"How-to-Create-a-Payment-Form-in-Easy-Form-Builder";break;case"stripe":t="https://whitestudio.team/documents/how-to-setup-and-use-the-stripe-on-easy-form-builder";break;case"ws":t="https://whitestudio.team/";break;case"price":t="https://whitestudio.team/#price";break;case"efb":t="https://wordpress.org/plugins/easy-form-builder/";break;case"wiki":t="https://whitestudio.team/documents/";break;case"EmailNoti":t+="s/How-to-Set-Up-Form-Notification-Emails-in-Easy-Form-Builder";break;case"redirectPage":t+="s/how-to-edit-a-redirect-pagethank-you-page-of-forms-on-easy-form-builder";break;case"AdnSPF":t+="s/how-to-setup-and-use-the-stripe-on-easy-form-builder/";break;case"AdnOF":t+="s/offline-forms-addon/";break;case"AdnADP":t+="s/how-to-install-islamic-date-in-easy-form-builder-plugin/";break;case"wpbakery":t+="s/wpbakery-easy-form-builder-v34/";break;case"AdnPPF":t="https://whitestudio.team";break;case"AdnATC":case"AdnSS":case"AdnCPF":case"AdnESZ":case"AdnSE":t="https://whitestudio.team/addons";break}else switch(t="https://easyformbuilder.ir/داکیومنت/",e){case"publishForm":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d9%81%d8%b1%d9%85-%d8%aa%d9%88%d8%b3%d8%b7-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2-%d8%a2%d8%b3%d8%a7%d9%86-%d8%af%d8%b1-%d9%88%d8%b1%d8%af%d9%be%d8%b1%d8%b3-%d8%a8%d8%b3/";break;case"createSampleForm":case"tutorial":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d9%81%d8%b1%d9%85-%d8%aa%d9%88%d8%b3%d8%b7-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2-%d8%a2%d8%b3%d8%a7%d9%86-%d8%af%d8%b1-%d9%88%d8%b1%d8%af%d9%be%d8%b1%d8%b3-%d8%a8%d8%b3/";break;case"stripe":t="https://whitestudio.team/documents/how-to-setup-and-use-the-stripe-on-easy-form-builder";break;case"ws":t="https://easyformbuilder.ir/";break;case"price":t="https://easyformbuilder.ir/#price";break;case"efb":t="https://wordpress.org/plugins/easy-form-builder/";break;case"wiki":t="https://easyformbuilder.ir/documents/";break;case"EmailNoti":t+="چگونه-ایمیل-اطلاع-رسانی-را-در-فرم-ساز-آس/";break;case"redirectPage":t+="نحوه-ساخت-یک-صفحه-تشکر-در-افزونه-فرم-ساز/";break;case"AdnSPF":t="https://easyformbuilder.ir/documents/";break;case"AdnOF":t+="%d9%81%d8%b9%d8%a7%d9%84-%da%a9%d8%b1%d8%af%d9%86-%d8%ad%d8%a7%d9%84%d8%aa-%d8%a2%d9%81%d9%84%d8%a7%db%8c%d9%86-%d9%81%d8%b1%d9%85/";break;case"AdnPPF":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d8%af%d8%b1%da%af%d8%a7%d9%87-%d9%be%d8%b1%d8%af%d8%a7%d8%ae%d8%aa-%d8%a7%db%8c%d8%b1%d8%a7%d9%86%db%8c-%d8%b1%d8%a7-%d8%a8%d9%87-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2/";break;case"wpbakery":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2-%d8%a2%d8%b3%d8%a7%d9%86-%d8%af%d8%b1-%d9%88%d8%b1%d8%af%d9%be%d8%b1%d8%b3-%d8%a8%db%8c%da%a9%d8%b1%db%8c-%d8%a7%d8%b3%d8%aa%d9%81/";break;case"AdnATC":case"AdnSS":case"AdnCPF":case"AdnESZ":case"AdnSE":t="https://easyformbuilder.ir/";break}window.open(t,"_blank")}function show_message_result_form_set_EFB(e,t){const a=`<p class="efb m-5 mx-3 fs-4"><a class="efb text-danger" onClick="Link_emsFormBuilder('wpbakery')" target="_blank">${efb_var.text.wwpb}</a></p>`,l=`\n  <h4 class="efb title-holder efb">\n     <img src="${efb_var.images.title}" class="efb title efb">\n     ${0!=e?`<i class="efb  bi-hand-thumbs-up title-icon mx-2"></i>${efb_var.text.done}`:`<i class="efb  bi-hand-thumbs-up title-icon mx-2"></i>${efb_var.text.error}`}\n  </h4>\n  \n  `;let s="";s=0!=e?` <h3 class="efb"><b>${efb_var.text.goodJob}</b></br> ${1==e?efb_var.text.formIsBuild:efb_var.text.formUpdatedDone}</h3>\n    ${wpbakery_emsFormBuilder?a:""}\n  <h5 class="efb mt-3 efb">${efb_var.text.shortcode}: <strong>${t}</strong></h5>\n  <input type="text" class="efb hide-input efb" value="${t}" id="trackingCodeEfb">\n  <div id="alert"></div>\n  <a  class="efb btn-r btn efb btn-primary btn-lg m-3" onclick="copyCodeEfb('trackingCodeEfb')">\n      <i class="efb  bi-clipboard-check mx-1"></i>${efb_var.text.copyShortcode}\n  </a>\n  <a  class="efb btn efb btn-outline-pink btn-lg m-3 px-3" data-bs-toggle="modal" data-bs-target="#Output" onclick="open_whiteStudio_efb('publishForm')">\n      <i class="efb  bi-question mx-1"></i>${efb_var.text.help}\n  </a>\n  <a  class="efb btn efb btn-outline-pink btn-lg m-3 px-3" data-bs-toggle="modal" data-bs-target="#close" onclick="location.reload(true);">\n      <i class="efb  bi-x mx-1"></i>${efb_var.text.close}\n  </a>\n  `:`<h3 class="efb">${t}</h3>`,document.getElementById("settingModalEfb-body").innerHTML=`<div class="efb card-body text-center efb">${l}${s}</div>`}function actionSendData_emsFormBuilder(){if(navigator.onLine){data={};var e=formName_Efb;jQuery((function(t){return data=1==state_check_ws_p?{action:"add_form_Emsfb",value:localStorage.getItem("valj_efb"),name:e,type:form_type_emsFormBuilder,nonce:efb_var.nonce}:{action:"update_form_Emsfb",value:localStorage.getItem("valj_efb"),name:e,nonce:efb_var.nonce,id:form_ID_emsFormBuilder},t.post(ajaxurl,data,(function(e){"insert"==e.data.r?e.data.value&&1==e.data.success?(state_check_ws_p=0,form_ID_emsFormBuilder=parseInt(e.data.id),show_message_result_form_set_EFB(1,e.data.value)):(alert(e,"error"),show_message_result_form_set_EFB(0,e.data.value,`${efb_var.text.somethingWentWrongPleaseRefresh}, Code:400-1`)):"update"==e.data.r||"updated"==e.data.r&&1==e.data.success?show_message_result_form_set_EFB(2,e.data.value):null==e.data.m||e.data.m.length>1?show_message_result_form_set_EFB(0,e.data.value,`${efb_var.text.somethingWentWrongPleaseRefresh}, Code:400-400`):show_message_result_form_set_EFB(0,e.data.value,`${e.data.m}, Code:400-400`)})),!0}))}else alert_message_efb("",efb_var.text.offlineSend,17,"danger")}function actionSendAddons_efb(e){if(!navigator.onLine)return void alert_message_efb("",efb_var.text.offlineSend,17,"danger");const t=e;if(null==t)return valNotFound_efb();data={},jQuery((function(e){return data={action:"add_addons_Emsfb",value:t,nonce:efb_var.nonce},e.post(ajaxurl,data,(function(e){"done"==e.data.r?e.data.value&&1==e.data.success?(alert_message_efb(efb_var.text.done,"",30,"info"),location.reload()):(alert(e,"error"),alert_message_efb(efb_var.text.error,`${efb_var.text.somethingWentWrongPleaseRefresh}, Code:400-1`,30,"danger")):null==e.data.m||e.data.m.length>1?alert_message_efb(efb_var.text.error,e.data.m,30,"danger"):alert_message_efb(efb_var.text.error,`${efb_var.text.somethingWentWrongPleaseRefresh}, Code:400-2`,30,"danger")})),!0}))}function actionSendAddonsUn_efb(e){navigator.onLine?(data={},jQuery((function(t){return data={action:"remove_addons_Emsfb",value:e,nonce:efb_var.nonce},t.post(ajaxurl,data,(function(e){"done"==e.data.r?e.data.value&&1==e.data.success?(alert_message_efb(efb_var.text.done,"",30,"info"),location.reload()):(alert(e,"error"),alert_message_efb(efb_var.text.error,`${efb_var.text.somethingWentWrongPleaseRefresh}, Code:400-1`,30,"danger")):(null==e.data.m||e.data.m.length,alert_message_efb(efb_var.text.error,`${efb_var.text.somethingWentWrongPleaseRefresh}, Code:400-1`,30,"danger"))})),!0}))):alert_message_efb("",efb_var.text.offlineSend,17,"danger")}function fun_report_error(e,t){}function close_overpage_emsFormBuilder(e){document.getElementById("overpage").remove(),2==e&&(demo_emsFormBuilder=!1)}function getOS_emsFormBuilder(){var e=window.navigator.userAgent,t=window.navigator.platform,a=null;return valid=!1,-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?a="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?a="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?(a="Windows",valid=!0):/Android/.test(e)?a="Android":!a&&/Linux/.test(t)&&(a="Linux"),valid}localStorage.getItem("valueJson_ws_p")&&localStorage.removeItem("valueJson_ws_p"),jQuery((function(){state_check_ws_p=Number(efb_var.check),setting_emsFormBuilder=efb_var.setting,pro_ws="1"==efb_var.pro||1==efb_var.pro,pro_ws="undefined"!=typeof pro_whitestudio&&pro_whitestudio,1==state_check_ws_p?(history.replaceState("templates",null,"?page=Emsfb_create"),add_dasboard_emsFormBuilder()):2==state_check_ws_p&&(timeout=500,fun_timeout=()=>{setTimeout((()=>{"undefined"==typeof addons_efb?(timeout+=100,fun_timeout()):add_addons_emsFormBuilder()}),timeout)},fun_timeout())})),document.getElementById("wpfooter").remove(),createCardFormEfb=e=>{tag_efb=tag_efb.concat(e.tag.split(" ")).filter(((e,t,a)=>a.indexOf(e)===t));let t=`<a class="efb float-end btn mx-1 efb rounded-pill border-danger text-danger " onclick="fun_preview_before_efb('${e.id}' ,'local' ,${e.pro})"><i class="efb  bi-eye mx-1"></i>${efb_var.text.preview}</a>`,a=`<button type="button" id="${e.id}" class="efb float-end btn mb-1 efb btn-primary btn-lg float-end emsFormBuilder btn-r efbCreateNewForm"><i class="efb  bi-plus-circle mx-1"></i>${efb_var.text.create}</b></button>`;if("form"!=e.id&&"payment"!=e.id||(t="\x3c!--not preview--\x3e"),-1!=e.tag.search("payment")&&0==efb_var.addons.AdnSPF&&0==efb_var.addons.AdnPPF){a=`<a class="efb float-end btn mb-1 efb btn-primary btn-lg float-end  btn-r" onClick="${`alert_message_efb('${efb_var.text.error}', '${efb_var.text.IMAddonP}', 20 , 'danger')`}"><i class="efb  bi-plus-circle mx-1"></i>${efb_var.text.create}</b></a>`}return`\n  <div class="efb tag  col ${1==efb_var.rtl?"rtl-text":""} ${e.tag}" id="${e.id}"> <div class="efb card efb"><div class="efb card-body">\n  ${1==e.pro&&1!=efb_var.pro?funProEfb():""}\n  <h5 class="efb card-title efb"><i class="efb  ${e.icon} mx-1"></i>${e.title} </h5>\n  <div class="efb row" ><p class="efb card-text efb ${mobile_view_efb?"":"fs-7"} float-start my-3">${e.desc}  <b>${efb_var.text.freefeatureNotiEmail}</b> </p></div>\n  ${a}\n  ${t}\n  </div></div></div>`},createCardAddoneEfb=e=>{tag_efb=tag_efb.concat(e.tag.split(" ")).filter(((e,t,a)=>a.indexOf(e)===t));let t=`funBTNAddOnsEFB('${e.name}','${e.v_required}')`,a=efb_var.text.install,l="bi-download",s="btn-primary";return 1==e.pro&&1!=efb_var.pro?(t="pro_show_efb(1)",a=efb_var.text.pro,l="bi-gem",s="btn-warning"):1==efb_var.setting[e.name]&&(t=`funBTNAddOnsUnEFB('${e.name}')`,a=efb_var.text.remove,l="",s="btn-secondary"),`\n  <div class="efb tag mt-0 col ${1==efb_var.rtl?"rtl-text":""} ${e.tag}" id="${e.id}"> <div class="efb card efb"><div class="efb card-body">\n  ${1==e.pro&&1!=efb_var.pro?funProEfb():""}\n  <h5 class="efb card-title efb"><i class="efb  ${e.icon} mx-1"></i>${e.title} </h5>\n  <div class="efb row" ><p class="efb card-text efb ${mobile_view_efb?"":"fs-7"} float-start my-3">${e.desc}  </p></div>\n  <a id="${e.name}" data-vrequired="${e.v_required}" class="efb float-end btn addons mb-1 efb ${s} btn-lg float-end btn-r" onClick="${t}"><i class="efb ${l} mx-1"></i>${a}</b></a>\n  <a class="efb float-end btn mx-1 efb rounded-pill border-danger text-danger " onclick="Link_emsFormBuilder('${e.name}')"><i class="efb  bi-question-circle mx-1"></i>${efb_var.text.help}</a>\n  </div></div></div>`},funProEfb=()=>`<div class="efb  pro-card"><a type="button" onClick='pro_show_efb(1)' class="efb pro-version-efb" data-bs-toggle="tooltip" data-bs-placement="top" title="${efb_var.text.fieldAvailableInProversion}" data-original-title="${efb_var.text.fieldAvailableInProversion}"><i class="efb  bi-gem text-light"></i></a></div>`;const boxs_efb=[{id:"form",title:efb_var.text.newForm,desc:efb_var.text.createBlankMultistepsForm,status:!0,icon:"bi-check2-square",tag:"all new",pro:!1},{id:"contact",title:efb_var.text.contactusForm,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"payment",title:efb_var.text.paymentform,desc:efb_var.text.createPaymentForm,status:!0,icon:"bi-wallet-fill",tag:"all payment new",pro:!0},{id:"support",title:efb_var.text.supportForm,desc:efb_var.text.createSupportForm,status:!0,icon:"bi-shield-check",tag:"all support",pro:!1},{id:"survey",title:efb_var.text.survey,desc:efb_var.text.createsurveyForm,status:!0,icon:"bi-bar-chart-line",tag:"all survey",pro:!1},{id:"contactTemplate",title:efb_var.text.contactusTemplate,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"curvedContactTemplate",title:`${efb_var.text.curved} ${efb_var.text.contactusTemplate}`,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"multipleStepContactTemplate",title:`${efb_var.text.multiStep} ${efb_var.text.contactusTemplate}`,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"privateContactTemplate",title:`${efb_var.text.showTheFormTologgedUsers} ${efb_var.text.contactusTemplate}`,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"customerFeedback",title:efb_var.text.customerFeedback,desc:efb_var.text.createSupportForm,status:!0,icon:"bi-shield-check",tag:"all support",pro:!1},{id:"supportTicketForm",title:efb_var.text.supportTicketF,desc:efb_var.text.createSupportForm,status:!0,icon:"bi-shield-check",tag:"all support",pro:!1},{id:"orderForm",title:`${efb_var.text.purchaseOrder} ${efb_var.text.payment}`,desc:efb_var.text.purchaseOrder,status:!0,icon:"bi-bag",tag:"all payment",pro:!0},{id:"register",title:efb_var.text.registerForm,desc:efb_var.text.createRegistrationForm,status:!0,icon:"bi-person-plus",tag:"all signInUp",pro:!1},{id:"login",title:efb_var.text.loginForm,desc:efb_var.text.createLoginForm,status:!0,icon:"bi-box-arrow-in-right",tag:"all signInUp",pro:!1},{id:"subscription",title:efb_var.text.subscriptionForm,desc:efb_var.text.createnewsletterForm,status:!0,icon:"bi-bell",tag:"all",pro:!1}];let tag_efb=[];function add_dasboard_emsFormBuilder(){let e="\x3c!-- boxs --\x3e";for(let t of boxs_efb)e+=createCardFormEfb(t);let t="\x3c!-- card titles --\x3e";for(let e of tag_efb)t+=`\n    <li class="efb col-3 col-lg-1 col-md-2 col-sm-2 col-sx-3 mb-2  m-1 p-0 text-center">\n      <a class="efb nav-link m-0 p-0 cat fs-6  ${e}" aria-current="page" onclick="funUpdateLisetcardTitleEfb('${e}')" role="button">${efb_var.text[e]}</a>\n    </li>\n    `;t=`\n    <ul class="efb mt-4 mb-3 p-0 d-flex justify-content-center row" id="listCardTitleEfb">${t}\n    <hr class="efb hr">\n    </ul>\n    `,document.getElementById("tab_container_efb").innerHTML=`\n\n          ${head_introduce_efb("create")}\n          <section id="content-efb">\n          ${mobile_view_efb?"":`<img src="${efb_var.images.title}" class="efb ${1==efb_var.rtl?"right_circle-efb":"left_circle-efb"}"><h4 class="efb title-holder efb fs-4"><img src="${efb_var.images.title}" class="efb title efb create"><i class="efb  bi-arrow-down-circle title-icon mx-1"></i>${efb_var.text.forms}</h4>`}\n          <div class="efb d-flex justify-content-center ">\n            <input type="text" placeholder="${efb_var.text.search}" id="findCardFormEFB" class="efb fs-6 search-form-control efb-rounded efb mx-2"> <a class="efb btn efb btn-outline-pink mx-1" onClick="FunfindCardFormEFB()" >${efb_var.text.search}</a>\n            \n          </div\n            <div class="efb row">\n            ${t}\n            <div class="efb  row row-cols-1 row-cols-md-3 g-4" id="listFormCardsEFB">${e}</div></div>\n            </section>`;let a=document.getElementsByClassName("efbCreateNewForm");for(const e of a)e.addEventListener("click",(t=>{form_type_emsFormBuilder=e.id,create_form_by_type_emsfb(e.id,"npreview")}));a=document.getElementsByClassName("efbPreviewForm");for(const e of a)e.addEventListener("click",(t=>{form_type_emsFormBuilder=e.id,create_form_by_type_emsfb(e.id,"preview")}))}function add_addons_emsFormBuilder(){let e="\x3c!-- boxs --\x3e";for(let t of addons_efb)if(1==t.state){const a={name:t.name,id:t.id,tag:t.tag,icon:t.icon,title:efb_var.text[t.title],desc:efb_var.text[t.desc],v_required:t.v_required,pro:t.pro};("fa_IR"!=efb_var.language&&"AdnPPF"!=t.name||"fa_IR"==efb_var.language)&&(e+=createCardAddoneEfb(a))}let t="\x3c!-- card titles --\x3e";t=`\n    <ul class="efb mt-4 mb-3 p-0 d-flex justify-content-center row" id="listCardTitleEfb">${t}\n    <hr class="efb hr">\n    </ul>\n    `,document.getElementById("tab_container_efb").innerHTML=`\n\n          ${head_introduce_efb("create")}\n          <section id="content-efb">\n          ${mobile_view_efb?"":`<h4 class="efb  mb-0 title-holder fs-4 efb"><img src="${efb_var.images.title}" class="efb title efb create"><i class="efb  bi-plus-circle title-icon mx-1"></i>${efb_var.text.addons}</h4>`}\n  \n            <div class="efb row">\n            ${t}\n            <div class="efb  row row-cols-1 mt-0 row-cols-md-3 g-4" id="listFormCardsEFB">${e}</div></div>\n            </section>`;let a=document.getElementsByClassName("efbCreateNewForm");for(const e of a)e.addEventListener("click",(t=>{form_type_emsFormBuilder=e.id,create_form_by_type_emsfb(e.id,"npreview")}));a=document.getElementsByClassName("efbPreviewForm");for(const e of a)e.addEventListener("click",(t=>{form_type_emsFormBuilder=e.id,create_form_by_type_emsfb(e.id,"preview")}))}function FunfindCardFormEFB(){let e=[];const t=document.getElementById("findCardFormEFB").value.toLowerCase();document.getElementById("listFormCardsEFB").innerHTML="";for(let a of boxs_efb)1!=a.title.toLowerCase().includes(t)&&1!=a.desc.toLowerCase().includes(t)||e.push(a);let a="\x3c!--Search--\x3e";for(let t of e)a+=createCardFormEfb(t);"'\x3c!--Search--\x3e'"==a&&(a="NotingFound"),document.getElementById("listFormCardsEFB").innerHTML=a;let l=document.getElementsByClassName("efbCreateNewForm");for(const e of l)e.addEventListener("click",(t=>{form_type_emsFormBuilder=e.id,create_form_by_type_emsfb(e.id,"npreview")}))}function FunfindCardAddonEFB(){let e=[];const t=document.getElementById("findCardFormEFB").value.toLowerCase();document.getElementById("listFormCardsEFB").innerHTML="";for(let a of addons_efb)1!=a.title.toLowerCase().includes(t)&&1!=a.desc.toLowerCase().includes(t)||e.push(a);let a="\x3c!--Search--\x3e";for(let t of e)a+=createCardAddoneEfb(t);"'\x3c!--Search--\x3e'"==a&&(a="NotingFound"),document.getElementById("listFormCardsEFB").innerHTML=a;let l=document.getElementsByClassName("efbCreateNewForm");for(const e of l)e.addEventListener("click",(t=>{form_type_emsFormBuilder=e.id,create_form_by_type_emsfb(e.id,"npreview")}))}function create_form_by_type_emsfb(e,t){localStorage.removeItem("valj_efb"),"pre"!=t&&(document.getElementById("header-efb").innerHTML="",document.getElementById("content-efb").innerHTML="");const a=1==efb_var.rtl?"txt-right":"txt-left";if("form"===e)form_type_emsFormBuilder="form",valj_efb=[];else if("contact"===e){form_type_emsFormBuilder="form";const e=[{type:"form",steps:1,formName:efb_var.text.contactUs,email:"",trackingCode:!0,EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"2jpzt59do",show_icon:!0,show_pro_bar:!0,captcha:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!0,stateForm:!1,dShowBg:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:efb_var.text.contactusForm,icon:"bi-chat-right-fill",step:1,amount:2,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-muted",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"uoghulv7f",dataId:"uoghulv7f-id",type:"text",placeholder:efb_var.text.firstName,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.firstName,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"xzdeosw2q",dataId:"xzdeosw2q-id",type:"text",placeholder:efb_var.text.lastName,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.lastName,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"2jpzt59do",dataId:"2jpzt59do-id",type:"email",placeholder:efb_var.text.email,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:6,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"dvgl7nfn0",dataId:"dvgl7nfn0-id",type:"textarea",placeholder:efb_var.text.enterYourMessage,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.message,required:!0,amount:7,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1}];localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("contactTemplate"===e){form_type_emsFormBuilder="form";const e=contact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("multipleStepContactTemplate"===e){form_type_emsFormBuilder="form";const e=multiple_step_ontact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("privateContactTemplate"===e){form_type_emsFormBuilder="form";const e=private_contact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("curvedContactTemplate"===e){form_type_emsFormBuilder="form";const e=curved_contact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("register"===e)form_type_emsFormBuilder="register",json=[{type:"register",steps:1,formName:efb_var.text.register,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.register,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"emailRegisterEFB",show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB("register"),email_temp:"",sendEmail:!1,stateForm:!1},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:efb_var.text.registerForm,icon:"bi-box-arrow-in-right",step:1,amount:2,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"usernameRegisterEFB",dataId:"usernameRegisterEFB-id",type:"text",placeholder:efb_var.text.username,value:"",size:100,message:"",id:"",classes:"",name:efb_var.text.username,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"besie",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"passwordRegisterEFB",dataId:"passwordRegisterEFB-id",type:"password",placeholder:efb_var.text.password,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.password,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"emailRegisterEFB",dataId:"emailRegisterEFB-id",type:"email",placeholder:efb_var.text.email,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:9,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1}],valj_efb=json,localStorage.setItem("valj_efb",JSON.stringify(json));else if("login"===e)form_type_emsFormBuilder="login",json=[{type:"login",steps:1,formName:efb_var.text.login,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.login,button_color:"btn-darkb",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:!1,show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!1,stateForm:!1},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:efb_var.text.loginForm,icon:"bi-box-arrow-in-right",step:1,amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-dark",icon_color:"text-danger",visible:1},{id_:"emaillogin",dataId:"emaillogin-id",type:"text",placeholder:efb_var.text.emailOrUsername,value:"",size:100,message:"",id:"",classes:"",name:efb_var.text.emailOrUsername,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"passwordlogin",dataId:"passwordlogin-id",type:"password",placeholder:efb_var.text.password,value:"",size:100,message:"",id:"",classes:"",name:efb_var.text.password,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1}],valj_efb=json,localStorage.setItem("valj_efb",JSON.stringify(json));else if("support"===e){form_type_emsFormBuilder="form";const e=[{type:"form",steps:1,formName:efb_var.text.support,email:"",trackingCode:!0,EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"qas87uoct",show_icon:!0,show_pro_bar:!0,captcha:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!0,stateForm:!1,dShowBg:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"Support",icon:"bi-ui-checks-grid",step:"1",amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-dark",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"rhglopgi8",dataId:"rhglopgi8-id",type:"select",placeholder:"Select",value:"",size:"100",message:"",id:"",classes:"",name:"How can we help you?",required:!0,amount:2,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"b2xssuo2w",dataId:"b2xssuo2w-id",parent:"rhglopgi8",type:"option",value:"Accounting & Sell question",id_op:"n470h48lg",step:"1",amount:3},{id_:"b2xssuo2w",dataId:"b2xssuo2w-id",parent:"rhglopgi8",type:"option",value:"Technical & support question",id_op:"zu7f5aeob",step:"1",amount:4},{id_:"jv1l79ir1",dataId:"jv1l79ir1-id",parent:"rhglopgi8",type:"option",value:"General question",id_op:"jv1l79ir1",step:"1",amount:5},{id_:"59c0hfpyo",dataId:"59c0hfpyo-id",type:"text",placeholder:efb_var.text.subject,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.subject,required:0,amount:6,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"qas87uoct",dataId:"qas87uoct-id",type:"email",placeholder:efb_var.text.email,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:10,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"cqwh8eobv",dataId:"cqwh8eobv-id",type:"textarea",placeholder:efb_var.text.message,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.message,required:!0,amount:8,step:2,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:pro_efb}];localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("supportTicketForm"===e){form_type_emsFormBuilder="form";const e=support_ticket_form_efb();localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("orderForm"===e){form_type_emsFormBuilder="payment";const e=order_payment_form_efb();localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("customerFeedback"===e){form_type_emsFormBuilder="form";const e=customer_feedback_efb();localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("subscription"===e){form_type_emsFormBuilder="subscribe";const e=[{type:"subscribe",steps:1,formName:efb_var.text.subscribe,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.subscribe,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-d-efb",email_to:"82i3wedt1",show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!1,stateForm:!1,dShowBg:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"",icon:"bi-check2-square",step:1,amount:2,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"janf5eutd",dataId:"janf5eutd-id",type:"text",placeholder:efb_var.text.name,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.name,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:"txt-center",message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"82i3wedt1",dataId:"82i3wedt1-id",type:"email",placeholder:efb_var.text.email,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:"txt-center",message_align:"justify-content-start",el_align:"justify-content-start",pro:!1}];localStorage.setItem("valj_efb",JSON.stringify(e)),valj_efb=e}else if("survey"==e){form_type_emsFormBuilder="survey";const e=[{type:"survey",steps:1,formName:efb_var.text.survey,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:!1,show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!1,stateForm:!1},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"Survey form",icon:"bi-clipboard-data",step:"1",amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"6af03cgwb",dataId:"6af03cgwb-id",type:"select",placeholder:"Select",value:"",size:100,message:"",id:"",classes:"",name:"what is your favorite food ?",required:!0,amount:2,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"wxgt1tvri",dataId:"wxgt1tvri-id",parent:"6af03cgwb",type:"option",value:"Pasta",id_op:"n9r68xhl1",step:"1",amount:3},{id_:"wxgt1tvri",dataId:"wxgt1tvri-id",parent:"6af03cgwb",type:"option",value:"Pizza",id_op:"khp0a798x",step:"1",amount:4},{id_:"6x1lv1ufx",dataId:"6x1lv1ufx-id",parent:"6af03cgwb",type:"option",value:"Fish and seafood",id_op:"6x1lv1ufx",step:"1",amount:5},{id_:"yythlx4tt",dataId:"yythlx4tt-id",parent:"6af03cgwb",type:"option",value:"Vegetables",id_op:"yythlx4tt",step:"1",amount:6},{id_:"fe4q562zo",dataId:"fe4q562zo-id",type:"checkbox",placeholder:"Check Box",value:"",size:"50",message:"",id:"",classes:"",name:"Lnaguage",required:0,amount:7,step:"1",label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"khd2i7ubz",dataId:"khd2i7ubz-id",parent:"fe4q562zo",type:"option",value:"English",id_op:"khd2i7ubz",step:"1",amount:8},{id_:"93hao0zca",dataId:"93hao0zca-id",parent:"fe4q562zo",type:"option",value:"French",id_op:"93hao0zca",step:"1",amount:9},{id_:"75bcbj6s1",dataId:"75bcbj6s1-id",parent:"fe4q562zo",type:"option",value:"German",id_op:"75bcbj6s1",step:"1",amount:10},{id_:"lh1csq8mw",dataId:"lh1csq8mw-id",parent:"fe4q562zo",type:"option",value:"Russian",id_op:"lh1csq8mw",step:"1",amount:11},{id_:"5gopt8r6b",dataId:"5gopt8r6b-id",parent:"fe4q562zo",type:"option",value:"Portuguese",id_op:"5gopt8r6b",step:"1",amount:12},{id_:"v57zhziyi",dataId:"v57zhziyi-id",parent:"fe4q562zo",type:"option",value:"Hindi",id_op:"v57zhziyi",step:"1",amount:13},{id_:"16suwyx5m",dataId:"16suwyx5m-id",type:"radio",placeholder:"Radio Button",value:"",size:"50",message:"",id:"",classes:"",name:"Gender",required:0,amount:14,step:"1",label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:a,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"ha0sfnwbp",dataId:"ha0sfnwbp-id",parent:"16suwyx5m",type:"option",value:"Male",id_op:"ha0sfnwbp",step:"1",amount:15},{id_:"w3jpyg24h",dataId:"w3jpyg24h-id",parent:"16suwyx5m",type:"option",value:"Female",id_op:"w3jpyg24h",step:"1",amount:16},{id_:"in4xa2y0f",dataId:"in4xa2y0f-id",parent:"16suwyx5m",type:"option",value:"Non-binary",id_op:"in4xa2y0f",step:"1",amount:17},{id_:"1028hto5a",dataId:"1028hto5a-id",parent:"16suwyx5m",type:"option",value:"Transgender",id_op:"1028hto5a",step:"1",amount:18},{id_:"rz3vkawya",dataId:"rz3vkawya-id",parent:"16suwyx5m",type:"option",value:"Intersex",id_op:"rz3vkawya",step:"1",amount:19},{id_:"2oezrrpny",dataId:"2oezrrpny-id",parent:"16suwyx5m",type:"option",value:"I prefer not to say",id_op:"2oezrrpny",step:"1",amount:20}];valueJson_ws_p=e,valj_efb=e,localStorage.setItem("valj_efb",JSON.stringify(e))}else"reservation"==e||("payment"==e?(form_type_emsFormBuilder="payment",valj_efb=[]):"booking"==e&&(valj_efb=[{type:"form",steps:1,formName:"booking",email:"",trackingCode:!0,EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"qas87uoct",show_icon:!0,show_pro_bar:!0,captcha:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!0,stateForm:!1,dShowBg:!0,booking:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"booking form",icon:"bi-check2",step:"1",amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1}],form_type_emsFormBuilder="form",valueJson_ws_p=valj_efb));formName_Efb=form_type_emsFormBuilder,"npreview"==t?(creator_form_builder_Efb(),"form"!=e&&"payment"!=e&&"smart"!=e&&setTimeout((()=>{editFormEfb()}),100)):previewFormEfb("pre")}function head_introduce_efb(e){const t="create"==e?"#form":"admin.php?page=Emsfb_create";let a=`${efb_var.text.efbIsTheUserSentence} ${efb_var.text.efbYouDontNeedAnySentence}`,l=mobile_view_efb?"":"btn-lg",s="",o=`<div class="efb mx-3 col-lg-4 mt-2 pd-5 col-md-10 col-sm-12 alert alert-light pointer-efb" onclick="Link_emsFormBuilder('price')">\n  <i class="efb bi-diamond text-pinkEfb mx-1"></i>\n  <span class="efb text-dark">${efb_var.text.getPro}</span><br>\n  ${efb_var.text.yFreeVEnPro.replace("NN","19.5")}\n  </div>`;return"create"!=e&&(s=`\n    \n                  <div class="efb clearfix"></div>                 \n                  <p class="efb card-text  ${"create"==e?"card-text":"text-dark"} efb pb-3 ${mobile_view_efb?"fs-7":"fs-6"}">${a}</p>\n                  \n    <a class="efb btn btn-r btn-primary ${l}" href="${t}"><i class="efb  bi-plus-circle mx-1"></i>${efb_var.text.createForms}</a>\n    <a class="efb btn mt-1 efb btn-outline-pink ${l}" onClick="Link_emsFormBuilder('tutorial')"><i class="efb  bi-info-circle mx-1"></i>${efb_var.text.tutorial}</a>`),`<section id="header-efb" class="efb   ${"create"==e?"":"card col-12 bg-color"}">\n  <div class="efb row ${mobile_view_efb?"mx-2":"mx-5"}">\n              <div class="efb col-lg-7 mt-2 pd-5 col-md-12">\n                  <img src="${efb_var.images.logo}" class="efb description-logo  ${mobile_view_efb?"m-1":""} efb">\n                  <h1 class="efb  pointer-efb mb-0 ${mobile_view_efb?"fs-6":""}" onClick="Link_emsFormBuilder('efb')" >${efb_var.text.easyFormBuilder}</h1>\n                  <h3 class="efb  pointer-efb  ${"create"==e?"card-text ":"text-darkb"} ${mobile_view_efb?"fs-7":"fs-6"}" onClick="Link_emsFormBuilder('ws')" >${efb_var.text.byWhiteStudioTeam}</h3>\n                  ${s}\n                 \n              </div>\n              ${"create"!=e||0!=efb_var.pro&&"false"!=efb_var.pro?"":o}\n              ${"create"!=e&&mobile_view_efb?`<div class="efb col-lg-5 col-md-12 "> <img src="${efb_var.images.head}" class="efb img-fluid"></div>`:""}\n              ${"create"!=e&&0==mobile_view_efb?`<div class="efb col-lg-5 col-md-12 "> <img src="${efb_var.images.head}" class="efb img-fluid"></div>`:""}  \n    </div>  \n  </section> `}function sideMenuEfb(e){let t=document.getElementById("sideBoxEfb");0==e?(t.classList.remove("show"),document.getElementById("sideMenuConEfb").innerHTML=`<div class="efb my-5" id=""><div class="efb  lds-hourglass"></div><h3 class="efb fs-3">${efb_var.text.pleaseWaiting}</h3></div>`,document.getElementById("sideMenuFEfb").classList.add("efbDW-0"),t.classList.add("efbDW-0")):(document.getElementById("sideBoxEfb").classList.remove("efbDW-0"),document.getElementById("sideMenuFEfb").classList.remove("efbDW-0"),t.classList.add("show"))}fun_preview_before_efb=(e,t,a)=>{valj_efb=[],show_modal_efb("",efb_var.text.preview,"bi-check2-circle","saveLoadingBox"),state_modal_show_efb(1),"local"==t&&create_form_by_type_emsfb(e,"pre")},window.onload=()=>{setTimeout((()=>{for(const e of document.querySelectorAll(".notice"))e.remove()}),50),document.body.scrollTop},switch_color_efb=e=>{let t;switch(e){case"#0d6efd":t="primary";break;case"#198754":t="success";break;case"#6c757d":t="secondary";break;case"#ff455f":t="danger";break;case"#e9c31a":t="warning";break;case"#31d2f2":t="info";break;case"#fbfbfb":t="light";break;case"#202a8d":t="darkb";break;case"#898aa9":t="labelEfb";break;case"#ff4b93":t="pinkEfb";break;case"#ffffff":t="white";break;case"#212529":t="dark";break;case"#777777":t="muted ";break;default:t="colorDEfb-"+e.slice(1)}return t},ColorNameToHexEfbOfElEfb=(e,t,a)=>{let l,s;switch(a){case"label":s="style_label_color";break;case"description":s="style_message_text_color";break;case"el":s="style_el_text_color";break;case"btn":s="style_btn_text_color";break;case"icon":s="style_icon_color";break;case"border":s="style_border_color";break}switch(e){case"primary":l="#0d6efd";break;case"success":l="#198754";break;case"secondary":l="#6c757d";break;case"danger":l="#ff455f";break;case"warning":l="#e9c31a";break;case"info":l="#31d2f2";break;case"light":l="#fbfbfb";break;case"darkb":l="#202a8d";break;case"labelEfb":l="#898aa9";break;case"d":l="#83859f";break;case"pinkEfb":l="#ff4b93";break;case"white":l="#ffffff";break;case"dark":l="#212529";break;case"muted":l="#777777";break;case"muted":l="#777777";break;default:const t="colorDEfb-".length;e.includes("colorDEfb")&&(l="#"+e.slice(t))}return l},addColorTolistEfb=e=>{const t=document.getElementById("color_list_efb"),a=t.childNodes;let l=!1;a.forEach(((t,a)=>{0!=a&&t.value.includes(e)&&(l=!0)})),l||(t.innerHTML+=`<option name="addUser" value="${e}">`)};const funSetCornerElEfb=(e,t)=>{const a=valj_efb.findIndex((t=>t.dataId==e));let l=document.querySelector(`[data-id='${e}-set']`);if("undefined"==l.dataset.side||""==l.dataset.side){valj_efb[a].corner=t,postId="dadfile"!=l.dataset.tag?`${valj_efb[a].id_}_`:`${valj_efb[a].id_}_box`;let e=document.getElementById(postId);fun_el_select_in_efb(l.dataset.tag)&&(e=document.getElementById(`${postId}options`)),"esign"==l.dataset.tag?e=document.getElementById(`${valj_efb[a].id_}_b`):"dadfile"==l.dataset.tag&&(e=document.getElementById(`${valj_efb[a].id_}_box`)),e.className=cornerChangerEfb(e.className,t)}else"yesNo"==l.dataset.side?(valj_efb[a].corner=t,document.getElementById(`${valj_efb[a].id_}_b_1`).className=cornerChangerEfb(document.getElementById(`${valj_efb[a].id_}_b_1`).className,t),document.getElementById(`${valj_efb[a].id_}_b_2`).className=cornerChangerEfb(document.getElementById(`${valj_efb[a].id_}_b_2`).className,t)):(valj_efb[0].corner=t,postId=document.getElementById("btn_send_efb"),postId.classList.toggle("efb-square"),postId.className=cornerChangerEfb(postId.className,t),document.getElementById("next_efb").className=cornerChangerEfb(document.getElementById("next_efb").className,t),document.getElementById("prev_efb").className=cornerChangerEfb(document.getElementById("prev_efb").className,t))};let change_el_edit_Efb=e=>{let t=valj_efb.length;if(e.value.length>0&&(-1!=e.value.search(/(")+/g)||-1!=e.value.search(/(>)+/g)||-1!=e.value.search(/(<)+/g))&&"htmlCodeEl"!=e.id)return e.value=e.value.replaceAll('"',""),void alert_message_efb(efb_var.text.error,"Don't use forbidden Character likes: [\"][<][>]",10,"danger");if("htmlCodeEl"==e.id&&(e.value=e.value.replaceAll('"',"'")),t>20){timeout=5;const a=calPLenEfb(t)/2;"multiselect"!=e.dataset.tag&&"payMultiselect"!=e.dataset.tag||(timeout=100),t=t*Math.log(t)*a,setTimeout((()=>{document.getElementById("overlay_efb").classList.remove("d-none"),document.getElementById("overlay_efb").classList.add("d-block"),setTimeout((()=>{document.getElementById("overlay_efb").classList.remove("d-block")}),t),clearTimeout(t)}),timeout),clearTimeout(timeout)}let a=e.dataset.id.includes("step-")?e.dataset.id.slice(5):e.dataset.id;a=e.dataset.id.includes("Next_")||e.dataset.id.includes("Previous_")?0:a;let l="button_group"!=e.dataset.id&&"button_group_"!=e.dataset.id&&0!=a?valj_efb.findIndex((e=>e.dataId==a||e.dataId==a+"-id")):0;const s=valj_efb.length;a=null;let o,n,r="";setTimeout((()=>{if(e.hasAttribute("value")&&"htmlCodeEl"!=e.id&&(e.value="url"!=e.type?sanitize_text_efb(e.value):e.value.replace(/[<>()[\ ]]/g,"")),null==e.value)return valNotFound_efb();switch(e.id){case"labelEl":valj_efb[l].name=e.value,document.getElementById(`${valj_efb[l].id_}_lab`).innerHTML=sanitize_text_efb(e.value);break;case"desEl":valj_efb[l].message=e.value,document.getElementById(`${valj_efb[l].id_}-des`).innerHTML=sanitize_text_efb(e.value);break;case"bookDateExpEl":0==valj_efb[l].hasOwnProperty("dateExp")&&Object.assign(valj_efb[l],{dateExp:""}),valj_efb[l].dateExp=e.value;break;case"mLenEl":if(Number(e.value)>524288&&"range"!=valj_efb[l].type)e.value="",alert_message_efb("",efb_var.text.mmlen,15,"warning");else if(0==valj_efb[l].hasOwnProperty("mlen")&&Object.assign(valj_efb[l],{mlen:"0"}),valj_efb[l].mlen=e.value,valj_efb[l].hasOwnProperty("milen")&&Number(valj_efb[l].mlen)<Number(valj_efb[l].milen)){alert_message_efb("",efb_var.text.mxlmn,15,"warning"),delete valj_efb[l].mlen,e.value=0;break}1==valj_efb[0].hasOwnProperty("booking")&&0==valj_efb[l].hasOwnProperty("registered_count")&&Object.assign(valj_efb[l],{registered_count:0});break;case"textEl":valj_efb[l][e.dataset.atr]=sanitize_text_efb(e.value),o=valj_efb[l].id_+"_"+e.dataset.atr,document.getElementById(o).innerHTML=sanitize_text_efb(e.value);break;case"miLenEl":if(0==Number(e.value)||-1==Number(e.value))r=document.getElementById(`${valj_efb[l].id_}_req`).innerHTML,valj_efb[l].required=0!=r.length?1:0,valj_efb[l].milen=0;else if(Number(e.value)>524288&&"range"!=valj_efb[l].type)e.value="",alert_message_efb("",efb_var.text.mmlen,15,"warning"),valj_efb[l].milen=0;else{if(valj_efb[l].milen=sanitize_text_efb(e.value),valj_efb[l].hasOwnProperty("mlen")&&Number(valj_efb[l].mlen)<Number(valj_efb[l].milen)){alert_message_efb("",efb_var.text.mxlmn,15,"warning"),delete valj_efb[l].milen,e.value=0;break}"range"!=valj_efb[l].type&&(valj_efb[l].required=1)}break;case"adminFormEmailEl":if("1"==efb_var.smtp){if(e.value.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/))return valj_efb[0].email=e.value,valj_efb[0].sendEmail=!0,!0;""!=e.value&&alert_message_efb(efb_var.text.error,efb_var.text.invalidEmail,10,"danger"),document.getElementById("adminFormEmailEl")&&(document.getElementById("adminFormEmailEl").value=""),valj_efb[0].email=""}else"-1"==efb_var.smtp?(document.getElementById("adminFormEmailEl")&&(document.getElementById("adminFormEmailEl").value=""),alert_message_efb(efb_var.text.error,efb_var.text.goToEFBAddEmailM,30,"danger")):(document.getElementById("adminFormEmailEl")&&(document.getElementById("adminFormEmailEl").value=""),alert_message_efb(efb_var.text.error,efb_var.text.sMTPNotWork,20,"danger"));valj_efb[0].sendEmail=!1;break;case"cardEl":valj_efb[0].dShowBg?valj_efb[0].dShowBg=e.classList.contains("active"):Object.assign(valj_efb[0],{dShowBg:e.classList.contains("active")});break;case"offLineEl":0!=efb_var.addons.AdnOF?valj_efb[0].AfLnFrm?valj_efb[0].AfLnFrm=e.classList.contains("active"):Object.assign(valj_efb[0],{AfLnFrm:e.classList.contains("active")}):(e.checked=!1,e.classList.remove("active"),alert_message_efb(efb_var.text.error,`${efb_var.text.IMAddons} ${efb_var.text.offlineTAddon}`,20,"danger"));break;case"requiredEl":valj_efb[l].required=1==e.classList.contains("active")?1:0,document.getElementById(`${valj_efb[l].id_}_req`).innerHTML=1==valj_efb[l].required?"*":"";a={email:"_",text:"_",password:"_",tel:"_",url:"_",date:"_",color:"_",range:"_",number:"_",file:"_",textarea:"_",dadfile:"_",maps:"-map",checkbox:"_options",radio:"_options",select:"_options",multiselect:"_options",esign:"-sig-data",rating:"-stared",yesNo:"_yn"}[valj_efb[l].type],id=valj_efb[l].id_,a=document.getElementById(`${id}${a}`),a&&a.classList.toggle("required");break;case"hideLabelEl":o=1==e.classList.contains("active")?1:0,valj_efb[l].hflabel=o,r=document.getElementById(`${e.dataset.id}_lab_g`),1==o?(document.getElementById(`${valj_efb[l].id_}_labG`).classList.add("d-none"),funSetPosElEfb(valj_efb[l].dataId,"up")):document.getElementById(`${valj_efb[l].id_}_labG`).classList.remove("d-none");break;case"hiddenEl":valj_efb[l].hidden=1==e.classList.contains("active")?1:0,1==valj_efb[l].hidden?(o=document.getElementById(valj_efb[l].id_),r=document.createElement("div"),r.id=valj_efb[l].id_+"-hidden",o.insertBefore(r,o.firstChild),document.getElementById(valj_efb[l].id_+"-hidden").innerHTML=hiddenMarkEl(valj_efb[l].id_),document.getElementById(valj_efb[l].id_).classList.add("hidden")):(document.getElementById(`${valj_efb[l].id_}-hidden`).remove(),document.getElementById(valj_efb[l].id_).classList.remove("hidden"));break;case"disabledEl":a=valj_efb[l].id_,r=document.getElementById(a).classList,o=1==e.classList.contains("active")?1:0,1==o?r.add("disabled"):r.remove("disabled"),valj_efb[l].disabled=o;break;case"SendemailEl":"true"==efb_var.smtp||1==efb_var.smtp?valj_efb[0].email_to=e.dataset.vid:(document.getElementById("SendemailEl").checked=!1,alert_message_efb(efb_var.text.error,efb_var.text.sMTPNotWork,20,"danger"));break;case"formNameEl":valj_efb[0].formName=sanitize_text_efb(e.value);break;case"trackingCodeEl":valj_efb[0].trackingCode=!!e.classList.contains("active");break;case"thankYouMessageDoneEl":valj_efb[0].thank_you_message.done=sanitize_text_efb(e.value);break;case"thankYouMessageEl":valj_efb[0].thank_you_message.thankYou=sanitize_text_efb(e.value);break;case"thankYouMessageConfirmationCodeEl":valj_efb[0].thank_you_message.trackingCode=sanitize_text_efb(e.value);break;case"thankYouMessageErrorEl":valj_efb[0].thank_you_message.error=sanitize_text_efb(e.value);break;case"thankYouMessagepleaseFillInRequiredFieldsEl":valj_efb[0].thank_you_message.pleaseFillInRequiredFields=sanitize_text_efb(e.value);break;case"captchaEl":"true"==efb_var.captcha&&"payment"!=valj_efb[0].type?(valj_efb[0].captcha=1==e.classList.contains("active"),document.getElementById("recaptcha_efb")&&(1==e.classList.contains("active")?document.getElementById("recaptcha_efb").classList.remove("d-none"):document.getElementById("recaptcha_efb").classList.add("d-none"))):"payment"==valj_efb[0].type?(document.getElementById("captchaEl").checked=!1,alert_message_efb(efb_var.text.reCAPTCHA,efb_var.text.paymentNcaptcha,20,"danger")):(document.getElementById("captchaEl").checked=!1,alert_message_efb(efb_var.text.reCAPTCHA,efb_var.text.reCAPTCHASetError,20,"danger")),1!=efb_var.captcha&&"true"!=efb_var.captcha&&e.classList.remove("active");break;case"showSIconsEl":valj_efb[0].show_icon=1==e.classList.contains("active");break;case"showSprosiEl":valj_efb[0].show_pro_bar=1==e.classList.contains("active");break;case"showformLoggedEl":valj_efb[0].stateForm=1==e.classList.contains("active");break;case"placeholderEl":document.querySelector(`[data-id="${valj_efb[l].id_}-el"]`).placeholder=sanitize_text_efb(e.value),valj_efb[l].placeholder=sanitize_text_efb(e.value);break;case"enableConEl":r=!0;const i=()=>{document.getElementById("logic_options").classList.remove("d-none"),document.getElementById("logic_options").classList.add("d-block")};if(a=e.dataset.setid,0==valj_efb[0].hasOwnProperty("logic")&&(Object.assign(valj_efb[0],{logic:!0}),Object.assign(valj_efb[0],{conditions:[]}),r=!1),o=1==e.classList.contains("active"),1==r?(r=valj_efb[0].conditions.findIndex((e=>e.id_==a)),-1!=r?(valj_efb[0].conditions[r].state=o,0==o?(document.getElementById("logic_options").classList.remove("d-block"),document.getElementById("logic_options").classList.add("d-none")):(i(),valj_efb[0].logic=!0)):1==o&&(i(),valj_efb[0].conditions.push({id_:a,state:o,show:!0,condition:[{no:"0",term:"is",one:"",two:""}]}))):(i(),valj_efb[0].conditions.push({id_:a,state:o,show:!0,condition:[{no:"0",term:"is",one:"",two:""}]})),0==o||0==o){for(var t=0;t<valj_efb[0].conditions.length;t++)1==valj_efb[0].conditions[t].state&&(o=!0);1!=o&&(valj_efb[0].logic=!1)}break;case"valueEl":"yesNo"!=e.dataset.tag&&"heading"!=e.dataset.tag&&"textarea"!=e.dataset.tag&&"link"!=e.dataset.tag?(document.getElementById(`${valj_efb[l].id_}_`).value=sanitize_text_efb(e.value),valj_efb[l].value=sanitize_text_efb(e.value)):"heading"==e.dataset.tag||"link"==e.dataset.tag||"textarea"==e.dataset.tag?(document.getElementById(`${valj_efb[l].id_}_`).innerHTML=sanitize_text_efb(e.value),valj_efb[l].value=sanitize_text_efb(e.value)):(id=`${valj_efb[l].id_}_${e.dataset.no}`,document.getElementById(id).value=sanitize_text_efb(e.value),document.getElementById(`${id}_lab`).innerHTML=sanitize_text_efb(e.value),1==e.dataset.no?valj_efb[l].button_1_text=sanitize_text_efb(e.value):valj_efb[l].button_2_text=sanitize_text_efb(e.value));break;case"classesEl":id=valj_efb[l].id_;for(let t of document.querySelectorAll(`[data-css='${id}']`)){const a=e.value.replace(" ",",");r=t.className,1==t.classList.contains("efb1")&&(o=r.indexOf("efb1"),r=r.slice(0,o)),t.className=r+" efb1 "+sanitize_text_efb(e.value.replace(","," ")),valj_efb[l].classes=sanitize_text_efb(a)}break;case"sizeEl":a=document.getElementById(`${valj_efb[l].id_}_labG`),valj_efb[l].hasOwnProperty("size")&&Object.assign(valj_efb[l],{size:100});const d=e.options[e.selectedIndex].value;valj_efb[l].size=d,get_position_col_el(valj_efb[l].dataId,!0);break;case"cornerEl":const _=e.options[e.selectedIndex].value;if("undefined"==e.dataset.side||""==e.dataset.side){valj_efb[l].corner=_,a="dadfile"!=e.dataset.tag?`${valj_efb[l].id_}_`:`${valj_efb[l].id_}_box`;let t=document.getElementById(a);fun_el_select_in_efb(e.dataset.tag)&&(t="conturyList"==e.dataset.tag||"stateProvince"==e.dataset.tag||"select"==e.dataset.tag?document.getElementById(`${a}options`):document.getElementById(`${id}ms`)),t.classList.toggle("efb-square"),"dadfile"!=e.dataset.tag&&"esign"!=e.dataset.tag||document.getElementById(`${valj_efb[l].id_}_b`).classList.toggle("efb-square")}else valj_efb[0].corner=_,a=document.getElementById("btn_send_efb"),a.classList.toggle("efb-square"),document.getElementById("next_efb").classList.toggle("efb-square"),document.getElementById("prev_efb").classList.toggle("efb-square");break;case"labelFontSizeEl":valj_efb[l].label_text_size=e.options[e.selectedIndex].value;let b=document.getElementById(`${valj_efb[l].id_}_lab`);const c=e.options[e.selectedIndex].value;if(b.className=fontSizeChangerEfb(b.className,c),"step"==e.dataset.tag){let e=document.getElementById(`${valj_efb[l].id_}_icon`);e.className=fontSizeChangerEfb(e.className,c)}break;case"optnsStyleEl":if(valj_efb[l].op_style=e.options[e.selectedIndex].value,o=document.getElementById(`${valj_efb[l].id_}_options`),"1"!=valj_efb[l].op_style){o.classList.contains("row")||(o.className+=" row col-md-12"),r="2"==valj_efb[l].op_style?"col-md-6":"col-md-4";for(let e of document.querySelectorAll(`[data-parent='${valj_efb[l].id_}'].form-check`))e.className=colMdRemoveEfb(e.className),e.classList.add(r)}else if(o.classList.contains("row")){o.classList.remove("row"),o.classList.remove("col-md-12");for(let e of document.querySelectorAll(`[data-parent='${valj_efb[l].id_}'].form-check`))e.className=colMdRemoveEfb(e.className)}break;case"thankYouTypeEl":valj_efb[0].thank_you=e.options[e.selectedIndex].value;const f=document.querySelectorAll(".efb.tnxmsg");if(e=document.getElementById("tnxrdrct"),"msg"!=valj_efb[0].thank_you){for(let e=0;e<f.length;e++)f[e].classList.remove("d-block"),f[e].classList.add("d-none");e.classList.remove("d-none"),e.classList.add("d-block")}else{for(let e=0;e<f.length;e++)f[e].classList.remove("d-none"),f[e].classList.add("d-block");e.classList.remove("d-block"),e.classList.add("d-none")}1!=pro_efb&&(valj_efb[0].thank_you="msg",valj_efb[0].rePage="");break;case"thankYouredirectEl":if(a=e.value.match(/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/gi),1!=pro_efb){pro_show_efb(1),valj_efb[0].thank_you="msg",valj_efb[0].rePage="";break}const m=e=>e=(e=(e=e.replace(/(http:\/\/)+/g,"http:@efb@")).replace(/(https:\/\/)+/g,"https:@efb@")).replace(/([/])+/g,"@efb@");null!=a?(valj_efb[0].rePage=m(e.value),valj_efb[0].thank_you="rdrct"):(valj_efb[0].thank_you="msg",valj_efb[0].rePage="",alert_message_efb(efb_var.text.error,efb_var.text.enterValidURL,8,"warning"));break;case"paymentGetWayEl":valj_efb[0].payment=e.options[e.selectedIndex].value;break;case"paymentMethodEl":valj_efb[0].paymentmethod=e.options[e.selectedIndex].value,e=document.getElementById("chargeEfb"),"charge"==valj_efb[0].paymentmethod?(e.innerHTML=efb_var.text.onetime,0==e.classList.contains("one")&&e.classList.add("one")):(id=`${valj_efb[0].paymentmethod}ly`,e.innerHTML=efb_var.text[id],0==e.classList.contains("one")&&e.classList.remove("one"));break;case"currencyTypeEl":valj_efb[0].currency=e.options[e.selectedIndex].value.slice(0,3);for(const e of document.querySelectorAll(".totalpayEfb"))0==e.classList.contains("ir")&&(e.innerHTML=Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:valj_efb[0].currency}));for(const e of document.querySelectorAll(".efb-crrncy"))e.innerHTML=Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:valj_efb[0].currency});break;case"fileTypeEl":valj_efb[l].file=e.options[e.selectedIndex].value,valj_efb[l].value=e.options[e.selectedIndex].value;let u=e.options[e.selectedIndex].value.toLowerCase();u=efb_var.text[u],document.getElementById(`${valj_efb[l].id_}_txt`)&&(document.getElementById(`${valj_efb[l].id_}_txt`).innerHTML=`${efb_var.text.dragAndDropA} ${u}`);break;case"btnColorEl":n=e.value,r=switch_color_efb(n),r.includes("colorDEfb")&&addStyleColorBodyEfb(r,n,"btn",l),0!=l?"yesNo"!=e.dataset.tag?0==l&&1==valj_efb[l].step||l>0?document.getElementById(`${valj_efb[l].id_}_b`).className=colorBtnChangerEfb(document.getElementById(`${valj_efb[l].id_}_b`).className,"btn-"+r):(document.getElementById("prev_efb").className=colorBtnChangerEfb(document.getElementById("prev_efb").className,"btn-"+r),document.getElementById("next_efb").className=colorBtnChangerEfb(document.getElementById("next_efb").className,"btn-"+r)):(document.getElementById(`${valj_efb[l].id_}_b_1`).className=colorBtnChangerEfb(document.getElementById(`${valj_efb[l].id_}_b_1`).className,"btn-"+r),document.getElementById(`${valj_efb[l].id_}_b_2`).className=colorBtnChangerEfb(document.getElementById(`${valj_efb[l].id_}_b_2`).className,"btn-"+r)):(document.getElementById("btn_send_efb").className=colorBtnChangerEfb(document.getElementById("btn_send_efb").className,"btn-"+r),document.getElementById("next_efb").className=colorBtnChangerEfb(document.getElementById("next_efb").className,"btn-"+r),document.getElementById("prev_efb").className=colorBtnChangerEfb(document.getElementById("prev_efb").className,"btn-"+r)),valj_efb[l].button_color="btn-"+r,r.includes("colorDEfb")&&(valj_efb[l].style_btn_color?valj_efb[l].style_btn_color=n:Object.assign(valj_efb[l],{style_btn_color:n}));break;case"selectColorEl":if(n=e.value,o=switch_color_efb(n),o.includes("colorDEfb")&&addStyleColorBodyEfb(o,n,"text",l),a="","label"==e.dataset.el)valj_efb[l].label_text_color="text-"+o,a="step"!=valj_efb[l].type?"_labG":"_lab";else if("description"==e.dataset.el)valj_efb[l].message_text_color="text-"+o,a="-des";else if("icon"==e.dataset.el)valj_efb[l].icon_color="text-"+o,a="_icon";else if("el"==e.dataset.el)valj_efb[l].el_text_color="text-"+o,a="_";else{if("clrdoneMessageEfb"==e.dataset.el)return void(valj_efb[0].clrdoneMessageEfb="text-"+o);if("clrdoneTitleEfb"==e.dataset.el)return void(valj_efb[0].clrdoneTitleEfb="text-"+o);if("clrdoniconEfb"==e.dataset.el)return void(valj_efb[0].clrdoniconEfb="text-"+o);if("progessbar"==e.dataset.el)return void(0==valj_efb[0].hasOwnProperty("prg_bar_color")?Object.assign(valj_efb[0],{prg_bar_color:"btn-"+o}):valj_efb[0].prg_bar_color="btn-"+o)}if("form"!=e.dataset.tag&&"payment"!=e.dataset.tag&&"login"!=e.dataset.tag&&"register"!=e.dataset.tag&&"survey"!=e.dataset.tag&&("select"==e.dataset.tag&&"el"!=e.dataset.el||"radio"==e.dataset.tag&&"el"!=e.dataset.el||"checkbox"==e.dataset.tag&&"el"!=e.dataset.el||"payCheckbox"==e.dataset.tag&&"el"!=e.dataset.el||"chlCheckBox"==e.dataset.tag&&"el"!=e.dataset.el||"payRadio"==e.dataset.tag&&"el"!=e.dataset.el||"yesNo"==e.dataset.tag&&"el"!=e.dataset.el||"stateProvince"==e.dataset.tag&&"el"!=e.dataset.el||"conturyList"==e.dataset.tag&&"el"!=e.dataset.el||"yesNo"!=e.dataset.tag&&"checkbox"!=e.dataset.tag&&"payCheckbox"!=e.dataset.tag&&"payRadio"!=e.dataset.tag&&"radio"!=e.dataset.tag&&"select"!=e.dataset.tag&&"stateProvince"!=e.dataset.tag&&"conturyList"!=e.dataset.tag&&"chlCheckBox"!=e.dataset.tag))document.getElementById(`${valj_efb[l].id_}${a}`).className=colorTextChangerEfb(document.getElementById(`${valj_efb[l].id_}${a}`).className,"text-"+o);else if("form"==e.dataset.tag||"payment"==e.dataset.tag||"login"==e.dataset.tag||"register"==e.dataset.tag||"survey"==e.dataset.tag)"icon"!=e.dataset.el&&"el"!=e.dataset.el?(document.getElementById(`${valj_efb[0].id_}${a}`).className=colorTextChangerEfb(document.getElementById(`${valj_efb[0].id_}${a}`).className,"text-"+o),"colorDEf"==o&&(document.getElementById(`${valj_efb[l].id_}${a}`).style.color="#"+n)):"icon"==e.dataset.el?(document.getElementById("button_group_icon").className=colorTextChangerEfb(document.getElementById("button_group_icon").className,"text-"+o),document.getElementById("button_group_Next_icon").className=colorTextChangerEfb(document.getElementById("button_group_Next_icon").className,"text-"+o),document.getElementById("button_group_Previous_icon").className=colorTextChangerEfb(document.getElementById("button_group_Previous_icon").className,"text-"+o)):"el"==e.dataset.el&&(document.getElementById("button_group_button_single_text").className=colorTextChangerEfb(document.getElementById("button_group_button_single_text").className,"text-"+o),document.getElementById("button_group_Next_button_text").className=colorTextChangerEfb(document.getElementById("button_group_Next_button_text").className,"text-"+o),document.getElementById("button_group_Previous_button_text").className=colorTextChangerEfb(document.getElementById("button_group_Previous_button_text").className,"text-"+o));else if("checkbox"==e.dataset.tag||"radio"==e.dataset.tag||"chlCheckBox"==e.dataset.tag){const e=valj_efb.filter((e=>e.parent===valj_efb[l].id_));for(let t of e){let e=document.getElementById(`${t.id_}_lab`);e.className=colorTextChangerEfb(e.className,"text-"+o)}}else if("payCheckbox"==e.dataset.tag||"payRadio"==e.dataset.tag){const e=valj_efb.filter((e=>e.parent===valj_efb[l].id_));for(let t of e){let e=document.getElementById(`${t.id_}_lab`),a=document.getElementById(`${t.id_}-price`);e.className=colorTextChangerEfb(e.className,"text-"+o),a.className=colorTextChangerEfb(e.className,"text-"+o)}}else if("select"==e.dataset.tag||"stateProvince"==e.dataset.tag||"conturyList"==e.dataset.tag){const e=valj_efb.filter((e=>e.parent===valj_efb[l].id_));for(let t of e)try{let e=document.querySelector(`[data-op="${t.id_op}"]`);e.className=colorTextChangerEfb(e.className,"text-"+o)}catch{}}else"yesNo"==e.dataset.tag&&(document.getElementById(`${valj_efb[l].id_}_b_1`).className=colorTextChangerEfb(document.getElementById(`${valj_efb[l].id_}_b_1`).className,"text-"+o),document.getElementById(`${valj_efb[l].id_}_b_2`).className=colorTextChangerEfb(document.getElementById(`${valj_efb[l].id_}_b_2`).className,"text-"+o));if(o.includes("colorDEfb"))switch(e.dataset.el){case"label":valj_efb[l].style_label_color?valj_efb[l].style_label_color=n:Object.assign(valj_efb[l],{style_label_color:n});break;case"description":valj_efb[l].style_label_color?valj_efb[l].style_message_text_color=n:Object.assign(valj_efb[l],{style_message_text_color:n});break;case"el":valj_efb[l].el_text_color?valj_efb[l].style_el_text_color=n:Object.assign(valj_efb[l],{style_el_text_color:n});break;case"icon":valj_efb[l].style_icon_color?valj_efb[l].style_icon_color=n:Object.assign(valj_efb[l],{style_icon_color:n});break;default:break}break;case"selectBorderColorEl":n=e.value,o=switch_color_efb(n),o.includes("colorDEfb")&&addStyleColorBodyEfb(o,n,"border",l),a="_","dadfile"==e.dataset.tag?a="_box":fun_el_select_in_efb(e.dataset.tag)&&(a="_options"),setTimeout((()=>{const e=document.getElementById(`${valj_efb[l].id_}${a}`);e.className=colorBorderChangerEfb(e.className,`border-${o}`)}),100),valj_efb[l].el_border_color=`border-${o}`,o.includes("colorDEfb")&&(valj_efb[l].style_border_color?valj_efb[l].style_border_color=n:Object.assign(valj_efb[l],{style_border_color:n}));break;case"fontSizeEl":valj_efb[l].el_text_size=e.options[e.selectedIndex].value,id=`${valj_efb[l].id_}_`,document.getElementById(id).className=headSizeEfb(document.getElementById(id).className,e.options[e.selectedIndex].value);break;case"hrefEl":valj_efb[l].href=e.value;break;case"selectHeightEl":o=e.dataset.tag,l="form"==o||"survey"==o||"payment"==o||"login"==o||"register"==o||"subscribe"==o?0:l,valj_efb[l].el_height=e.options[e.selectedIndex].value;let v="fs-6";if("h-l-efb"==valj_efb[l].el_height?v="fs-5":"h-xl-efb"==valj_efb[l].el_height?v="fs-4":"h-xxl-efb"==valj_efb[l].el_height?v="fs-3":"h-xxxl-efb"==valj_efb[l].el_height?v="fs-2":"h-d-efb"==valj_efb[l].el_height&&(v="fs-6"),"select"==o||"stateProvince"==o||"conturyList"==o)a=`${valj_efb[l].id_}_options`;else{if("radio"==o||"checkbox"==o){valj_efb[l].label_text_size=v;const t=valj_efb.filter((e=>e.parent===valj_efb[l].id_));setTimeout((()=>{for(let a of t){valj_efb[l].el_text_size=v;let t=document.getElementById(`${a.id_}_lab`).className;t=inputHeightChangerEfb(t,e.options[e.selectedIndex].value),t=inputHeightChangerEfb(t,v),document.getElementById(a.id_).className=inputHeightChangerEfb(document.getElementById(a.id_).className,v)}}),t.length*s);break}if(0==l){a="btn_send_efb",document.getElementById("btn_send_efb").className=inputHeightChangerEfb(document.getElementById("btn_send_efb").className,e.options[e.selectedIndex].value),document.getElementById("next_efb").className=inputHeightChangerEfb(document.getElementById("next_efb").className,e.options[e.selectedIndex].value),document.getElementById("prev_efb").className=inputHeightChangerEfb(document.getElementById("prev_efb").className,e.options[e.selectedIndex].value),document.getElementById("button_group_icon").className=inputHeightChangerEfb(document.getElementById("button_group_icon").className,e.options[e.selectedIndex].value),document.getElementById("button_group_Previous_icon").className=inputHeightChangerEfb(document.getElementById("button_group_Previous_icon").className,e.options[e.selectedIndex].value),document.getElementById("button_group_Next_icon").className=inputHeightChangerEfb(document.getElementById("button_group_Next_icon").className,e.options[e.selectedIndex].value);break}if("maps"==o)a=`${valj_efb[l].id_}-map`;else if("dadfile"==o)a=`${valj_efb[l].id_}_box`;else if("multiselect"==o||"payMultiselect"==o){a=`${valj_efb[l].id_}_options`;let e=document.getElementById(a);e.className.match(/h-+\w+-efb/g)?e.className=inputHeightChangerEfb(e.className,valj_efb[l].el_height):e.classList.add(valj_efb[l].el_height),e.className=fontSizeChangerEfb(e.className,v),valj_efb[l].el_text_size=v}else{if("rating"==o){a=valj_efb[l].id_,setTimeout((()=>{const e=inputHeightChangerEfb(document.getElementById(`${a}_star1`).className,valj_efb[l].el_height);document.getElementById(`${a}_star1`).className=e,document.getElementById(`${a}_star2`).className=e,document.getElementById(`${a}_star3`).className=e,document.getElementById(`${a}_star4`).className=e,document.getElementById(`${a}_star5`).className=e}),10);break}if("switch"==o)a=`${valj_efb[l].id_}_`,document.getElementById(`${valj_efb[l].id_}_off`).className=fontSizeChangerEfb(document.getElementById(`${valj_efb[l].id_}_off`).className,v),document.getElementById(`${valj_efb[l].id_}_on`).className=fontSizeChangerEfb(document.getElementById(`${valj_efb[l].id_}_on`).className,v);else{if("yesNo"==o){setTimeout((()=>{a=`${valj_efb[l].id_}_b_1`,document.getElementById(`${a}`).className=inputHeightChangerEfb(document.getElementById(`${a}`).className,valj_efb[l].el_height),a=`${valj_efb[l].id_}_b_2`,document.getElementById(`${a}`).className=inputHeightChangerEfb(document.getElementById(`${a}`).className,valj_efb[l].el_height)}),10);break}"link"==o?(a=`${valj_efb[l].id_}_`,document.getElementById(a).className=fontSizeChangerEfb(document.getElementById(a).className,v)):"range"==o?(a=`${valj_efb[l].id_}-range`,document.getElementById(a).className=fontSizeChangerEfb(document.getElementById(a).className,v)):a=`${valj_efb[l].id_}_`}}}setTimeout((()=>{o=document.getElementById(`${a}`),o.className=inputHeightChangerEfb(o.className,valj_efb[l].el_height)}),10);break;case"SingleTextEl":let p="";1==Number(valj_efb[0].steps)?(p=0!=l?`${valj_efb[l].id_}_button_single_text`:"button_group_button_single_text",valj_efb[l].button_single_text=e.value):(p="Next"==e.dataset.side?"button_group_Next_button_text":"button_group_Previous_button_text","Next"==e.dataset.side?valj_efb[0].button_Next_text=e.value:valj_efb[0].button_Previous_text=e.value),document.getElementById(p).innerHTML=e.value;break;case"iconEl":break;case"marksEl":valj_efb[l].mark=parseInt(document.getElementById("marksEl").value);break;case"letEl":const g=parseFloat(e.value),x=parseFloat(document.getElementById("lonEl").value);map=new google.maps.Map(document.getElementById(`${valj_efb[l].id_}-map`),{center:{lat:g,lng:x},zoom:8}),valj_efb[l].lat=g;break;case"lonEl":const h=parseFloat(e.value),y=parseFloat(document.getElementById("letEl").value);map=new google.maps.Map(document.getElementById(`${valj_efb[l].id_}-map`),{center:{lat:y,lng:h},zoom:8}),valj_efb[l].lng=h;break;case"EditOption":const j=valj_efb.findIndex((t=>t.id_op==e.dataset.id));if(-1!=j){if(valj_efb[j].value=e.value,"select"==e.dataset.tag||"stateProvince"==e.dataset.tag||"conturyList"==e.dataset.tag){let t=document.querySelector(`[data-op="${e.dataset.id}"]`);t&&(t.innerHTML=e.value),t&&(t.value=e.value)}else"imgRadio"==e.dataset.tag?document.getElementById(`${valj_efb[j].id_op}_value`).innerHTML=e.value:"multiselect"!=e.dataset.tag&&"payMultiselect"!=e.dataset.tag&&(document.querySelector(`[data-op="${e.dataset.id}"]`).value=e.value,document.getElementById(`${valj_efb[j].id_op}_lab`).innerHTML=e.value);e.setAttribute("value",valj_efb[j].value),e.setAttribute("defaultValue",valj_efb[j].value)}break;case"ElvalueOptions":r=e.dataset.parent,o=valj_efb.findIndex((e=>e.id_==r)),l=valj_efb.findIndex((t=>t.id_op==e.dataset.id)),n=valj_efb[o].type.toLowerCase();const E=valj_efb[o].value;1==n.includes("radio")||1==n.includes("select")&&0==n.includes("multi")||1==n.includes("conturylist")||1==n.includes("stateprovince")?(valj_efb[o].value=valj_efb[l].id_,E.length>0&&1==n.includes("radio")&&(document.querySelector(`[data-id="${E}"]`).removeAttribute("checked"),document.getElementById(E).removeAttribute("checked")),r=valj_efb[l].id_,e.setAttribute("checked",!0),1==n.includes("radio")&&document.getElementById(r).setAttribute("checked",!0)):(r=valj_efb[l].id_,0==e.checked?(e.removeAttribute("checked"),1==n.includes("checkbox")&&(document.getElementById(r).removeAttribute("checked"),e.removeAttribute("checked")),r=valj_efb[o].value.findIndex((e=>e==r)),valj_efb[o].value.splice(r,1)):("string"==typeof valj_efb[o].value?valj_efb[o].value=[r]:valj_efb[o].value.push(r),e.setAttribute("checked",!0),1==n.includes("checkbox")&&document.getElementById(r).setAttribute("checked",!0)));break;case"ElIdOptions":if(e.value.length<3){alert_message_efb(efb_var.text.error,efb_var.text.idl5,25,"danger");break}if(o=valj_efb.findIndex((t=>t.id==e.value)),-1==o&&(o=valj_efb.findIndex((t=>t.id_==e.value))),-1!=o){e.value="",r=`<div class="efb"> ${efb_var.text.idmu} <br> <b>[${valj_efb[o].value}]<b> </div>`,alert_message_efb(efb_var.text.error,r,30,"danger");break}o=valj_efb.findIndex((t=>t.id_op==e.dataset.id)),-1!=o&&(e.value=e.value.replace(/[^a-zA-Z0-9_-]/g,""),e.setAttribute("value",e.value),valj_efb[o].hasOwnProperty("id")?valj_efb[o].id=e.value:Object.assign(valj_efb[o],{id:e.value}));break;case"paymentOption":e.dataset.id;const I=valj_efb.findIndex((t=>t.id_op==e.dataset.id));if(-1!=I){valj_efb[I].price=e.value,e.setAttribute("value",valj_efb[I].price),e.setAttribute("defaultValue",valj_efb[I].price);const t=valj_efb[0].hasOwnProperty("currency")?valj_efb[0].currency:"USD";let a=Number(valj_efb[I].price);a=a.toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:t}),document.getElementById(`${valj_efb[I].id_}-price`).innerHTML=a}break;case"htmlCodeEl":const k=`${e.dataset.id}_html`;a=valj_efb.findIndex((t=>t.id_==e.dataset.id)),e.value.length>2?(document.getElementById(k).innerHTML=e.value,document.getElementById(k).classList.remove("sign-efb"),valj_efb[a].value=e.value.replace(/\r?\n|\r/g,"@efb@nq#"),valj_efb[a].value=valj_efb[a].value.replace(/"/g,"@!")):(document.getElementById(k).classList.add("sign-efb"),document.getElementById(k).innerHTML=`\n            <div class="efb  noCode-efb m-5 text-center" id="${e.dataset.id}_noCode">\n            ${efb_var.text.noCodeAddedYet}  <button type="button" class="efb  btn btn-edit btn-sm" id="settingElEFb" data-id="${e.dataset.id}-id" data-bs-toggle="tooltip" title="Edit" onclick="show_setting_window_efb('${e.dataset.id}-id')">\n            <div class="icon-container efb"><i class="efb   bi-gear-wide-connected text-success" id="efbSetting" ></i></div></button> ${efb_var.text.andAddingHtmlCode}\n            </div>`,valj_efb[a].value="");break;case"selectMultiSelectMaxEl":const w=""==e.value?2:e.value;valj_efb[l].maxSelect=w,document.getElementById(`${valj_efb[l].id_}_options`).dataset.no=w;break;case"selectMultiSelectMinEl":const B=""==e.value?2:e.value;valj_efb[l].minSelect=B,document.getElementById(`${valj_efb[l].id_}_options`).dataset.min=B;break;case"qtyPlcEl":valj_efb[l].pholder_chl_value=e.value;for(let t of document.querySelectorAll(`[data-id='${valj_efb[l].id_}']`))t.placeholder=e.value;break;case"countriesListEl":if(valj_efb[l].country=e.options[e.selectedIndex].value,"stateProvince"==e.dataset.tag&&null!=document.getElementById("optionListefb")){let t;document.getElementById("optionListefb").innerHTML=loading_messge_efb(),fetch_json_from_url_efb(`https://cdn.jsdelivr.net/gh/hassantafreshi/Json-List-of-countries-states-and-cities-in-the-world@main/json/states/${valj_efb[l].country.toLowerCase()}.json`),setTimeout((()=>{if(0==temp_efb.s||"null"==temp_efb)return void alert_message_efb(efb_var.text.error,temp_efb.r,15,"danger");obj_delete_options(valj_efb[l].id_);for(const e in temp_efb.r){const t=temp_efb.r[e],a=t.n.trim(),s=t.l.length>1&&t.l.trim()!=a?`${t.l.trim()} (${a})`:a;t.s;optionElpush_efb(valj_efb[l].id_,s,t.s,a.replaceAll("","_"))}const a=valj_efb.filter((e=>e.parent===valj_efb[l].id_)),s=Math.random().toString(36).substr(2,9);t=efb_add_opt_setting(a,e,!1,s,""),document.getElementById("optionListefb")&&(document.getElementById("optionListefb").innerHTML=t)}),4e3)}valj_efb[l].country=e.options[e.selectedIndex].value;break;case"imgRadio_url":l=valj_efb.findIndex((t=>t.id_op==e.dataset.id));const $=e=>e=(e=(e=e.replace(/(http:\/\/)+/g,"http:@efb@")).replace(/(https:\/\/)+/g,"https:@efb@")).replace(/([/])+/g,"@efb@");valj_efb[l].src=$(e.value),document.getElementById(valj_efb[l].id_+"_img").src=e.value;break;case"imgRadio_sub_value":l=valj_efb.findIndex((t=>t.id_op==e.dataset.id)),valj_efb[l].sub_value=e.value,document.getElementById(valj_efb[l].id_+"_value_sub").innerHTML=e.value;break;case"selectSmartforOptionsEls":if(l=valj_efb.findIndex((t=>t.id_==e.options[e.selectedIndex].value)),-1!=l){const t=e.options[e.selectedIndex].dataset.idset,a=e.options[e.selectedIndex].dataset.fid,l=valj_efb[0].conditions.findIndex((e=>e.id_==a));if(-1!=l&&(o=valj_efb[0].conditions[l].condition.findIndex((e=>e.no==t))),-1!=o){valj_efb[0].conditions[l].condition[o].one=sanitize_text_efb(e.options[e.selectedIndex].value);const t=e.options[e.selectedIndex].dataset.fid,a=e.options[e.selectedIndex].dataset.idset,s=sanitize_text_efb(e.options[e.selectedIndex].value);valj_efb[0].conditions[l].condition[o].two="",document.querySelector(`[data-id='oso-${a}'`).innerHTML=optionSmartforOptionsEls(t,a,s)}}break;case"optiontSmartforOptionsEls":o=-1;const N=e.options[e.selectedIndex].dataset.idset;let F=e.options[e.selectedIndex].dataset.fid;F=F;const L=valj_efb[0].conditions.findIndex((e=>e.id_==N));-1!=L&&(o=valj_efb[0].conditions[L].condition.findIndex((e=>e.no==F))),-1!=o&&(valj_efb[0].conditions[L].condition[o].two=sanitize_text_efb(e.options[e.selectedIndex].value));break}}),6*s)};function wating_sort_complate_efb(e){e>500&&(e=500);const t=loading_messge_efb();show_modal_efb(t,efb_var.text.editField,"bi-ui-checks mx-2","settingBox");document.getElementById("settingModalEfb");state_modal_show_efb(1),setTimeout((()=>{state_modal_show_efb(0)}),e)}function create_form_efb(){let e="\x3c!--efb.app--\x3e",t=0,a="";const l=valj_efb.length;calPLenEfb(l);try{valj_efb.forEach(((l,s)=>{t<l.step&&"step"==l.type&&(t+=1,a+=`<li id="${l.id_}" data-step="icon-s-${t}-efb"class="efb  ${valj_efb[0].steps<=11?`step-w-${valj_efb[0].steps}`:"step-w-11"} ${l.icon_color} ${l.icon}   ${1==l.step?"active":""}" ><strong class="efb  fs-5 ${l.label_text_color} ">${l.name}</strong></li>`,e+=1==t?`<fieldset data-step="step-${t}-efb" class="efb  mt-1 mb-2 steps-efb row">`:`\x3c!-- fieldsetFOrm!!! --\x3e</fieldset><fieldset data-step="step-${t}-efb"  class="efb my-2 steps-efb efb row d-none">`,valj_efb[0].show_icon),"step"==l.type?steps_index_efb.push(s):"step"!=l.type&&"form"!=l.type&&"option"!=l.type&&(e+=addNewElement(l.type,l.id_,!0,!0))})),t+=1,e+=`\n                ${sitekye_emsFormBuilder.length>1&&1==valj_efb[0].captcha?`<div class="efb row mx-3"><div id="gRecaptcha" class="efb g-recaptcha my-2 mx-0" data-sitekey="${sitekye_emsFormBuilder}" style=”transform:scale(0.88);-webkit-transform:scale(0.88);transform-origin:0 0;-webkit-transform-origin:0 0;”></div><small class="efb text-danger" id="recaptcha-message"></small></div>`:""}\n                \x3c!-- fieldset formNew 1 --\x3e </fieldset> \n    \n                <fieldset data-step="step-${t}-efb" class="efb my-5 pb-5 steps-efb efb row d-none text-center" id="efb-final-step">\n                ${loading_messge_efb()}\n                \x3c!-- fieldset formNew 2 --\x3e </fieldset>\n      `,a+=`<li id="f-step-efb"  data-step="icon-s-${t}-efb" class="efb  ${valj_efb[1].icon_color} ${valj_efb[0].steps<=6?`step-w-${valj_efb[0].steps}`:"step-w-6"} bi-check-lg" ><strong class="efb  fs-5 ${valj_efb[1].label_text_color}">${efb_var.text.finish}</strong></li>`}catch(e){}return e.length>10&&(e+="</div>"),a=`${0==valj_efb[0].show_icon||0==valj_efb[0].show_icon?`<ul id="steps-efb" class="efb mb-2 px-2">${a}</ul>`:""}\n    ${0==valj_efb[0].show_pro_bar||0==valj_efb[0].show_pro_bar?`<div class="efb d-flex justify-content-center"><div class="efb progress mx-4"><div class="efb  progress-bar-efb  btn-${RemoveTextOColorEfb(valj_efb[1].label_text_color)} progress-bar-striped progress-bar-animated" role="progressbar"aria-valuemin="0" aria-valuemax="100"></div></div></div> <br> `:""}`,e=`  \n    <div class="efb px-0 pt-2 pb-0 my-1 col-12" id="view-efb">\n    <h4 id="title_efb" class="efb ${valj_efb[1].label_text_color} mt-3 mb-0 text-center efb">${valj_efb[1].name}</h4>\n    <p id="desc_efb" class="efb ${valj_efb[1].message_text_color} fs-7 mb-2 text-center efb">${valj_efb[1].message}</p>\n    \n     <form id="efbform"> ${a} <div class="efb mt-1 px-2">${e}</div> </form>\n    </div>\n    `,e}get_list_name_selecting_field_efb=()=>{let e=[];for(let t in valj_efb)"multiselect"!=valj_efb[t].type&&(1!=fun_el_select_in_efb(valj_efb[t].type)&&1!=fun_el_check_radio_in_efb(valj_efb[t].type)||e.push({name:valj_efb[t].name,id_:valj_efb[t].id_}));return e},get_list_name_otions_field_efb=e=>{let t=[];if(0==e)for(let t in valj_efb)if("multiselect"!=valj_efb[t].type&&(1==fun_el_select_in_efb(valj_efb[t].type)||1==fun_el_check_radio_in_efb(valj_efb[t].type))){e=valj_efb[t].id_;break}for(let a in valj_efb)valj_efb[a].parent==e&&t.push({name:valj_efb[a].value,id_:valj_efb[a].id_});return t};const saveFormEfb=()=>{let e=!0,t=!0,a="",l="",s="",o="",n=!1,r=efb_var.text.error,i="bi-exclamation-triangle-fill",d="error",_="bi-question-lg",b=!1,c="";"payment"==valj_efb[0].type&&(c=valj_efb.findIndex((e=>"stripe"==e.type)),c=-1==c?valj_efb[0].gateway:c,"persiaPay"==c&&(c=valj_efb[0].persiaPay)),setTimeout((()=>{show_modal_efb("",efb_var.text.save,"bi-check2-circle","saveLoadingBox");let f=1e3;check_show_box=()=>{setTimeout((()=>{0==b?(check_show_box(),f=500):show_modal_efb(a,r,i,d)}),f)};try{if(valj_efb.length<3)l=efb_var.text.help,s="open_whiteStudio_efb('notInput')",o=efb_var.text.youDoNotAddAnyInput,i="";else{0==pro_efb&&(e=-1==valj_efb.findIndex((e=>1==e.pro)));for(let e=1;e<=valj_efb[0].steps;e++){if(-1==valj_efb.findIndex((t=>t.step==e&&"step"!=t.type))){t=!1;break}}}if(valj_efb.length>2&&1==e&&1==t&&("payment"==valj_efb[0].type&&-1!=c||"persiaPay"==valj_efb[0].type&&-1!=c||"payment"!=valj_efb[0].type)){r=efb_var.text.save,d="saveBox",i="bi-check2-circle",n=!0;let e=JSON.stringify(valj_efb);localStorage.setItem("valj_efb",e),localStorage.setItem("valueJson_ws_p",e),formName_Efb=valj_efb[0].formName.length>1?valj_efb[0].formName:formName_Efb,b=actionSendData_emsFormBuilder()}else 0==e?(l=efb_var.text.activateProVersion,s="open_whiteStudio_efb('pro')",o=efb_var.text.youUseProElements,r=efb_var.text.proVersion,i="bi-gem",_=i,b=!0):0==t?(l=efb_var.text.help,s="open_whiteStudio_efb('emptyStep')",o=efb_var.text.itAppearedStepsEmpty,b=!0):"payment"==valj_efb[0].type&&-1==c?(l=efb_var.text.help,s="open_whiteStudio_efb('paymentform')",o=efb_var.text.addPaymentGetway,i="bi-exclamation-triangle",b=!0):"persiaPay"==valj_efb[0].type&&-1==c?(l=efb_var.text.help,s="open_whiteStudio_efb('persiaPay')",o=efb_var.text.addPaymentGetway,i="bi-exclamation-triangle",b=!0):"payment"!=valj_efb[0].type&&"persiaPay"!=valj_efb[0].type||1!=valj_efb[0].captcha||(l=efb_var.text.help,s="open_whiteStudio_efb('paymentform')",o=efb_var.text.paymentNcaptcha,i="bi-exclamation-triangle",b=!0);0==n&&(btn=`<button type="button" class="efb btn efb btn-outline-pink efb-btn-lg mt-3 mb-3" onClick ="${s}">\n      <i class="efb  ${_} mx-2"></i> ${l} </button>`,a=`\n      <div class="efb pro-version-efb-modal efb"></div>\n        <h5 class="efb  txt-center text-darkb fs-6">${o}</h5>\n        <div class="efb  text-center ">\n        ${btn}\n        </div>\n      `,check_show_box()),state_modal_show_efb(1)}catch(e){_="bi-bug",a=`\n    <div class="efb pro-version-efb-modal efb"></div>\n    <h5 class="efb  txt-center text-darkb fs-6">${efb_var.text.pleaseReporProblem}</h5>\n    <div class="efb  text-center">\n    <button type="button" class="efb btn efb btn-outline-pink efb-btn-lg mt-3 mb-3" onClick ="fun_report_error('fun_saveFormEfb','${e}')">\n      <i class="efb  bi-megaphone mx-2"></i> ${efb_var.text.reportProblem} </button>\n    </div>\n    `,show_modal_efb(a,efb_var.text.error,_,"error"),state_modal_show_efb(1)}}),100)};let editFormEfb=()=>{valueJson_ws_p=0;let e=document.getElementById("dropZoneEFB");e.innerHTML=loading_messge_efb(),localStorage.getItem("valj_efb")&&(valj_efb=JSON.parse(localStorage.getItem("valj_efb")));let t=calPLenEfb(valj_efb.length);const a=valj_efb.length*t||10;setTimeout((()=>{e.innerHTML="\x3c!-- edit efb --\x3e";for(let t in valj_efb)try{if("option"!=valj_efb[t].type&&"r_matrix"!=valj_efb[t].type){const l="step"==valj_efb[t].type?"steps":valj_efb[t].type;let s=addNewElement(l,valj_efb[t].id_,!0,!1);e.innerHTML+=s,valj_efb[t].hasOwnProperty("type")&&"form"!=valj_efb[t].type&&"step"!=valj_efb[t].type&&"html"!=valj_efb[t].type&&"register"!=valj_efb[t].type&&"login"!=valj_efb[t].type&&"subscribe"!=valj_efb[t].type&&"survey"!=valj_efb[t].type&&"payment"!=valj_efb[t].type&&"smartForm"!=valj_efb[t].type&&funSetPosElEfb(valj_efb[t].dataId,valj_efb[t].label_position),"maps"==l&&setTimeout((()=>{const e=Number(valj_efb[t].lat),a=Number(valj_efb[t].lng);"undefined"!=typeof google&&google.hasOwnProperty("maps")&&(map=new google.maps.Map(document.getElementById(`${valj_efb[t].id_}-map`),{center:{lat:e,lng:a},zoom:8}))}),2*a)}}catch(e){}fub_shwBtns_efb()}),a)};function obj_resort_row(e){for(let t of valj_efb)t.step==e&&(t.step=e,t.dataId&&document.getElementById(t.id_)&&(document.getElementById(t.id_).dataset.step=e));fub_shwBtns_efb(),1==valj_efb[0].steps&&fun_handle_buttons_efb(!1)}let sampleElpush_efb=(e,t)=>{const a=valj_efb.length;amount_el_efb=amount_el_efb||valj_efb[a-1].amount+1,step_el_efb=step_el_efb||valj_efb[0].steps;const l=1==efb_var.rtl?"txt-right":"txt-left",s="yesNo"!=t?pub_el_text_color_efb:pub_txt_button_color_efb;p=()=>{const e=fields_efb.find((e=>e.id==t));return e&&e.hasOwnProperty("pro")?e.pro:0};let o=p(),n=100,r=t;switch(t){case"firstName":case"lastName":n="50",r="text";break;case"country":n="50",r="conturyList";break;case"statePro":n="50",r="stateProvince";break;case"city":n="50",r="cityList";break;case"zipcode":n="50",r="select";break;default:n=100;break}if("dadfile"!=t&&"switch"!=t&&"rating"!=t&&"esign"!=t&&"maps"!=t&&"html"!=t&&"stateProvince"!=t&&"conturyList"!=t&&"payMultiselect"!=t&&"paySelect"!=t&&"payRadio"!=t&&"payCheckbox"!=t&&"heading"!=t&&"link"!=t&&"stripe"!=t&&"persiaPay"!=t||(o=!0),"file"!=t&&"dadfile"!=t&&"html"!=t&&"steps"!=t&&"heading"!=t&&"link"!=t)valj_efb.push({id_:e,dataId:`${e}-id`,type:r,placeholder:efb_var.text[t],value:"",size:n,message:"",id:"",classes:"",name:efb_var.text[t],required:0,amount:amount_el_efb,step:step_el_efb,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:pub_label_text_color_efb,el_border_color:"border-d",el_text_color:s,message_text_color:pub_message_text_color_efb,el_height:"h-d-efb",label_align:l,message_align:"justify-content-start",el_align:"justify-content-start",pro:o,icon_input:""}),"stripe"==t?(Object.assign(valj_efb[0],{getway:"stripe",currency:"usd",paymentmethod:"charge"}),valj_efb[0].type="payment",form_type_emsFormBuilder="payment",valj_efb[a].el_text_color="text-white"):"persiaPay"==t?(Object.assign(valj_efb[0],{getway:"persiaPay",currency:"irr",paymentmethod:"charge",persiaPay:"zarinPal"}),valj_efb[0].type="payment",form_type_emsFormBuilder="payment",valj_efb[a].el_text_color="text-white"):"esign"==t?Object.assign(valj_efb[valj_efb.length-1],{icon:"bi-save",icon_color:"text-white",button_single_text:efb_var.text.clear,button_color:pub_bg_button_color_efb}):"yesNo"==t?Object.assign(valj_efb[valj_efb.length-1],{button_1_text:efb_var.text.yes,button_2_text:efb_var.text.no,button_color:pub_bg_button_color_efb}):"maps"==t?(Object.assign(valj_efb[valj_efb.length-1],{lat:49.24803870604257,lng:-123.10512829684463,mark:1,zoom:7}),setTimeout((()=>{document.getElementById("maps").draggable=!1,document.getElementById("maps_b")&&document.getElementById("maps_b").classList.add("disabled")}),5*valj_efb.length)):"multiselect"==t||"payMultiselect"==t?Object.assign(valj_efb[valj_efb.length-1],{maxSelect:2,minSelect:0}):"chlCheckBox"!=t&&"chlRadio"!=t||Object.assign(valj_efb[valj_efb.length-1],{pholder_chl_value:efb_var.text.qty});else if("html"==t)valj_efb.push({id_:e,dataId:`${e}-id`,type:t,value:"",amount:amount_el_efb,step:step_el_efb,pro:o});else if("heading"==t)valj_efb.push({id_:e,dataId:`${e}-id`,type:t,classes:"",value:efb_var.text[t],amount:amount_el_efb,step:step_el_efb,el_text_size:"display-4",el_text_color:"text-dark",el_align:"justify-content-start",pro:o});else if("link"==t)valj_efb.push({id_:e,dataId:`${e}-id`,type:t,classes:"",value:efb_var.text[t],amount:amount_el_efb,step:step_el_efb,el_text_size:"fs-3",el_text_color:"text-primary",el_align:"justify-content-start",href:"https://whitestudio.team",pro:o});else if("steps"==t){step_el_efb=0==step_el_efb?1:step_el_efb;const e=null!=efb_var.text[formName_Efb]?efb_var.text[formName_Efb].toUpperCase():efb_var.text.step;valj_efb.push({id_:`${step_el_efb}`,type:"step",dataId:`${step_el_efb}`,classes:"stepNavEfb",id:`${step_el_efb}`,name:e,icon:"",step:step_el_efb,amount:amount_el_efb,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-dark",message_text_color:pub_message_text_color_efb,icon_color:pub_icon_color_efb,icon:"bi-ui-checks-grid",visible:1})}else"contury"==t||"statePro"==t||(valj_efb.push({id_:e,dataId:`${e}-id`,type:t,placeholder:t,value:"allformat",size:100,message:"",id:"",classes:"",name:efb_var.text[t],required:0,amount:amount_el_efb,step:step_el_efb,label_text_size:"fs-6",message_text_size:"fs-7",el_text_size:"fs-6",file:"allformat",label_text_color:pub_label_text_color_efb,label_position:"up",el_text_color:"text-dark",message_text_color:pub_message_text_color_efb,el_height:"h-d-efb",label_align:l,message_align:"justify-content-start",el_border_color:"border-d",el_align:"justify-content-start",pro:o}),"dadfile"==t&&Object.assign(valj_efb[valj_efb.length-1],{icon:"bi-cloud-arrow-up-fill",icon_color:pub_icon_color_efb,button_color:pub_bg_button_color_efb}))},optionElpush_efb=(e,t,a,l,s)=>{if(void 0===s||"string"==typeof s&&0==s.includes("pay")||1==s.includes("img")){valj_efb.push({id_:a,dataId:`${a}-id`,parent:e,type:"option",value:t,id_op:l,step:step_el_efb,amount:amount_el_efb});const o=e=>e=(e=(e=e.replace(/(http:\/\/)+/g,"http:@efb@")).replace(/(https:\/\/)+/g,"https:@efb@")).replace(/([/])+/g,"@efb@");void 0!==s&&1==s.includes("img")&&Object.assign(valj_efb[valj_efb.length-1],{sub_value:efb_var.text.sampleDescription,src:o(efb_var.images.head)})}else valj_efb.push({id_:a,dataId:`${a}-id`,parent:e,type:"option",value:t,id_op:l,step:step_el_efb,price:0,amount:amount_el_efb})};function create_dargAndDrop_el(){const e=document.getElementById("dropZoneEFB");e.addEventListener("dragover",(e=>{e.preventDefault()}));for(const e of document.querySelectorAll(".draggable-efb"))e.addEventListener("dragstart",(t=>{t.dataTransfer.setData("text/plain",e.id)})),e.addEventListener("click",(t=>{0!=document.body.classList.contains("mobile")||1!=e.getAttribute("draggable")&&"true"!=e.getAttribute("draggable")||fun_efb_add_el(e.id)}));e.addEventListener("drop",(e=>{if(e.preventDefault(),"step"!==e.dataTransfer.getData("text/plain")&&null!=e.dataTransfer.getData("text/plain")&&""!=e.dataTransfer.getData("text/plain")){Math.random().toString(36).substr(2,9);const t=e.dataTransfer.getData("text/plain");fun_efb_add_el(t)}}))}const add_new_option_efb=(e,t,a,l,s)=>{document.getElementById("optionListefb").cloneNode(!0);const o=s.includes("pay")?"payment":"",n=s.includes("pay");let r=mobile_view_efb?"d-block":"d-none",i=valj_efb.find((t=>t.id_==e)),d=valj_efb.find((e=>e.id_==l)),_=d.hasOwnProperty("id")?d.id:d.id_,b="radio";(i.type.toLowerCase().indexOf("multi")>-1||1==i.type.toLowerCase().includes("checkbox")||1==i.type.toLowerCase().includes("multiselect"))&&(b="checkbox");const c="payment"==o||"smart"==o?"col-md-7":"col-md-12";e.trim(),s.trim(),valj_efb.length;document.getElementById("optionListefb").innerHTML+=add_option_edit_admin_efb(0,e,b,t,s,l,a,c,n,r,o,_,"");const f=valj_efb.findIndex((t=>t.id_==e));if("radio"==s&&1==valj_efb[f].hasOwnProperty("addother")&&1==valj_efb[f].addother){const t=valj_efb.filter((t=>t.parent===e));document.getElementById(`${e}_options`).innerHTML="\x3c!--efb.app--\x3e",t.forEach((t=>{document.getElementById(`${e}_options`).innerHTML+=add_new_option_view_select(t.id_,t.value,t.id_,"radio",t.parent)})),document.getElementById(`${e}_options`).innerHTML+=add_new_option_view_select("random"+e,efb_var.text.otherTxt,"random"+e,"radio",e)}else"table_matrix"==s?document.getElementById(`${e}_options`).innerHTML+=add_r_matrix_view_select(t,a,l,s,e):"multiselect"!==s&&"payMultiselect"!==s&&"imgRadio"!==s||"radio"==s&&0==valj_efb[f].hasOwnProperty("addother")?document.getElementById(`${e}_options`).innerHTML+=add_new_option_view_select(t,a,l,s,e):"imgRadio"==s&&(document.getElementById(`${e}_options`).innerHTML+=add_new_imgRadio_efb(t,a,l,s,e));for(let e of document.querySelectorAll(".elEdit"))e.addEventListener("change",(t=>{change_el_edit_Efb(e)}))},sort_obj_el_efb_=()=>{let e=0,t=0,a=0;const l=valj_efb.length;for(const l of document.querySelectorAll(".efbField")){e+=1;let s=valj_efb.findIndex((e=>e.id_===l.id));try{-1!=s&&(l.classList.contains("stepNo")?(a+=1,t=a,valj_efb[s].amount=e,valj_efb[s].step=t):(valj_efb[s].amount=e,valj_efb[s].step=t),(fun_el_select_in_efb(l.dataset.tag)||"radio"==valj_efb[s].type||"checkbox"==valj_efb[s].type||"payRadio"==valj_efb[s].type||"payCheckbox"==valj_efb[s].type)&&valj_efb.filter((e=>e.parent===valj_efb[s].id_)).forEach((a=>{e+=1,a.amount=e,a.step=t})))}catch{}}if(l>20){sort_obj_efb();const e=calPLenEfb(l);wating_sort_complate_efb(l*Math.log(l)*e)}else sort_obj_efb()},sort_obj_el_efb=()=>{let e=1,t=0,a=!1;for(const l of document.querySelectorAll(".efbField")){if(l.classList.contains("stepNavEfb"))e=1,t=l.dataset.step;else if(1==t){const e=valj_efb.findIndex((e=>e.dataId==l.dataset.id)),t=valj_efb.length-1;valj_efb[e].step=valj_efb[t].step,valj_efb[e].amount=valj_efb[t].amount?Number(valj_efb[t].amount)+1:1,a=!0}else{l.dataset.amount=e,l.dataset.step=t,e+=1;const a=valj_efb.findIndex((e=>e.dataId==l.dataset.id));-1!=a&&(valj_efb[a].amount=e,valj_efb[a].step=t)}valj_efb.findIndex((e=>e.dataId==l.dataset.id))}a&&fub_shwBtns_efb()};function add_option_edit_pro_efb(e,t,a){const l=calPLenEfb(a);a=a<50?200:(a+Math.log(a))*l;const s=Math.random().toString(36).substr(2,9);optionElpush_efb(e,efb_var.text.newOption,s,s,t),setTimeout((()=>{add_new_option_efb(e,s,efb_var.text.newOption,s,t)}),a)}function show_delete_window_efb(e,t){let a=valj_efb[t]&&valj_efb[t].hasOwnProperty("type")?`<br> <b>${valj_efb[t].type} > ${valj_efb[t].name??valj_efb[t].value}</b>`:"";const l=`<div class="efb   mb-3"><div class="efb  clearfix">${efb_var.text.areYouSureYouWantDeleteItem} ${a}</div></div>`,s=!!document.getElementById(e)&&document.getElementById(e).classList.contains("stepNavEfb");show_modal_efb(l,efb_var.text.delete,"efb bi-x-octagon-fill mx-2","deleteBox");const o=document.getElementById("modalConfirmBtnEfb");if(0==s)state_modal_show_efb(1),o.dataset.id=e.slice(0,-3),o.addEventListener("click",(t=>{document.getElementById(o.dataset.id).remove(),obj_delete_row(e,!1,o.dataset.id),activeEl_efb=0,state_modal_show_efb(0)}));else if(s){1!=document.getElementById(e).dataset.id&&(state_modal_show_efb(1),o.dataset.id=e,o.addEventListener("click",(()=>{activeEl_efb=0,0==pro_efb&&(step_el_efb=step_el_efb>1?step_el_efb-1:1),valj_efb[0].steps=valj_efb[0].steps-1,obj_delete_row(e,!0),document.getElementById(o.dataset.id).remove(),state_modal_show_efb(0)})))}}const obj_delete_row=(e,t)=>{let a=0,l=Object.keys(valj_efb).length>0?valj_efb.findIndex((t=>t.dataId==e)):-1;if(-1!=l&&1==t&&(a=valj_efb[l].step),-1!=l){if("maps"==valj_efb[l].type)document.getElementById("maps").draggable=!0,document.getElementById("maps_b").classList.remove("disabled");else if("stripe"==valj_efb[l].type){-1==valj_efb.findIndex((e=>"persiaPay"==e.type))&&(valj_efb[0].type="form",form_type_emsFormBuilder="form")}else fun_el_select_in_efb(valj_efb[l].type)||"radio"==valj_efb[l].type||"checkbox"==valj_efb[l].type?obj_delete_options(valj_efb[l].id_):"email"==valj_efb[l].type&&valj_efb[0].email_to==valj_efb[l].id_&&(valj_efb[0].sendEmail=0,valj_efb[0].email_to="");valj_efb.splice(l,1)}if(1==t)for(let e of valj_efb)e.step==a&&(e.step=a-1);obj_resort_row(step_el_efb)},obj_delete_options=e=>{for(;-1!=valj_efb.findIndex((t=>t.parent==e));){let t=valj_efb.findIndex((t=>t.parent==e));valj_efb.splice(t,1)}},obj_delete_the_option=e=>{let t=Object.keys(valj_efb).length>0?valj_efb.findIndex((t=>t.id_op==e)):-1;-1!=t&&valj_efb.splice(t,1)};function show_duplicate_fun(e){}let enableDragSort=e=>{const t=document.getElementsByClassName(e);Array.prototype.map.call(t,(e=>{enableDragList(e)}))},enableDragList=e=>{Array.prototype.map.call(e.children,(e=>{enableDragItem(e)}))},enableDragItem=e=>{e.classList.contains("stepNavEfb")||e.setAttribute("draggable",!0)},status_drag_start=!1,handleDrag=e=>{const t=e.target,a=t.parentNode,l=event.clientX,s=event.clientY;let o=null===document.elementFromPoint(l,s)?t:document.elementFromPoint(l,s);if(0==status_drag_start){for(let e of valj_efb)"option"!=e.type&&"form"!=e.type&&"payment"!=e.type&&t.id!=e.id_&&t.previousElementSibling.id!=e.id_&&document.getElementById(e.id_).classList.add("drophere");status_drag_start=!0}t.classList.add("drag-sort-active-efb"),a===o.parentNode&&(o=o!==t.nextSibling&&"steps"==o.dataset&&"1"!=o.id?o:o.nextSibling,a.insertBefore(t,o))},handleDrop=e=>{if(e.target.classList.remove("drag-sort-active-efb"),sort_obj_el_efb_(),1==status_drag_start){for(let e of valj_efb)"option"!=e.type&&"form"!=e.type&&document.getElementById(e.id_)&&document.getElementById(e.id_).classList.remove("drophere");status_drag_start=!1}};const sort_obj_efb=()=>{const e=valj_efb.length;let t=calPLenEfb(e);setTimeout((()=>{const e=valj_efb.sort(((e,t)=>Number(e.amount)>Number(t.amount)?1:Number(t.amount)>Number(e.amount)?-1:0));valj_efb=e}),e*t)},delete_option_efb=e=>{document.getElementById(`${e}-gs`).remove(),document.getElementById(`${e}-v`)&&document.getElementById(`${e}-v`).remove();const t=valj_efb.findIndex((t=>t.id_op==e));let a=valj_efb.findIndex((e=>e.id_==valj_efb[t].parent));if(-1!=t){if(-1!=a&&"string"==typeof valj_efb[a].value)valj_efb[a].value==valj_efb[t].id_&&(valj_efb[a].value="");else if(-1!=a){const e=valj_efb[a].value.findIndex((e=>e==valj_efb[t].id_));-1!=e&&valj_efb[a].value.splice(e,1)}valj_efb.splice(t,1)}};function active_element_efb(e){if(e.id!=activeEl_efb){0==activeEl_efb?activeEl_efb=document.getElementById(e.id).dataset.id:document.getElementById(`btnSetting-${activeEl_efb}`).classList.toggle("d-none");const t=document.querySelector(".field-selected-efb");t&&t.classList.remove("field-selected-efb"),activeEl_efb=e.dataset.id;const a=document.getElementById(`btnSetting-${activeEl_efb}`);a.classList.contains("d-none")&&a.classList.remove("d-none"),document.querySelector(`[data-id="${activeEl_efb}"]`).classList.add("field-selected-efb")}}fun_efb_add_el=e=>{const t=Math.random().toString(36).substr(2,9);if(!("steps"==e&&valj_efb.length<2)){if(valj_efb.length<2&&(dropZoneEFB.innerHTML="",dropZoneEFB.classList.add("pb")),"address"==e||"name"==e){const t=[{n:"name",t:"firstName"},{n:"name",t:"lastName"},{n:"address",t:"country"},{n:"address",t:"statePro"},{n:"address",t:"city"},{n:"address",t:"zipcode"},{n:"address",t:"address_line"}];for(const a of t)if(a.n==e){let e=addNewElement(a.t,Math.random().toString(36).substr(2,9),!1,!1);dropZoneEFB.innerHTML+=e}}else{let a=addNewElement(e,t,!1,!1);if("null"!=a)switch(dropZoneEFB.innerHTML+=a,e){case"mobile":break;case"persiaPay":case"stripe":funRefreshPricesEfb();break}}if(fub_shwBtns_efb(),"maps"==e){const e=`${t}-map`;if("undefined"!=typeof google){new google.maps.Map(document.getElementById(`${e}`),{center:{lat:49.24803870604257,lng:-123.10512829684463},zoom:10})}else setTimeout((()=>{document.getElementById(`${t}-map`).innerHTML=googleMapsNOkEfb()}),800)}setTimeout((()=>{active_element_efb(dropZoneEFB.lastElementChild)}),80)}},add_element_dpz_efb=e=>{fun_efb_add_el(e)};const colorBtnChangerEfb=(e,t)=>e.replace(/\bbtn+-+[\w\-]+/gi,`${t}`),colorBGrChangerEfb=(e,t)=>e.replace(/\bbg+-+[\w\-]+/gi,`${t}`),inputHeightChangerEfb=(e,t)=>e.replace(/(h-d-efb|h-l-efb|h-xl-efb|h-xxl-efb|h-xxxl-efb)/,`${t}`),fontSizeChangerEfb=(e,t)=>e.replace(/\bfs+-\d+/gi,`${t}`),colChangerEfb=(e,t)=>e.replace(/\bcol-\d+|\bcol-\w+-\d+/,`${t}`),colMdRemoveEfb=e=>e.replace(/\bcol-md+-\d+/gi,""),colMReplaceEfb=(e,t)=>e.replace(/\bcol-md+-\d+/gi,t),headSizeEfb=(e,t)=>e.replace(/\bdisplay+-\d+/gi,`${t}`),colSmChangerEfb=(e,t)=>e.replace(/\bcol-sm+-\d+/,`${t}`),iconChangerEfb=(e,t)=>e.replace(/(\bbi-+[\w\-]+|bXXX)/g,`${t}`),isNumericEfb=e=>/^\d+$/.test(e);function emsFormBuilder_delete(e,t,a){let l=e;switch(t){case"addon":l=efb_var.text[e];break;case"form":l=a;break;case"message":l=a;break;case"condlogic":l=e;break}const s=`<div class="efb   mb-3"><div class="efb  clearfix">${efb_var.text.areYouSureYouWantDeleteItem}<br><b>${efb_var.text[t]} >> ${l} </b></div></div>`;show_modal_efb(s,efb_var.text.delete,"efb bi-x-octagon-fill mx-2","deleteBox");const o=document.getElementById("modalConfirmBtnEfb");state_modal_show_efb(1),o.addEventListener("click",(l=>{"form"==t?fun_confirm_remove_emsFormBuilder(Number(e)):"message"==t?fun_confirm_remove_message_emsFormBuilder(Number(e)):"addon"==t?(addons_btn_state_efb(e),fun_confirm_remove_addon_emsFormBuilder(e)):(t="condlogic")&&fun_remove_condition_efb(e,a),activeEl_efb=0,state_modal_show_efb(0)})),window.scrollTo({top:0,behavior:"smooth"})}function add_r_matrix_edit_pro_efb(e,t,a){const l=calPLenEfb(a);a=a<50?200:(a+Math.log(a))*l;const s=Math.random().toString(36).substr(2,9);r_matrix_push_efb(e,efb_var.text.newOption,s,s,t),setTimeout((()=>{add_new_option_efb(e,s,efb_var.text.newOption,s,t)}),a)}funBTNAddOnsEFB=(e,t)=>{3.6>=t?1==(e=>"AdnPDP"!=e&&"AdnADP"!=e||!("AdnADP"==e&&1==efb_var.setting.hasOwnProperty("AdnPDP")&&1==efb_var.setting.AdnPDP||"AdnPDP"==e&&1==efb_var.setting.hasOwnProperty("AdnADP")&&1==efb_var.setting.AdnADP))(e)?(addons_btn_state_efb(e),actionSendAddons_efb(e)):alert_message_efb(efb_var.text.error,efb_var.text.mPAdateW,45,"warning"):(alert_message_efb(efb_var.text.error,efb_var.text.upDMsg,30,"warning"),setTimeout((()=>{location.reload()}),3e3))},funBTNAddOnsUnEFB=e=>{emsFormBuilder_delete(e,"addon","")},fun_confirm_remove_addon_emsFormBuilder=e=>{actionSendAddonsUn_efb(e)},fun_remove_condition_efb=(e,t)=>{document.getElementById(e+"-logics-gs").remove();const a=valj_efb[0].conditions.findIndex((e=>e.id_==t));if(-1!=a){const t=valj_efb[0].conditions[a].condition.findIndex((t=>t.no==e));-1!=t&&(1==valj_efb[0].conditions[a].condition.length?(valj_efb[0].conditions[a].condition[t].one="",valj_efb[0].conditions[a].condition[t].two=""):valj_efb[0].conditions[a].condition.splice(t,1))}},addons_btn_state_efb=e=>{for(const e of document.querySelectorAll(".addons"))e.classList.add("disabled");document.getElementById(e).innerHTML='<i class="efb bi-hourglass-split mx-1"></i>'},funRefreshPricesEfb=()=>{for(const e of document.querySelectorAll(".efb-crrncy"))e.innerHTML=Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:valj_efb[0].currency})},state_modal_show_efb=e=>{const t=document.getElementById("settingModalEfb");function a(e){e.target==t&&state_modal_show_efb(0)}show=()=>{document.body.classList.add("modal-open"),t.classList.add("show"),t.style.cssText="display: block; padding-right: 0.400024px;",t.setAttribute("aria-hidden",!0),setTimeout((()=>{document.body.addEventListener("click",a)}),10)},remove=()=>{document.body.classList.remove("modal-open"),t.classList.remove("show"),t.style.cssText="",t.removeAttribute("aria-hidden"),jQuery("#regTitle").empty().append(loadingShow_efb()),jQuery("#settingModalEfb_").hasClass("save-efb")&&jQuery("#settingModalEfb_").removeClass("save-efb"),jQuery("#settingModalEfb_").hasClass("pre-efb")?(jQuery("#dropZoneEFB").empty().append(editFormEfb()),jQuery("#settingModalEfb_").removeClass("pre-efb")):jQuery("#settingModalEfb_").hasClass("pre-form-efb")&&jQuery("#settingModalEfb_").removeClass("pre-form-efb"),jQuery("#modal-footer-efb")&&jQuery("#modal-footer-efb").remove();var e=loading_messge_efb();jQuery("#settingModalEfb-body")&&jQuery("#settingModalEfb-body").html(e),setTimeout((()=>{document.body.removeEventListener("click",a)}),10)},1==e?show():remove()};let r_matrix_push_efb=(e,t,a,l)=>{valj_efb.push({id_:a,dataId:`${a}-id`,parent:e,type:"r_matrix",value:t,id_op:l,step:step_el_efb,amount:amount_el_efb})};function fun_switch_form_efb(e){r="hiddenEl"!=e.id&&"disabledEl"!=e.id||efb_check_el_pro(e),1==r&&change_el_edit_Efb(e)}function efb_check_el_pro(e){return f_b=()=>{e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")},0==efb_var.pro||"false"==efb_var.pro||""==efb_var.pro?(("button"==e.type&&0==e.classList.contains("setting")||"button"==e.type&&1==e.classList.contains("setting"))&&(f_b(),pro_show_efb(efb_var.text.proUnlockMsg)),!1):("scaptcha_emsFormBuilder"==e.id&&document.getElementById("sitekey_emsFormBuilder").value.length<5&&(f_b(),alert_message_efb(efb_var.text.reCAPTCHA,efb_var.text.reCAPTCHASetError,20,"danger")),!0)}function colors_template_picker_efb(e){const t=`colorDEfb-${e.dataset.color.slice(1)}`,a=e.dataset.color;let l="text",s="";switch(Object.assign(valj_efb[0],{customize_color:1}),e.dataset.id){case"label":l="text",s=efb_add_costum_color(t,a,"",l),pub_el_text_color_efb=s,pub_label_text_color_efb=s;break;case"description":l="text",pub_message_text_color_efb=efb_add_costum_color(t,a,"",l);break;case"icon":l="text",s=efb_add_costum_color(t,a,"",l),pub_icon_color_efb=s;break;case"btntc":l="text",s=efb_add_costum_color(t,a,"",l),pub_txt_button_color_efb=s;break;case"button":case"buttonColor":l="btn",pub_bg_button_color_efb=efb_add_costum_color(t,a,"",l);break}for(let e in valj_efb){const t=valj_efb[e];let a=valj_efb[e].hasOwnProperty("type")?valj_efb[e].type:"";for(const[l,s]of Object.entries(t))switch(l){case"el_text_color":case"label_text_color":valj_efb[e][l]="form"==a||"yesNo"==a||"payment"==a?pub_txt_button_color_efb:pub_el_text_color_efb;break;case"message_text_color":valj_efb[e][l]=pub_message_text_color_efb;break;case"icon_color":valj_efb[e][l]=pub_icon_color_efb;break;case"btntc":pub_txt_button_color_efb;break;case"button_color":valj_efb[e][l]=pub_bg_button_color_efb;break}editFormEfb()}}function open_setting_colors_efb(e){jQuery(e).alert("close"),document.getElementById("sideBoxEfb").classList.contains("show")?sideMenuEfb(0):(state_view_efb=1,document.getElementById("sideMenuConEfb").innerHTML=loading_messge_efb(),sideMenuEfb(1),document.getElementById("sideMenuConEfb").innerHTML=body)}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("wpbody-content");for(let t=0;t<e.children.length;t++)"SCRIPT"!=e.children[t].tagName&&"STYLE"!=e.children[t].tagName&&-1==e.children[t].id.toLowerCase().indexOf("efb")&&-1==e.children[t].id.indexOf("_emsFormBuilder")&&document.getElementById("wpbody-content").children[t].remove();document.getElementById("track_code_emsFormBuilder")&&document.getElementById("track_code_emsFormBuilder").addEventListener("keydown",(e=>{if("Enter"===e.key)return e.preventDefault(),fun_find_track_emsFormBuilder(),!1}))}),!1),window.addEventListener("popstate",(e=>{const t=new URLSearchParams(location.search);let a=g_page=t.get("page")?sanitize_text_efb(t.get("page")):"";if(null==a)return valNotFound_efb();switch(e.state){case"templates":add_dasboard_emsFormBuilder();break;case"create":add_dasboard_emsFormBuilder();break;case"panel":fun_emsFormBuilder_render_view(25),fun_hande_active_page_emsFormBuilder(1);break;case"setting":fun_show_setting__emsFormBuilder(),fun_backButton(0),fun_hande_active_page_emsFormBuilder(2);break;case"help":fun_show_help__emsFormBuilder(),fun_hande_active_page_emsFormBuilder(4);break;case"search":a=localStorage.getItem("search_efb")?sanitize_text_efb(localStorage.getItem("search_efb")):null,search_trackingcode_fun_efb(a);break;case"show-message":a=t.get("id")?sanitize_text_efb(t.get("id")):null,g_page=sanitize_text_efb(t.get("form_type")),efb_var.msg_id=a,form_type_emsFormBuilder=g_page,fun_get_messages_by_id(Number(a)),fun_hande_active_page_emsFormBuilder(1);break;case"edit-form":a=t.get("id")?sanitize_text_efb(t.get("id")):null,fun_get_form_by_id(Number(a)),fun_backButton(),fun_hande_active_page_emsFormBuilder(1);break}})),msg_colors_from_template=()=>{get_colors=()=>{let e="\x3c!--colors--\x3e";for(let t of efb_var.colors)e+=`<div class="efb coloritem col-1 m-1" data-color="${t}" style="background:${t};width: 30px;height: 30px;border-radius: 20%;cursor: pointer;" onClick="colors_template_picker_efb(this)"></div>`;return`<div class="efb row col">${e}</div>`},efb_var.hasOwnProperty("colors")&&(c=get_colors(),div=`<div class="efb text-dark"> ${efb_var.text.wylpfucat} </div><a class="btn btn-darkb text-white efb w-100 mt-1" onclick="open_setting_colors_efb(this)">${efb_var.text.yes}</a>`,alert_message_efb("",div,35,"info"))},add_new_logic_efb=(e,t)=>{e=Math.random().toString(36).substr(2,9);const a=valj_efb[0].conditions.findIndex((e=>e.id_==t));if(-1==a)return;valj_efb[0].conditions[a].condition.push({no:e,term:"is",one:"",two:""});const l=selectSmartforOptionsEls(e,t),s=optionSmartforOptionsEls(e,t,0),o=`<p class="efb mx-2 px-0  col-form-label fs-6 text-center">${efb_var.text.ise}</p>`,n=`\n      <button type="button" class="efb zindex-100  btn btn-delete btn-sm m-1" onclick="emsFormBuilder_delete('${e}','condlogic' ,'${t}')" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete"><i class="efb  bi-trash"></i></button>\n      `;document.getElementById("list-logics").innerHTML+=`\n  <div class="efb mx-0 col-sm-12 row opt" id="${e}-logics-gs">\n    <div class="efb mx-0 px-0 col-md-4">  ${l}</div>\n    <div class="efb mx-0 px-0 col-md-2">  ${o}</div>\n    <div class="efb mx-0 px-0 col-md-4">  ${s}</div>\n    <div class="efb mx-0 px-0 col-md-2">  ${n}</div>\n  </div>`;for(let e of document.querySelectorAll(".elEdit"))if(e.addEventListener("change",(t=>{change_el_edit_Efb(e)})),"selectSmartforOptionsEls"==e.id){const t=valj_efb[0].conditions.findIndex((t=>t.id_==e.dataset.fid)),a=valj_efb[0].conditions[t].condition.findIndex((t=>t.no==e.dataset.no)),l=valj_efb[0].conditions[t].condition[a].one;if(""!=l){let t=valj_efb.findIndex((e=>e.id_==l));if(-1!=t){t=sanitize_text_efb(valj_efb[t].name);const a=document.getElementById("opsso-"+l);a.seleced="selected",e.value=a.value}}e.value}else if("optiontSmartforOptionsEls"==e.id){const t=valj_efb[0].conditions.findIndex((t=>t.id_==e.dataset.fid)),a=valj_efb[0].conditions[t].condition.findIndex((t=>t.no==e.dataset.no)),l=valj_efb[0].conditions[t].condition[a].two;if(""!=l){let t=valj_efb.findIndex((e=>e.id_==l));if(-1!=t){t=sanitize_text_efb(valj_efb[t].value);const a=document.getElementById("ocsso-"+l);a.seleced="selected",e.value=a.value}}}};const funSetAlignElEfb=(e,t,a)=>{const l=valj_efb.findIndex((t=>t.dataId==e));let s="";if(-1!=l||"buttons"==a)switch(a){case"label":document.getElementById(`${valj_efb[l].id_}_labG`).className=alignChangerEfb(document.getElementById(`${valj_efb[l].id_}_labG`).className,t),valj_efb[l].label_align=t;break;case"description":s=document.getElementById(`${valj_efb[l].id_}-des`),s.className=alignChangerElEfb(s.className,t),valj_efb[l].message_align=t,"justify-content-start"!=t&&1==s.classList.contains("mx-4")?s.classList.remove("mx-4"):"justify-content-start"==t&&0==s.classList.contains("mx-4")&&s.classList.add("mx-4");break;case"buttons":s=document.getElementById("f_button_form_np"),s.className=alignChangerElEfb(s.className,t);const e=document.getElementById("f_btn_send_efb");e.className=alignChangerElEfb(e.className,t),valj_efb[0].hasOwnProperty("btns_align")||Object.assign(valj_efb[0],{btns_align:t}),valj_efb[0].btns_align=t,"justify-content-start"==t?(s.classList.remove("px-4"),e.classList.remove("px-4"),s.classList.add("px-2"),e.classList.add("px-2")):"justify-content-end"==t?(s.classList.remove("px-2"),e.classList.remove("px-2"),s.classList.add("px-4"),e.classList.add("px-4")):(s.className=PxChangerEfb(s.className,""),e.className=PxChangerEfb(e.className,""));break}};