let c2d_contex_efb,fileEfb,formName_Efb,temp_efb,activeEl_efb=0,amount_el_efb=1,step_el_efb=0,steps_index_efb=[],valj_efb=[],maps_efb=[],state_efb="view",mousePostion_efb={x:0,y:0},draw_mouse_efb=!1,lastMousePostion_efb=mousePostion_efb,canvas_id_efb="",current_s_efb=1,devlop_efb=!1,preview_efb=!1,lan_name_emsFormBuilder="en",stock_state_efb=!1,page_state_efb="",setting_emsFormBuilder=[],position_l_efb="start",pub_el_text_color_efb="text-labelEfb",pub_message_text_color_efb="text-muted",pub_icon_color_efb="text-pinkEfb",pub_label_text_color_efb="text-labelEfb",pub_el_border_color_efb="border-d",pub_bg_button_color_efb="btn-primary",pub_txt_button_color_efb="text-white";const getUrlparams_efb=new URLSearchParams(location.search),mobile_view_efb=document.getElementsByTagName("body")[0].classList.contains("mobile")?1:0;function fub_shwBtns_efb(){for(const e of document.querySelectorAll(".showBtns"))e.addEventListener("click",(t=>{active_element_efb(e)}))}function pro_show_efb(e){let t=e;"string"!=typeof e&&(t=1==e?efb_var.text.proUnlockMsg:efb_var.text.ifYouNeedCreateMoreThan2Steps);const a=`<div class="efb  pro-version-efb-modal"><i class="efb  bi-gem"></i></div>\n  <h5 class="efb  txt-center">${t}</h5>\n  <div class="efb row">\n  <div class="efb  col-md-6  text-center">\n  <button class="efb btn mt-3 efb btn-r h-d-efb btn-outline-pink "  onClick ="open_whiteStudio_efb('pro')">${efb_var.text.priceyr} </button>\n  </div>\n    <div class="efb  text-center col-md-6"><button type="button" class="efb btn btn-r efb btn-primary efb-btn-lg mt-3 mb-3" onClick ="open_whiteStudio_efb('pro')">\n      <i class="efb  bi-gem mx-1 pro"></i>\n        ${efb_var.text.activateProVersion}\n      </button></div>\n    \n  </div>`;show_modal_efb(a,efb_var.text.proVersion,"","proBpx"),state_modal_show_efb(1)}function move_show_efb(){const e=`<div class="efb  pro-version-efb-modal"><i class="efb "></i></div>\n  <div class="efb  text-center" dir="rtl">\n   <img src="${efb_var.images.movebtn}" class="efb  img-fluid" alt="">\n  </div>`;show_modal_efb(e,"","bi-arrows-move","saveBox"),state_modal_show_efb(1)}efb_var_waitng=e=>{setTimeout((()=>{if("object"==typeof efb_var)return formName_Efb=efb_var.text.form,default_val_efb=efb_var.text.selectOption,pro_efb="1"==efb_var.pro||1==efb_var.pro,position_l_efb=1==efb_var.rtl?"end":"start",lan_name_emsFormBuilder=efb_var.language.slice(0,2),void(efb_var.hasOwnProperty("addons")&&"object"==typeof efb_var.addons&&(addons_emsFormBuilder=efb_var.addons));3e4!=(e+=50)?efb_var_waitng(e):alert_message_efb(efb_var.text.error,"Please Hard Refresh",60)}),e)},efb_var_waitng(50);const show_modal_efb=(e,t,a,n)=>{document.getElementById("settingModalEfb-title").innerHTML=t,document.getElementById("settingModalEfb-icon").className=a+" mx-2",document.getElementById("settingModalEfb-body").innerHTML=e,"settingBox"==n?(document.getElementById("settingModalEfb_").classList.remove("save-efb"),!document.getElementById("settingModalEfb").classList.contains("modal-new-efb")&&document.getElementById("settingModalEfb").classList.add("modal-new-efb")):"deleteBox"==n?(document.getElementById("settingModalEfb_").classList.remove("save-efb"),document.getElementById("modalConfirmBtnEfb")||(document.getElementById("settingModalEfb-sections").innerHTML+=`\n    <div class="efb  modal-footer" id="modal-footer-efb">\n      <a type="button" class="efb  btn btn-danger" data-bs-dismiss="modal"  id="modalConfirmBtnEfb">\n          ${efb_var.text.yes}\n      </a> \n    </div>`)):"saveBox"==n?(document.getElementById("settingModalEfb").classList.remove("modal-new-efb"),document.getElementById("settingModalEfb_").classList.contains("save-efb")||document.getElementById("settingModalEfb_").classList.add("save-efb")):"saveLoadingBox"==n?(document.getElementById("settingModalEfb").classList.remove("modal-new-efb"),document.getElementById("settingModalEfb_").classList.contains("save-efb")||document.getElementById("settingModalEfb_").classList.add("save-efb"),document.getElementById("settingModalEfb-body").innerHTML=loading_messge_efb()):"chart"==n?(document.getElementById("settingModalEfb").classList.remove("modal-new-efb"),document.getElementById("settingModalEfb_").classList.contains("save-efb")||document.getElementById("settingModalEfb_").classList.add("save-efb")):(document.getElementById("settingModalEfb_").classList.remove("save-efb"),document.getElementById("settingModalEfb").classList.remove("modal-new-efb"))},add_new_option_view_select=(e,t,a,n,l)=>{const s=valj_efb.findIndex((e=>e.id_==l));let o="\x3c!-- option --!> 2",i="\x3c!--efb.app--\x3e",d="\x3c!--efb.app--\x3e",b=n;const r=valj_efb[0].hasOwnProperty("currency")?valj_efb[0].currency:"USD";if(0!=n.includes("pay")&&(b=n.slice(3),i=`<span  class="efb col fw-bold  text-labelEfb h-d-efb hStyleOpEfb d-flex justify-content-end"><span id="${e}-price" class="efb efb-crrncy">${Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:r})}</span></span>`),0!=n.includes("chl")&&(b=n.slice(3),d=`<input type="text" class="efb ${valj_efb[s].el_text_color}  ${valj_efb[s].el_height} checklist col-2 hStyleOpEfb emsFormBuilder_v border-d" data-id="${e}" data-vid="" id="${e}_chl" placeholder="${valj_efb[s].pholder_chl_value}"  disabled>`),fun_el_select_in_efb(n))o=`<option value="${t}" id="${e}" data-id="${e}-id"  data-op="${e}" class="efb ${valj_efb[s].el_text_color} ${valj_efb[s].label_text_size} ${valj_efb[s].el_height}">${t}</option>`;else{o=`<div class="efb  form-check ${valj_efb[s].hasOwnProperty("op_style")&&1!=Number(valj_efb[s].op_style)?"col-md-"+12/Number(valj_efb[s].op_style):""}" data-parent="${l}"  id="${a}-v">\n    <input class="efb  form-check-input ${valj_efb[s].el_text_size}" type="${b}" name="${l}"  value="${t}" id="${e}" data-id="${e}-id" data-op="${e}" disabled>\n    <label class="efb ${valj_efb[s].hasOwnProperty("pholder_chl_value")?"col-8":""}  ${valj_efb[s].el_text_color} ${valj_efb[s].label_text_size} ${valj_efb[s].el_height} hStyleOpEfb " id="${e}_lab" for="${e}">${t}</label>\n    ${d}\n    ${i}\n    </div>`}return o};function addNewElement(e,t,a,n){let l=["","","",""];const s=1!=n?"showBtns":"";let o=0!=a?valj_efb.findIndex((e=>e.id_==t)):0;1==n&&"html"!=e&&"register"!=e&&"login"!=e&&"subscribe"!=e&&"survey"!=e&&(l=get_position_col_el(valj_efb[o].dataId,!1)),amount_el_efb=0==a?Number(amount_el_efb)+1:valj_efb[o].amount,element_name=0==a?e:valj_efb[o].name;let i="\x3c!-- options --\x3e";if(step_el_efb>=1&&0==a&&"steps"==e&&(step_el_efb=Number(step_el_efb)+1),0!=a&&1!=n){step_el_efb=valj_efb[0].steps;const e=1==valj_efb[0].steps?0:1;add_buttons_zone_efb(e,"dropZoneEFB")}let d=1==n?"payefb":"pay";if(newElement="",0==n&&Object.entries(valj_efb[o]).forEach((([e,t])=>{fun_addStyle_costumize_efb(t.toString(),e,o)})),1==step_el_efb){let t=!1;if(0==a&&(t=!0),"steps"!=e){if(0==a&&valj_efb.length<2){valj_efb.push({id_:`${step_el_efb}`,type:"step",dataId:`${step_el_efb}`,classes:"",id:`${step_el_efb}`,name:efb_var.text[formName_Efb].toUpperCase(),icon:"",step:step_el_efb,amount:amount_el_efb,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:pub_message_text_color_efb,icon_color:pub_icon_color_efb,icon:"bi-ui-checks-grid",visible:1}),o=valj_efb.length-1;newElement=` \n        <section class="efb  ${o<=1?"unsortable":"sortable"} list   row my-2  efbField stepNavEfb stepNo" data-step="${step_el_efb}" data-amount="${step_el_efb}" data-id="${step_el_efb}" id="${step_el_efb}" data-tag="steps">\n            <div class="efb  row my-2  ${s} efbField stepNavEfb" data-step="${step_el_efb}" data-amount="${step_el_efb}" data-id="${step_el_efb}" id="${step_el_efb}" data-tag="steps">\n            <h2 class="efb  col-10 mx-2 my-0"><i class="efb  ${valj_efb[o].icon} ${"default"!=valj_efb[o].label_text_size?valj_efb[o].label_text_size:"fs-5"}  ${valj_efb[o].icon_color}"\n                    id="${step_el_efb}_icon"></i> <span id="${step_el_efb}_lab" class="efb   text-darkb  ${"default"!=valj_efb[o].label_text_size?valj_efb[o].label_text_size:"fs-5"} ">${valj_efb[o].name}</span></span></h2>\n            <small id="${step_el_efb}-des" class="efb  form-text ${valj_efb[o].message_text_color} border-bottom px-4   ">${valj_efb[o].message}</small>\n            <div class="efb  col-sm-10">\n                <div class="efb  btn-edit-holder btnSetting d-none " id="btnSetting-${step_el_efb}">\n                    <button type="button" class="efb  btn  btn-edit  btn-sm BtnSideEfb" id="settingElEFb"\n                        data-id="id1" data-bs-toggle="tooltip" title="${efb_var.text.edit}"\n                        onclick="show_setting_window_efb('${step_el_efb}')">\n                        <div class="icon-container efb"><i class="efb   bi-gear-wide-connected text-success" id="efbSetting"></i></div>\n                    </button>\n                </div>\n            </div>\n        </div>\n        </section>`}const e=1==valj_efb[0].steps?0:1;1!=n&&add_buttons_zone_efb(0==a?0:e,"dropZoneEFB")}else"steps"==e&&1==step_el_efb&&0==t&&0==a&&(valj_efb.push({id_:`${step_el_efb}`,type:"step",dataId:`${step_el_efb}`,classes:"",id:`${step_el_efb}`,name:efb_var.text[formName_Efb].toUpperCase(),icon:"",step:step_el_efb,amount:amount_el_efb,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",file:"document",label_text_color:"text-darkb",el_text_color:"text-dark",message_text_color:pub_message_text_color_efb,icon_color:pub_icon_color_efb,icon:"bi-ui-checks-grid",visible:1}),0==a&&valj_efb.length>2&&(step_el_efb=Number(step_el_efb)+1));amount_el_efb=Number(amount_el_efb)+1}0==a&&("steps"!=e&&step_el_efb>=0||"steps"==e&&step_el_efb>=0)&&(0==pro_efb&&step_el_efb<3||1==pro_efb)&&sampleElpush_efb(t,e);let b=0==a?valj_efb.length-1:valj_efb.findIndex((e=>e.id_==t)),r="text";const _=`<small id="${t}-des" class="efb  form-text d-flex  fs-7 col-sm-12 efb ${1==n&&"col-md-4"==l[1]||"justify-content-start"!=valj_efb[b].message_align?"":"mx-4"}  ${valj_efb[b].message_align}  ${valj_efb[b].message_text_color} ${valj_efb[b].hasOwnProperty("message_text_size")?valj_efb[b].message_text_size:""} ">${valj_efb[b].message} </small> `,c=`<label for="${t}_" class="efb mx-0 px-0 pt-2 pb-1  ${1==n?l[2]:"col-md-12"} col-sm-12 col-form-label ${valj_efb[b].hasOwnProperty("hflabel")&&1==Number(valj_efb[b].hflabel)?"d-none":""} ${valj_efb[b].label_text_color} ${valj_efb[b].label_align} ${"default"!=valj_efb[b].label_text_size?valj_efb[b].label_text_size:""} " id="${t}_labG""><span id="${t}_lab" class="efb  ${valj_efb[b].label_text_size}">${valj_efb[b].name}</span><span class="efb  mx-1 text-danger" id="${t}_req">${1==valj_efb[b].required||1==valj_efb[b].required?"*":""}</span></label>`,f=`<small id="${t}_-message" class="efb text-danger py-1 fs-7 tx ttiptext px-2"> ! </small>`,m=Math.random().toString(36).substr(2,9),p=Math.random().toString(36).substr(2,9),u=Math.random().toString(36).substr(2,9),v=Math.random().toString(36).substr(2,9),$=Math.random().toString(36).substr(2,9);let g="";const y="payCheckbox"==e||"payRadio"==e||"paySelect"==e||"payMultiselect"==e||"chlRadio"==e||"chlCheckBox"==e||"imgRadio"==e?e.slice(3).toLowerCase():e;let h="";const x=valj_efb[b].hasOwnProperty("corner")?valj_efb[b].corner:"efb-square";let j,w,E,B,k=1==n&&valj_efb[b].hasOwnProperty("hidden")&&1==valj_efb[b].hidden?"d-none":"",I=valj_efb[b].hasOwnProperty("disabled")&&1==valj_efb[b].disabled?"disabled":"";switch(l[3]=""==l[3]?"col-md-12":l[3],e){case"email":case"text":case"password":case"tel":case"url":case"date":case"color":case"number":case"firstName":case"lastName":case"datetime-local":const o="firstName"==e||"lastName"==e?"text":e;w=valj_efb[b].hasOwnProperty("mlen")&&valj_efb[b].mlen>0?valj_efb[b].mlen:0,w=0!=Number(w)?`maxlength="${w}"`:"",j=valj_efb[b].hasOwnProperty("milen")&&valj_efb[b].milen>0?valj_efb[b].milen:0,j=0!=Number(j)?`minlength="${j}"`:"",h="range"!=e?`form-control ${valj_efb[b].el_border_color} `:"form-range",g=`\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n        ${f}\n        <input type="${o}"   class="efb input-efb px-2 mb-0 emsFormBuilder_v w-100 ${h} ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_text_color} ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""}  efbField efb1 ${valj_efb[b].classes.replace(","," ")}" data-id="${t}-el" data-vid='${t}' data-css="${t}" id="${t}_" placeholder="${valj_efb[b].placeholder}"  ${valj_efb[b].value.length>0?`value ="${valj_efb[b].value}"`:""} ${w} ${j} ${1!=n?"readonly":""} ${"disabled"==I?"readonly":""}>\n        ${_}`,r=e;break;case"pdate":h="range"!=e?`form-control ${valj_efb[b].el_border_color} `:"form-range",g=`\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n        ${f}\n        <input type="text"   class="efb pdpF2 input-efb px-2 mb-0 emsFormBuilder_v w-100 ${h} ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_text_color} ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""}  efbField efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-id="${t}-el" data-vid='${t}'  id="${t}_" placeholder="${valj_efb[b].placeholder}"  ${valj_efb[b].value.length>0?`value ="${valj_efb[b].value}"`:""} ${1!=n?"readonly":""}>\n        ${_}`,r=e,"function"!=typeof rating_el_pro_efb&&(g=public_pro_message());break;case"ardate":h="range"!=e?`form-control ${valj_efb[b].el_border_color} `:"form-range",g=`\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n        ${f}\n        <input type="text"   class="efb hijri-picker input-efb px-2 mb-0 emsFormBuilder_v w-100 ${h}  ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_text_color} ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""}  efbField efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-id="${t}-el" data-vid='${t}' id="${t}_" placeholder="${valj_efb[b].placeholder}"  ${valj_efb[b].value.length>0?`value ="${valj_efb[b].value}"`:""} ${1!=n?"readonly":""} ${"disabled"==I?"readonly":""}>\n        ${_}`,r=e,"function"!=typeof rating_el_pro_efb&&(g=public_pro_message());break;case"range":w=valj_efb[b].hasOwnProperty("mlen")?valj_efb[b].mlen:100,j=valj_efb[b].hasOwnProperty("milen")?valj_efb[b].milen:0,E=valj_efb[b].value>0?valj_efb[b].value:Math.round((Number(valj_efb[b].mlen)+Number(valj_efb[b].milen))/2),g=`\n        ${c}\n        <div class="efb ${l[3]} col-sm-12 px-0 mx-0 ttEfb show  "  id='${t}-f'>\n          ${f}\n          <div class="efb slider m-0 p-2 ${valj_efb[b].el_height}  ${valj_efb[b].el_text_color} efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" id='${t}-range'>\n          <input type="${e}"  class="efb input-efb px-2 mb-0 emsFormBuilder_v w-100  ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""}  efbField" data-id="${t}-el" data-vid='${t}' id="${t}_" oninput="fun_show_val_range_efb('${t}')"  ${valj_efb[b].value.length>0?`value ="${E}"`:""} min="${j}" max="${w}" ${1!=n?"readonly":""} ${"disabled"==I?"readonly":""}>\n          <p id="${t}_rv" class="efb mx-1 py-0 my-1 fs-6 text-darkb">${E||50}</p>\n          </div>\n          ${_}`,r=e;break;case"maps":g=`\n      ${c}\n      \x3c!-- ${t}-map --\x3e\n      ${f}\n      ${"function"==typeof maps_el_pro_efb?maps_el_pro_efb(n,l,t,b):public_pro_message()}\n        ${_}`,r=e;break;case"file":g=`\n       ${c}\n        <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n          ${f}        \n          <input type="${e}" class="efb  input-efb px-2 pb-0 emsFormBuilder_v w-100  ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""} ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_border_color}    form-control efb efbField efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-vid='${t}' data-id="${t}-el" id="${t}_" placeholder="${e}" ${1!=n?"readonly":""} ${"disabled"==I?"readonly":""}>\n          ${_}`,r=e;break;case"textarea":j=valj_efb[b].hasOwnProperty("milen")&&valj_efb[b].milen>0?valj_efb[b].milen:0,j=0!=Number(j)?`minlength="${j}"`:"",g=`\n                ${c}\n                <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f' >\n                ${f}\n                <textarea  id="${t}_"  placeholder="${valj_efb[b].placeholder}"  class="efb  px-2 input-efb emsFormBuilder_v form-control w-100 ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""}  ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_text_color} ${valj_efb[b].el_border_color}  efbField efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-vid='${t}' data-id="${t}-el"  value="${valj_efb[b].value}" rows="5" ${1!=n?"readonly":""} ${I} ${j}>${valj_efb[b].value}</textarea>\n                ${_}\n            `,r="textarea";break;case"mobile":E="function"==typeof create_intlTelInput_efb?create_intlTelInput_efb(t,b,n,x):public_pro_message(),g=`\n                ${c}\n                <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n                ${f}\n                ${E}\n                ${_}\n            `,r="textarea";break;case"dadfile":g=`\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show" id='${t}-f'>\n      ${_}      \n      ${f}\n      ${"function"==typeof dadfile_el_pro_efb?dadfile_el_pro_efb(n,t,b):public_pro_message()}\n      `,r=e;break;case"checkbox":case"radio":case"payCheckbox":case"payRadio":case"chlCheckBox":case"chlRadio":case"imgRadio":if(r=e,B=valj_efb[b].hasOwnProperty("op_style")&&1!=Number(valj_efb[b].op_style)?"col-md-"+12/Number(valj_efb[b].op_style):"","radio"!=e&&"checkbox"!=e&&"chlRadio"!=e&&"chlCheckBox"!=e&&"imgRadio"!=e||(d=""),E="imgRadio"==e?"col-md-4 mx-0 px-2":"",0!=a){let a=r.toLowerCase(),l=valj_efb[b];const s=valj_efb.filter((e=>e.parent===t)),o=valj_efb[0].hasOwnProperty("currency")?valj_efb[0].currency:"USD";for(const _ of s){let s="";(1==a.includes("radio")||1==a.includes("select")&&0==a.includes("multi"))&&(l.value==_.id_||_.hasOwnProperty("id_old")&&l.value==_.id_old)?s="checked":1!=a.includes("multi")&&1!=a.includes("checkbox")||"string"==typeof l.value||-1==l.value.findIndex((e=>e==_.id_||e==_.id_old))||(s="checked");const c=_.hasOwnProperty("price")?Number(_.price):0;i+=`<div class="efb  form-check ${B} ${e} ${E} efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-parent="${_.parent}" data-id="${_.id_}" id="${_.id_}-v">\n          <input class="efb  form-check-input emsFormBuilder_v ${d}  ${valj_efb[b].el_text_size} " data-tag="${r}" data-type="${y}" data-vid='${t}' type="${y}" name="${_.parent}" value="${_.value}" id="${_.id_}" data-id="${_.id_}-id" data-op="${_.id_}"${1!=n?"readonly":""} ${I} ${s}>\n          ${"imgRadio"!=e?` <label class="efb ${valj_efb[b].hasOwnProperty("pholder_chl_value")?"col-8":""}  ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} ${valj_efb[b].label_text_size} hStyleOpEfb " id="${_.id_}_lab" for="${_.id_}">${_.value}</label>`:fun_imgRadio_efb(_.id_,_.src,_)}\n          ${0!=e.includes("chl")?`<input type="text" class="efb ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} checklist col-2 hStyleOpEfb emsFormBuilder_v border-d" data-id="${_.id_}" data-type="${r}" data-vid="" id="${_.id_}_chl" placeholder="${valj_efb[b].pholder_chl_value}"  disabled>`:""}\n          ${d.length>2?`<span  class="efb col fw-bold  text-labelEfb h-d-efb hStyleOpEfb d-flex justify-content-end"><span id="${_.id_}-price" class="efb efb-crrncy">${c.toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:o})}</span></span>`:""}\n          </div>`}}else{const a=Math.random().toString(36).substr(2,9),l=Math.random().toString(36).substr(2,9),s=0,o=valj_efb[0].hasOwnProperty("currency")?valj_efb[0].currency:"USD";i=`\n       <div class="efb  form-check  ${e}  ${E} efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-id="${a}" data-parent="${t}" id="${a}-v">\n       <input class="efb  emsFormBuilder_v form-check-input ${d} ${valj_efb[b].el_text_size} " type="${y}" name="${valj_efb[b].id_}" value="${y}" id="${a}" data-id="${a}-id" data-op="${a}" ${1!=n?"readonly":""} ${I}>\n       ${"imgRadio"!=e?`<label class="efb ${valj_efb[b].hasOwnProperty("pholder_chl_value")?"col-8":""}   ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} ${valj_efb[b].label_text_size} hStyleOpEfb " id="${a}_lab">${efb_var.text.newOption} 1</label>`:fun_imgRadio_efb(a,"urlLin",valj_efb[b])}\n       ${0!=e.includes("chl")?`<input type="text" class="efb col ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} checklist col-2 hStyleOpEfb emsFormBuilder_v border-d" data-id="${valj_efb[b].id_}" data-vid="" id="${valj_efb[b].id_}_chl" placeholder="${valj_efb[b].pholder_chl_value}" disabled>`:""}\n       ${d.length>2?`<span  class="efb col fw-bold  text-labelEfb h-d-efb hStyleOpEfb d-flex justify-content-end"><span id="${a}-price" class="efb efb-crrncy">${s.toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:o})}</span></span>`:""}\n       </div>\n       <div class="efb  form-check ${e}  ${E} efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-parent="${t}" data-id="${l}" id="${l}-v">\n           <input class="efb  emsFormBuilder_v form-check-input ${d}  ${valj_efb[b].el_text_size} " type="${y}" name="${valj_efb[b].id_}" value="${y}" id="${l}" data-id="${l}-id" data-op="${l}" ${1!=n?"readonly":""} ${I}>\n           ${"imgRadio"!=e?`<label class="efb ${valj_efb[b].hasOwnProperty("pholder_chl_value")?"col-8":""}   ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} ${valj_efb[b].label_text_size} hStyleOpEfb "  id="${l}_lab">${efb_var.text.newOption} 2</label>`:fun_imgRadio_efb(l,"urlLin",valj_efb[b])}\n           ${0!=e.includes("chl")?`<input type="text" class="efb col ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} checklist col-2 hStyleOpEfb emsFormBuilder_v border-d" data-id="${valj_efb[b].id_}" data-vid="" id="${valj_efb[b].id_}_chl" placeholder="${valj_efb[b].pholder_chl_value}" disabled>`:""}\n           ${d.length>2?`<span  class="efb col fw-bold  text-labelEfb h-d-efb hStyleOpEfb d-flex justify-content-end"><span id="${l}-price" class="efb efb-crrncy">${s.toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:o})}</span></span>`:""}\n       </div>`,E="1",tp="2","imgRadio"==e&&(E="",tp=""),optionElpush_efb(t,`${efb_var.text.newOption} ${E}`,a,a,r),optionElpush_efb(t,`${efb_var.text.newOption} ${tp}`,l,l,r)}E="imgRadio"==e?"row  justify-content-center":"",g=`\n      \x3c!-- checkbox --\x3e\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 py-0 my-0 ttEfb show"   data-id="${t}-el" id='${t}-f'>\n      ${f}\n      <div class="efb  ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""} ${""!=B?"row col-md-12":""} ${E} efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" id="${t}_options">\n        ${i}\n        </div>\n        <div class="efb  mb-3">${_}</div>\n        \x3c!-- end checkbox --\x3e\n        `;break;case"switch":valj_efb[b].on=valj_efb[b].hasOwnProperty("on")?valj_efb[b].on:efb_var.text.on,valj_efb[b].off=valj_efb[b].hasOwnProperty("off")?valj_efb[b].off:efb_var.text.off,g=`\n      ${c}\n      ${f}\n      <div class="efb ${l[3]} col-sm-12 px-0 mx-0 ttEfb show" id ="${t}-f">\n      <label class="efb fs-6" id="${t}_off">${valj_efb[b].off}</label>\n      <button type="button"  data-state="off" class="efb btn   ${valj_efb[b].el_height}  btn-toggle efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" data-toggle="button" aria-pressed="false" autocomplete="off" data-vid='${t}' onClick="fun_switch_efb(this)" data-id="${t}-el" id="${t}_" ${1!=n?"disabled":""} ${I}>\n        <div class="efb handle"></div>\n      </button>\n      <label class="efb fs-6" id="${t}_on">${valj_efb[b].on}</label>\n      \n    \n\n   \x3c!--   <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show" id ="${t}-f">\n      <div class="efb  form-check form-switch   ${valj_efb[b].el_height} efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}" id="${t}-switch">\n        <input class="efb d-none emsFormBuilder_v efb-switch form-check-input efbField" type="checkbox" data-vid='${t}' data-id="${t}-el" id="${t}_" ${1!=n?"disabled":""} ${I}>\n      </div> --\x3e\n      <div class="efb  mb-3">${_}</div>\n      `,"function"!=typeof rating_el_pro_efb&&(g=public_pro_message()),r=e;break;case"esign":g=`\n      ${c}\n      ${f}\n      \n      ${"function"==typeof esign_el_pro_efb?esign_el_pro_efb(n,l,t,b,_):public_pro_message()}\n      `,r=e;break;case"rating":g=`\n      ${f}\n      ${c}\n      ${"function"==typeof rating_el_pro_efb?rating_el_pro_efb(n,l,t,b):public_pro_message()}\n      \n      <div class="efb  mb-3">${_}</div>\n        `,r=e;break;case"steps":r="step";let k="";if(step_el_efb>1&&(k=`\n          <button type="button" class="efb  btn btn-edit btn-sm" id="${valj_efb[b].id_}"\n          data-id="id1" data-bs-toggle="tooltip" title="${efb_var.text.delete}"\n          onclick="show_delete_window_efb('${valj_efb[b].id_}' ,${b})">\n          <i class="efb  bi-x-lg text-danger"></i>\n          </button>`),step_el_efb<=2||step_el_efb>2&&1==pro_efb){valj_efb[0].steps=0==a?step_el_efb:valj_efb[0].steps;const t=""!=valj_efb[b].classes?"efb1 "+valj_efb[b].classes.replace(","," "):"";newElement+=` \n        <setion class="efb ${b<3?"unsortable":"sortable"}  row my-2 ${s} efbField stepNavEfb stepNo ${t}" data-step="${valj_efb[b].id_}" id="${valj_efb[b].id_}" data-amount="${step_el_efb}" data-id="${valj_efb[b].id_}" data-tag="${e}">\n       \x3c!-- <div class="efb  row my-2  ${s} efbField ${valj_efb[b].classes.replace(","," ")} stepNavEfb" data-step="${valj_efb[b].id_}" id="${valj_efb[b].id_}" data-amount="${step_el_efb}" data-id="${valj_efb[b].id_}" data-tag="${e}"> --\x3e\n        <h2 class="efb  col-md-10 col-sm-12 mx-2 my-0"><i class="efb  ${valj_efb[b].icon} ${valj_efb[b].label_text_size} ${valj_efb[b].icon_color} "\n        id="${valj_efb[b].id_}_icon"></i> <span id="${valj_efb[b].id_}_lab" class="efb  ${valj_efb[b].label_text_size}  ${valj_efb[b].label_text_color}  ">${valj_efb[b].name}</span></span></h2>\n        <small id="${valj_efb[b].id_}-des" class="efb  form-text ${valj_efb[b].message_text_color} border-bottom px-4">${valj_efb[b].message}</small>\n       \n        <div class="efb  col-md-10 col-sm-12">\n        <div class="efb  btn-edit-holder d-none" id="btnSetting-${valj_efb[b].id_}">\n        <button type="button" class="efb  btn btn-edit btn-sm BtnSideEfb" id="settingElEFb"\n        data-id="id1" data-bs-toggle="tooltip" title="${efb_var.text.edit}"\n        onclick="show_setting_window_efb('${valj_efb[b].id_}')">\n        <div class="icon-container efb"><i class="efb bi-gear-wide-connected  text-success BtnSideEfb" ></i></div>\n        </button>\n          ${k}\n        </div>\n        </div>\n        \x3c!--  </div> --\x3e\n        </setion>\n        `}else pro_show_efb(2);break;case"select":case"paySelect":if("select"==e&&(d=""),0!=a){const e=valj_efb.filter((e=>e.parent===t)),a=valj_efb.findIndex((e=>e.id_==t)),n=valj_efb[a].value;for(const t of e){const e=t.id_==n?"selected":"";i+=`<option value="${t.value}" id="${t.id_}" data-id="${t.id_}" data-op="${t.id_}" class="efb ${valj_efb[a].el_text_color}  emsFormBuilder_v efb" ${e}>${t.value}</option>`}}else i=`\n        <option value="${efb_var.text.newOption} 1" id="${m}" data-vid='${t}' data-id="${u}" data-op="${u}" class="efb text-dark efb  " >${efb_var.text.newOption} 1</option>\n        <option value="${efb_var.text.newOption} 2" id="${p}" data-vid='${t}' data-id="${v}" data-op="${v}" class="efb text-dark efb " >${efb_var.text.newOption} 2</option>\n       `,optionElpush_efb(t,`${efb_var.text.newOption} 1`,m,u,r),optionElpush_efb(t,`${efb_var.text.newOption} 2`,p,v,r);g=`\n      ${c}\n      <div class="efb ${l[3]} col-sm-12 px-0 mx-0 ttEfb show efb1  ${valj_efb[b].classes.replace(","," ")}"  data-css="${t}"   id='${t}-f'  data-id="${t}-el" >\n      ${f}\n      <select class="efb form-select efb emsFormBuilder_v w-100 ${d}  ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""} ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_border_color}  w-100 " data-vid='${t}' id="${t}_options" ${1!=n?"readonly":""} ${I}>\n      <option selected disabled>${efb_var.text.nothingSelected}</option>\n      ${i}\n      </select>\n      ${_}\n      `,r=e;break;case"conturyList":i="function"==typeof countryList_el_pro_efb?countryList_el_pro_efb(t,m,u,v,a):"null",g=`\n        ${c}\n        <div class="efb ${l[3]} col-sm-12 efb  px-0 mx-0 ttEfb show efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}"  id='${t}-f'  data-id="${t}-el" >\n        ${f}\n        <select class="efb form-select efb w-100 emsFormBuilder_v w-100 ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""} ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_border_color}  " data-vid='${t}' id="${t}_options" ${1!=n?"readonly":""} ${I}>\n        <option selected disabled>${efb_var.text.nothingSelected}</option>\n        ${i}\n        </select>\n        ${_}\n        `,"null"==i&&(g=public_pro_message()),r=e;break;case"stateProvince":valj_efb.push({id_:"NIR",dataId:"NIR-id",parent:t,type:"option",value:"Northern Ireland",id_op:"_N_o_r_t_h_e_r_n_ _I_r_e_l_a_n_d_",step:valj_efb[b].step,amount:valj_efb[b].amount},{id_:"ENG",dataId:"ENG-id",parent:t,type:"option",value:"England",id_op:"_E_n_g_l_a_n_d_",step:valj_efb[b].step,amount:valj_efb[b].amount},{id_:"SCO",dataId:"SCO-id",parent:t,type:"option",value:"Scotland",id_op:"_S_c_o_t_l_a_n_d_",step:valj_efb[b].step,amount:valj_efb[b].amount},{id_:"WAL",dataId:"WAL-id",parent:t,type:"option",value:"Wales",id_op:"_W_a_l_e_s_",step:valj_efb[b].step,amount:valj_efb[b].amount}),i="function"==typeof statePrevion_el_pro_efb?statePrevion_el_pro_efb(t,m,u,v,a):"null",g=`\n        ${c}\n        <div class="efb ${l[3]} col-sm-12 px-0 mx-0 ttEfb show efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}"  id='${t}-f'  data-id="${t}-el" >\n        ${f}\n        <select class="efb form-select emsFormBuilder_v w-100 ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""} ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_border_color}  " data-vid='${t}' id="${t}_options" ${1!=n?"readonly":""} ${I}>\n        <option selected disabled>${efb_var.text.nothingSelected}</option>\n        ${i}\n        </select>\n        ${_}\n        `,r=e,"null"==i&&(g=public_pro_message());break;case"multiselect":case"payMultiselect":"multiselect"==e&&(d=""),r="multiselect";const L=valj_efb[0].hasOwnProperty("currency")?valj_efb[0].currency:"USD";let S="",N="";if(0!=a){i="\x3c!--opt--\x3e";const e=valj_efb.filter((e=>e.parent===t)),a=valj_efb.findIndex((e=>e.id_==t)),n=valj_efb[a].value.length>0;for(const l of e){let e="efb bi-square efb";1==n&&-1!=valj_efb[a].value.findIndex((e=>e==l.id_))&&(e="bi-check-square text-info efb",S+=l.value+",",N+=l.id_+" @efb!"),i+=`<tr class="efb  efblist ${valj_efb[a].el_text_color}  ${d}" data-id="${t}" data-name="${l.value}" data-row="${l.id_}" data-state="0" data-visible="1">\n          <th scope="row" class="${e}"></th><td class="efb  ms col-12">${l.value}</td>\n          ${d.length>2?`<td class="efb ms fw-bold text-center"><span id="${l.id_}-price" class="efb efb-crrncy">${Number(l.price).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:L})}</span></td>`:""}\n        </tr>  `}}else{i=`\n        <tr class="efb list  ${d}" data-id="menu-${t}" data-name="${efb_var.text.blue}" data-row="${u}" data-state="0" data-visible="1">\n        <th scope="row" class="efb bi-square efb"></th><td class="efb  ms col-12">${efb_var.text.blue}</td>\n        ${d.length>2?`<td class="efb ms fw-bold text-center"><span id="${u}-price" class="efb efb-crrncy">${Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:L})}</span></td>`:""}\n        </tr>\n      <tr class="efb list  ${d}" data-id="menu-${t}" data-name="${efb_var.text.Red}" data-row="${v}" data-state="0" data-visible="1">\n        <th scope="row" class="efb bi-square efb"></th><td class="efb  ms col-12">${efb_var.text.Red}</td>                  \n        ${d.length>2?`<td class="efb ms fw-bold text-center"><span id="${v}-price" class="efb efb-crrncy">${Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:L})}</span></td>`:""}\n      </tr>\n      <tr class="efb list  ${d}" data-id="menu-${t}" data-name="${efb_var.text.yellow}" data-row="${$}" data-state="0" data-visible="1">\n        <th scope="row" class="efb bi-square efb"></th><td class="efb  ms col-12">${efb_var.text.yellow}</td>\n        ${d.length>2?`<td class="efb ms fw-bold text-center"><span id="${$}-price" class="efb efb-crrncy">${Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:L})}</span></td>`:""}\n      </tr>  \n       `;optionElpush_efb(t,`${efb_var.text.blue}`,`${u}`,u,r),optionElpush_efb(t,`${efb_var.text.Red}`,`${v}`,v,r),optionElpush_efb(t,`${efb_var.text.yellow}`,`${$}`,$,r)}g=` \n      ${c}\n      \x3c!--multiselect--\x3e      \n      <div class="efb  ${l[3]} col-sm-12 listSelect px-0 mx-0 ttEfb show efb1 ${valj_efb[b].classes.replace(","," ")}" data-css="${t}"   id='${t}-f' data-id="${t}-el" >\n        ${f}\n        <div class="efb efblist  mx-0  inplist ${d}  ${1!=n?"disabled":""} ${I}  ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""} ${valj_efb[b].el_height} ${x} ${valj_efb[b].el_border_color} bi-chevron-down" data-id="menu-${t}"   data-no="${valj_efb[b].maxSelect}" data-min="${valj_efb[b].minSelect}" data-parent="1" data-icon="1" data-select="${N}"  data-vid='${t}' id="${t}_options" > ${0==S.length?efb_var.text.selectOption:S}</div>\n      \n        <div class="efb efblist mx-0  listContent shadow d-none border rounded-bottom bg-light" data-id="menu-${t}" data-list="menu-${t}">\n        <table class="efb table menu-${t}">\n         <thead class="efb efblist">\n           <tr> <div class="efb searchSection efblist p-2 bg-light"> \n           \x3c!-- <i class="efb efblist searchIcon  bi-search text-primary "></i> --\x3e\n               <input type="text" class="efb efblist search searchBox my-1 col-12 rounded " data-id="menu-${t}" data-tag="search" placeholder="🔍 ${efb_var.text.search}" onkeyup="FunSearchTableEfb('menu-${t}')"> </div>\n         </tr> </thead>\n         <tbody class="efb fs-7">                  \n          ${i}\n         </tbody>\n       </table>\n      </div>            \n      ${_}\n       `,r=e;break;case"html":r=e,g="function"==typeof html_el_pro_efb?html_el_pro_efb(n,t,b):public_pro_message();break;case"yesNo":r=e,g=`\n      ${c}\n      ${f}\n      ${"function"==typeof yesNi_el_pro_efb?yesNi_el_pro_efb(n,l,t,b):public_pro_message()}\n     \n        ${_}`;break;case"link":r=e,g="function"==typeof link_el_pro_efb?link_el_pro_efb(n,l,t,b):public_pro_message();break;case"stripe":if(1!=addons_emsFormBuilder.AdnSPF){alert_message_efb(efb_var.text.error,efb_var.text.IMAddonP,20,"danger");const e=valj_efb.length-1;return valj_efb.splice(e,1),"null"}{let a=efb_var.text.onetime,n="one";if("charge"!=valj_efb[0].paymentmethod){const e=`${valj_efb[0].paymentmethod}ly`;a=efb_var.text[e],n=valj_efb[0].paymentmethod}r=e,g="function"==typeof add_ui_stripe_efb?add_ui_stripe_efb(t,n,a):public_pro_message(),valj_efb[0].type="payment",form_type_emsFormBuilder=valj_efb[0].type}break;case"persiaPay":case"zarinPal":if(1!=addons_emsFormBuilder.AdnPPF){alert_message_efb(efb_var.text.error,efb_var.text.IMAddonP,20,"danger");const e=valj_efb.length-1;return valj_efb.splice(e,1),"null"}valj_efb[0].type="payment",form_type_emsFormBuilder=valj_efb[0].type,r=e,valj_efb[0].paymentmethod="charge",g="function"==typeof add_ui_persiaPay_efb?add_ui_persiaPay_efb(t):public_pro_message();break;case"heading":r=e,g="function"==typeof headning_el_pro_efb?headning_el_pro_efb(t,l,b):public_pro_message();break;case"booking":r=e;break;case"pointr10":E="function"==typeof pointer10_el_pro_efb?pointer10_el_pro_efb(n,h,b):public_pro_message(),g=`\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n        ${f}\n        ${E}\n        ${_}`,r=e;break;case"pointr5":E="function"==typeof pointer5_el_pro_efb?pointer5_el_pro_efb(n,h,b):public_pro_message(),g=`\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n        ${f}\n        ${E}\n        ${_}`,r=e;break;case"smartcr":E="function"==typeof smartcr_el_pro_efb?smartcr_el_pro_efb(n,h,b):public_pro_message(),g=`\n      ${c}\n      <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"  id='${t}-f'>\n        ${f}\n        ${E}\n        ${_}`,r=e;break;case"table_matrix":if(type_field_efb=e,r=e,B=valj_efb[b].hasOwnProperty("op_style")&&1!=Number(valj_efb[b].op_style)?"col-md-"+12/Number(valj_efb[b].op_style):"","radio"!=e&&"checkbox"!=e&&"chlRadio"!=e&&"chlCheckBox"!=e||(d=""),0!=a){optns_obj=valj_efb.filter((e=>e.parent===t));for(const e of optns_obj)prc=e.hasOwnProperty("price")?Number(e.price):0,i+=`\n            \n            <div class="efb  col-sm-12 ${B} row my-1" data-id="${e.id_}" data-parent="${e.parent}" id="${e.id_}-v">\n              <div class="efb my-2  col-md-8 fs-6  ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} ${valj_efb[b].label_text_size}" id="${e.id_}_lab">${e.value}</div>\n              <div class="efb col-md-4  d-flex justify-content-${position_l_efb} " id="${e.id_}" > \n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="1"  data-id="${e.id_}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill" data-icon="${e.id_}"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="2"  data-id="${e.id_}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill" data-icon="${e.id_}"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="3"  data-id="${e.id_}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill" data-icon="${e.id_}"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="4"  data-id="${e.id_}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill" data-icon="${e.id_}"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="5"  data-id="${e.id_}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill" data-icon="${e.id_}"></i></div>\n                  <input type="hidden" class="efb emsFormBuilder_v" data-vid="${e.id_}" data-parent="${e.parent} data-type="rating"  id="${e.id_}-point-rating" >\n              </div>                                            \n          </div>\n          \x3c!-- end r_matrix --\x3e\n            `}else{const e=Math.random().toString(36).substr(2,9),a=Math.random().toString(36).substr(2,9);i=`\n          <div class="efb   col-sm-12 row my-1" data-id="${e}" data-parent="${t}" id="${e}-v">\n              <div class="efb my-2 col-md-8 fs-6 ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} ${valj_efb[b].label_text_size}" id="${e}_lab">${efb_var.text.newOption}</div>\n              <div class="efb col-md-4 d-flex justify-content-${position_l_efb} " id="${e}" > \n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="1"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="2"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="3"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="4"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="5"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <input type="hidden" data-vid="${e}" data-parent="${t} data-type="rating"  id="${e}-point-rating" >\n              </div>                                            \n          </div>\n          <div class="efb col-md-12    col-sm-12 row my-1" data-id="${a}" data-parent="${t}" id="${a}-v">\n              <div class="efb my-2 col-md-8 fs-6 ${valj_efb[b].el_text_color}  ${valj_efb[b].el_height} ${valj_efb[b].label_text_size}" id="${a}_lab">${efb_var.text.newOption}</div>\n              <div class="efb col-md-4  d-flex justify-content-${position_l_efb} " id="${a}" > \n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="1"  data-id="${a}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="2"  data-id="${a}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="3"  data-id="${a}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="4"  data-id="${a}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <div class="efb btn btn-secondary text-white mx-1 ${1!=n?"disabled":""} ${I}"  data-point="5"  data-id="${a}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n                  <input type="hidden" data-vid="${a}" data-parent="${t} data-type="rating"  id="${a}-point-rating" >\n              </div>                                            \n          </div>`,r_matrix_push_efb(t,efb_var.text.newOption,e,e),r_matrix_push_efb(t,efb_var.text.newOption,a,a)}g=`\n        \x3c!-- table matrix --\x3e\n        ${c}\n          <div class="efb  ${l[3]} col-sm-12 px-0 mx-0 ttEfb show"   data-id="${t}-el" id='${t}-f'>\n            ${f}\n            <div class="efb  ${1==valj_efb[b].required||1==valj_efb[b].required?"required":""} ${""!=B?"row col-md-12":""} efb1  ${valj_efb[b].classes.replace(","," ")}" id="${t}_options">\n              ${i}\n            </div>\n            <div class="efb  mb-3">${_}</div>\n          \n          \x3c!-- end table matrix --\x3e\n          `;break}const L="login"==formName_Efb&&("emaillogin"==valj_efb[b].id_||"passwordlogin"==valj_efb[b].id_)||"register"==formName_Efb&&("usernameRegisterEFB"==valj_efb[b].id_||"passwordRegisterEFB"==valj_efb[b].id_||"emailRegisterEFB"==valj_efb[b].id_);if("form"!=e&&"step"!=r&&(1==n&&"option"!=e||1!=n)){const a=!!valj_efb[b].hasOwnProperty("pro")&&valj_efb[b].pro,o=` <div class="efb btn-edit-holder d-none efb" id="btnSetting-${t}-id">\n    <button type="button" class="efb  btn btn-edit btn-sm BtnSideEfb" id="settingElEFb"  data-id="${t}-id" data-bs-toggle="tooltip"  title="${efb_var.text.edit}" onclick="show_setting_window_efb('${t}-id')">\n    <div class="icon-container efb"><i class="efb bi-gear-wide-connected  text-success BtnSideEfb"></i></div>\n    </button>\n    \n    \x3c!--<button type="button" class="efb  btn btn-edit btn-sm" id="dupElEFb" data-id="${t}-id"  data-bs-toggle="tooltip"  title="${efb_var.text.duplicate}" onclick="show_duplicate_fun('${t}-id')">\n    <i class="efb  bi-files text-warning"></i> --\x3e\n    </button>\n    ${L?"":`<button type="button" class="efb  btn btn-edit btn-sm" id="deleteElEFb"   data-id="${t}-id" data-bs-toggle="tooltip"  title="${efb_var.text.delete}" onclick="show_delete_window_efb('${t}-id' ,${b})"> <i class="efb  bi-x-lg text-danger"></i></button>`}\n    <span class="efb  btn btn-edit btn-sm "  id="moveElEFb" onclick="move_show_efb()"><i class="efb text-dark bi-arrows-move"></i></span>\n    `,i=`⭐ \n    <div class="efb btn-edit-holder efb d-none zindex-10-efb " id="btnSetting-${t}-id">\n    <button type="button" class="efb btn efb pro-bg btn-pro-efb btn-sm px-2 mx-3" id="pro" data-id="${t}-id" data-bs-toggle="tooltip"  title="${efb_var.text.proVersion}" onclick="pro_show_efb(1)"> \n    <i class="efb  bi-gem pro"> ${efb_var.text.pro}</i>`;ps="col-md-12",endTags=0==n?"</button> </button></div></div>":"</div></div>";const d="firstName"==e||"lastName"==e?"text":e,_="esign"==e||"yesNo"==e||"rating"==e?"":"def";newElement+=`\n    ${0==n?`<setion class="efb my-1 px-0 mx-0 ttEfb ${1!=n?I:""} ${0==n&&1==valj_efb[b].hidden?"hidden":""} ${1!=n||"col-md-12"!=l[1]&&"col-md-10"!=l[1]?"position-relative":"mx-0 px-0"} ${1==n?`${l[0]} ${l[1]}`:`${ps}`} row col-sm-12 ${s} efbField ${"step"==r?"step":""}" data-step="${step_el_efb}" data-amount="${amount_el_efb}" data-id="${t}-id" id="${t}" data-tag="${d}"  >`:""}\n    ${0==n&&1==valj_efb[b].hidden?hiddenMarkEl(valj_efb[b].id_):""}\n    <div class="efb my-1 mx-0  ${e} ${_} ${k} ${1==n?I:""}  ttEfb ${1==n?`${l[0]} ${l[1]}`:`${ps} row`} col-sm-12 ${s} efbField ${"step"==r?"step":""}" data-step="${step_el_efb}" data-amount="${amount_el_efb}" data-id="${t}-id" id="${t}" data-tag="${d}"  >\n    ${1==n&&"option"!=e||1!=n?g:""}\n    ${1!=n&&0==pro_efb&&1==a?i:""}\n    ${1!=n?o:"\x3c!--efb.app--\x3e"}\n    ${1!=n&&0==pro_efb&&1==a?"</div>":""}\n    ${1==n&&"option"!=e&&"html"!=e&&"stripe"!=e&&"heading"!=e&&"link"!=e||1!=n?endTags:"</div>"}\n\n    ${0==n?" </setion>\x3c!--endTag EFB--\x3e":""}\n     \x3c!--endTag EFB--\x3e\n    `}else"step"==r&&1!=n&&("steps"==e&&0==pro_efb&&3==Number(step_el_efb)?(amount_el_efb=Number(amount_el_efb)-1,step_el_efb=2,valj_efb[0].steps=2):valj_efb[0].steps=step_el_efb,document.getElementById("button_group")?valj_efb[0].steps>1&&(fun_handle_buttons_efb(!0),fub_shwBtns_efb()):(add_buttons_zone_efb(0,"dropZoneEFB"),fub_shwBtns_efb()));return newElement}const public_pro_message=()=>`<div class="efb text-white fs-6 bg-danger px-1 rounded px-2">${efb_var.text.tfnapca}</div>`,hiddenMarkEl=e=>`\n<div id="${e}-hidden">\n\x3c!--<button type="button" class="efb btn efb pro-bg btn-pro-efb btn-sm px-2 mx-3" id="pro"  data-bs-toggle="tooltip" onclick="pro_show_efb(1)"> --\x3e\n<i class="efb  bi-eye-slash pro efb-hidden mx-3" > ${efb_var.text.hField}</i>\n</div>\n`,funSetPosElEfb=(e,t)=>{const a=valj_efb.findIndex((t=>t.dataId==e));-1!=a&&(valj_efb[a].label_position=t),"stripe"!=valj_efb[a].type&&"html"!=valj_efb[a].type&&get_position_col_el(e,!0)},loadingShow_efb=e=>`<div class="efb modal-dialog modal-dialog-centered efb"  id="settingModalEfb_" >\n <div class="efb modal-content efb " id="settingModalEfb-sections">\n     <div class="efb modal-header efb">\n         <h5 class="efb modal-title fs-5" ><i class="efb bi-ui-checks mx-2 efb" id="settingModalEfb-icon"></i><span id="settingModalEfb-title">${e||efb_var.text.loading} </span></h5>\n     </div>\n     <div class="efb modal-body efb" id="settingModalEfb-body">\n         ${loading_messge_efb()}\n     </div>\n </div>\n</div>`;let fun_handle_buttons_efb=e=>{setTimeout((()=>{1==e&&document.getElementById("f_btn_send_efb").classList.contains("d-block")?(document.getElementById("f_btn_send_efb").classList.add("d-none"),document.getElementById("f_button_form_np").classList.contains("d-none")&&(document.getElementById("f_button_form_np").classList.remove("d-none"),document.getElementById("f_button_form_np").classList.add("d-block"))):0==e&&(document.getElementById("f_button_form_np").classList.contains("d-block")&&document.getElementById("f_button_form_np").classList.remove("d-block"),document.getElementById("f_button_form_np").classList.add("d-none"),document.getElementById("f_btn_send_efb").classList.contains("d-none")&&(document.getElementById("f_btn_send_efb").classList.remove("d-none"),document.getElementById("f_btn_send_efb").classList.add("d-block"))),valj_efb[0].button_state=1==e?"multi":"single"}),50)},add_buttons_zone_efb=(e,t)=>{const a=`  <div class="efb col-sm-10 efb">\n  <div class="efb  BtnSideEfb btn-edit-holder d-none efb" id="btnSetting-button_group">\n      <button type="button" class="efb btn efb btn-edit efb btn-sm" id="settingElEFb"\n          data-id="id1" data-bs-toggle="tooltip" title="${efb_var.text.edit}"\n          onclick="show_setting_window_efb('button_group')">\n          <div class="icon-container efb"><i class="efb   bi-gear-wide-connected text-success" id="efbSetting"></i></div>\n      </button>\n  </div>\n  </div>`,n="dropZoneEFB"==t?"float-end":"",l="dropZoneEFB"!=t?" text-center":"";let s="";if(1){let e=valj_efb.findIndex((e=>"stripe"==e.type));e=-1==e?valj_efb.findIndex((e=>"persiaPay"==e.type)):e,e=-1!=e?valj_efb[e].step:0,s="payment"==valj_efb[0].type&&1==valj_efb[0].steps&&1==e&&1!=preview_efb?"disabled":""}const o=valj_efb[0].hasOwnProperty("corner")?valj_efb[0].corner:"efb-square",i=valj_efb[0].hasOwnProperty("btns_align")?valj_efb[0].btns_align+" mx-2":"justify-content-center",d=`\n  <div class="efb d-flex ${i} ${0==e?"d-block":"d-none"} ${l} efb" id="f_btn_send_efb" data-tag="buttonNav">\n    <a id="btn_send_efb" type="button" class="efb btn efb p-2 ${s} ${valj_efb[0].button_color}  ${o} ${valj_efb[0].el_height}  efb-btn-lg ${n}"> ${valj_efb[0].icon.length>3&&"bi-undefined"!=valj_efb[0].icon&&"bXXX"!=valj_efb[0].icon?`<i class="efb   ${valj_efb[0].icon} mx-2  ${valj_efb[0].icon_color}   ${valj_efb[0].el_height}" id="button_group_icon"> </i>`:""}<span id="button_group_button_single_text" class="efb  ${valj_efb[0].el_text_color} ">${valj_efb[0].button_single_text}</span></a>\n  </div>`,b=`\n  <div class="efb d-flex ${i} ${1==e?"d-block":"d-none"} ${l} ${1==efb_var.rtl?"flex-row-reverse":""} efb" id="f_button_form_np">\n  <a id="prev_efb" type="button" class="efb btn efb p-2  ${valj_efb[0].button_color}    ${o}   ${valj_efb[0].el_height}   efb-btn-lg ${n} m-1">${valj_efb[0].button_Previous_icon.length>2?`<i class="efb  ${valj_efb[0].button_Previous_icon} ${valj_efb[0].icon_color} ${valj_efb[0].el_height}" id="button_group_Previous_icon"></i>`:""} <span id="button_group_Previous_button_text" class="efb  ${valj_efb[0].el_text_color} ${"bi-undefined"!=valj_efb[0].button_Previous_icon?"mx-2":""}">${valj_efb[0].button_Previous_text}</span></a>\n  <a id="next_efb" type="button" class="efb btn efb ${s} p-2 ${valj_efb[0].button_color}    ${o}  ${valj_efb[0].el_height}    efb-btn-lg ${n} m-1"><span id="button_group_Next_button_text" class="efb  ${valj_efb[0].el_text_color} ${"bi-undefined"!=valj_efb[0].button_Next_text?" mx-2":""}">${valj_efb[0].button_Next_text}</span> ${valj_efb[0].button_Next_icon.length>3?` <i class="efb  ${valj_efb[0].button_Next_icon} ${valj_efb[0].icon_color}  ${valj_efb[0].el_height}" id="button_group_Next_icon"></i>`:""}</a>\n  </div>\n  `;let r='<div class="efb footer-test efb">';if("dropZoneEFB"!=t?r+=0==e?`${d}</div>`:`${b}</div> \x3c!-- end btn --\x3e`:r=` <div class="efb col-12 mb-5 pb-5 mt-3 mx-4 bottom-0 ${1!=valj_efb[0].captcha?"d-none":""} " id="recaptcha_efb"><img src="${efb_var.images.recaptcha}" id="img_recaptcha_perview_efb"></div>  <div class="efb bottom-0 " id="button_group_efb"> <div class="efb  row  showBtns efb" id="button_group" data-id="button_group" data-tag="buttonNav">${d} ${b} ${a} </div></div>`,"preview"==t||"body_efb"==t||document.getElementById("button_group"))return r;document.getElementById(t).innerHTML+=r};const colorTextChangerEfb=(e,t)=>e.replace(/(text-primary|text-darkb|text-muted|text-secondary|text-pinkEfb|text-success|text-white|text-light|\btext-colorDEfb-+[\w\-]+|text-danger|text-warning|text-info|text-dark|text-labelEfb)/,`${t}`),alignChangerElEfb=(e,t)=>e.replace(/(justify-content-start|justify-content-end|justify-content-center)/,`${t}`),alignChangerEfb=(e,t)=>e.replace(/(txt-left|txt-right|txt-center)/,`${t}`),RemoveTextOColorEfb=e=>e.replace("text-",""),colorBorderChangerEfb=(e,t)=>e.replace(/\bborder+-+[\w\-]+/gi,`${t}`),cornerChangerEfb=(e,t)=>e.replace(/(efb-square|efb-rounded)/,`${t}`),colMdChangerEfb=(e,t)=>e.replace(/\bcol-md+-\d+/,`${t}`),PxChangerEfb=(e,t)=>e.replace(/\bpx+-\d+/,`${t}`),MxChangerEfb=(e,t)=>e.replace(/\bmx+-\d+/,`${t}`),btnChangerEfb=(e,t)=>e.replace(/\bbtn-outline-+\w+|\bbtn-+\w+/,`${t}`),open_whiteStudio_efb=e=>{let t="https://whitestudio.team/document/";if("fa_IR"!=efb_var.language)switch(e){case"mapErorr":t+="How-to-Install-and-Use-the-Location-Picker-(geolocation)-with-Easy-Form-Builder";break;case"pro":t="https://whitestudio.team/#price";break;case"publishForm":t="https://www.youtube.com/watch?v=XjBPQExEvPE";break;case"emptyStep":t+="how-to-create-your-first-form-with-easy-form-builder#empty-step-alert";break;case"notInput":t+="?notInputExists";break;case"pickupByUser":t="How-to-Install-and-Use-the-Location-Picker-(geolocation)-with-Easy-Form-Builder#how-to-add-a-location-picker-when-creating-form";break;case"paymentform":t="How-to-Create-a-Payment-Form-in-Easy-Form-Builder";break}else switch(t="https://easyformbuilder.ir/%d8%af%d8%a7%da%a9%db%8c%d9%88%d9%85%d9%86%d8%aa/",e){case"mapErorr":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d8%a7%d9%86%d8%aa%d8%ae%d8%a7%d8%a8%da%af%d8%b1-%d9%85%d9%88%d9%82%d8%b9%db%8c%d8%aa-%d9%85%da%a9%d8%a7%d9%86%db%8c-%d9%85%d9%88%d9%82%d8%b9%db%8c%d8%aa-%d8%ac%d8%ba/";break;case"pro":t="https://easyformbuilder.ir/#price";break;case"publishForm":case"notInput":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d9%81%d8%b1%d9%85-%d8%aa%d9%88%d8%b3%d8%b7-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2-%d8%a2%d8%b3%d8%a7%d9%86-%d8%af%d8%b1-%d9%88%d8%b1%d8%af%d9%be%d8%b1%d8%b3-%d8%a8%d8%b3/";break;case"emptyStep":t+="%DA%86%DA%AF%D9%88%D9%86%D9%87-%D9%81%D8%B1%D9%85-%D8%AA%D9%88%D8%B3%D8%B7-%D9%81%D8%B1%D9%85-%D8%B3%D8%A7%D8%B2-%D8%A2%D8%B3%D8%A7%D9%86-%D8%AF%D8%B1-%D9%88%D8%B1%D8%AF%D9%BE%D8%B1%D8%B3-%D8%A8%D8%B3/";break;case"pickupByUser":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d8%a7%d9%86%d8%aa%d8%ae%d8%a7%d8%a8%da%af%d8%b1-%d9%85%d9%88%d9%82%d8%b9%db%8c%d8%aa-%d9%85%da%a9%d8%a7%d9%86%db%8c-%d9%85%d9%88%d9%82%d8%b9%db%8c%d8%aa-%d8%ac%d8%ba/";break;case"paymentform":t+="%da%86%da%af%d9%88%d9%86%d9%87-%d8%af%d8%b1%da%af%d8%a7%d9%87-%d9%be%d8%b1%d8%af%d8%a7%d8%ae%d8%aa-%d8%a7%db%8c%d8%b1%d8%a7%d9%86%db%8c-%d8%b1%d8%a7-%d8%a8%d9%87-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2/";break}window.open(t,"_blank")},loading_messge_efb=()=>` <div class="efb card-body text-center efb"><div class="efb lds-hourglass efb"></div><h3 class="efb fs-3">${efb_var.text.pleaseWaiting}</h3></div>`;function copyCodeEfb(e){var t=document.getElementById(e);t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),alert_message_efb(efb_var.text.copiedClipboard,"",6)}function validExtensions_efb_fun(e,t){return e=e.toLowerCase(),filetype_efb={image:"image/png, image/jpeg, image/jpg, image/gif",media:"audio/mpeg, audio/wav, audio/ogg, video/mp4, video/webm, video/x-matroska, video/avi, video/mpeg , video/mpg, audio/mpg",document:".xlsx,.xls,.doc,.docx,.ppt, pptx,.pptm,.txt,.pdf,.dotx,.rtf,.odt,.ods,.odp,application/pdf,  text/plain, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.ms-powerpoint.presentation.macroEnabled.12, application/vnd.openxmlformats-officedocument.wordprocessingml.template,application/vnd.oasis.opendocument.spreadsheet, application/vnd.oasis.opendocument.presentation, application/vnd.oasis.opendocument.text",zip:".zip, application/zip, application/octet-stream, application/x-zip-compressed, multipart/x-zip",allformat:"image/png, image/jpeg, image/jpg, image/gif audio/mpeg, audio/wav, audio/ogg, video/mp4, video/webm, video/x-matroska, video/avi, video/mpeg , video/mpg, audio/mpg .xlsx,.xls,.doc,.docx,.ppt, pptx,.pptm,.txt,.pdf,.dotx,.rtf,.odt,.ods,.odp,application/pdf,  text/plain, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.ms-powerpoint.presentation.macroEnabled.12, application/vnd.openxmlformats-officedocument.wordprocessingml.template,application/vnd.oasis.opendocument.spreadsheet, application/vnd.oasis.opendocument.presentation, application/vnd.oasis.opendocument.text .zip, application/zip, application/octet-stream, application/x-zip-compressed, multipart/x-zip, .heic, image/heic, video/mov, .mov, video/quicktime"},filetype_efb[e].includes(t)}var steps_len_efb;function handle_navbtn_efb(e,t){var a;if(steps_len_efb=Number(e)+1,current_s_efb=1,setProgressBar_efb(current_s_efb,steps_len_efb),e>1){if("payment"==valj_efb[0].type&&1!=preview_efb){let e=valj_efb.findIndex((e=>"stripe"==e.type));e=-1==e?valj_efb.findIndex((e=>"persiaPay"==e.type)):e,valj_efb[e].step==current_s_efb&&document.getElementById("next_efb").classList.add("disabled")}1==current_s_efb&&document.getElementById("prev_efb").classList.toggle("d-none"),document.getElementById("next_efb").addEventListener("click",(function(){var t=current_s_efb+1;if(0==preview_efb&&0==fun_validation_efb())return!1,!1;setTimeout((function(){var n=new URL(window.location);if(history.pushState("EFBstep-"+t,null,n),!0){t==steps_len_efb&&(document.getElementById("prev_efb").classList.add("d-none"),document.getElementById("next_efb").classList.add("d-none"),send_data_efb(),document.getElementById("efbform").scrollIntoView({behavior:"smooth",block:"center",inline:"center"}));var l=document.querySelector('[data-step="step-'+current_s_efb+'-efb"]');l.classList.add("d-none"),a=l.nextElementSibling;var s=""+(current_s_efb+1);if(1!=Number(valj_efb[0].show_icon)&&document.querySelector('[data-step="icon-s-'+s+'-efb"]').classList.add("active"),document.querySelector('[data-step="step-'+s+'-efb"]').classList.toggle("d-none"),a.classList.remove("d-none"),current_s_efb+=1,localStorage.setItem("step",current_s_efb),setProgressBar_efb(current_s_efb,steps_len_efb),current_s_efb<=e){var o=valj_efb.find((e=>e.step==s));1!=Number(valj_efb[0].show_icon)&&(document.getElementById("title_efb").className=o.label_text_color,document.getElementById("desc_efb").className=o.message_text_color,document.getElementById("title_efb").textContent=o.name,document.getElementById("desc_efb").textContent=o.message,document.getElementById("title_efb").classList.add("text-center","efb","mt-1"),document.getElementById("desc_efb").classList.add("text-center","efb","fs-7")),document.getElementById("prev_efb").classList.remove("d-none")}if(current_s_efb==steps_len_efb-1){sitekye_emsFormBuilder&&sitekye_emsFormBuilder.length>1&&1==valj_efb[0].captcha&&document.getElementById("next_efb").classList.toggle("disabled");o=`<span id="button_group_Next_button_text" class="efb ${valj_efb[0].el_text_color} mx-2">${efb_var.text.send}</span><i class="efb ${valj_efb[0].el_height} ${valj_efb[0].button_Next_icon} ${valj_efb[0].icon_color}" id="button_group_Next_icon"></i>`;document.getElementById("next_efb").innerHTML=o}if("payment"==valj_efb[0].type&&1!=preview_efb){let e=valj_efb.findIndex((e=>"stripe"==e.type));e=-1==e?valj_efb.findIndex((e=>"persiaPay"==e.type)):e,valj_efb[e].step==current_s_efb&&1==!efb_var.hasOwnProperty("payId")&&document.getElementById("next_efb").classList.add("disabled")}document.getElementById("body_efb")&&document.getElementById("body_efb").scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}),200)})),document.getElementById("prev_efb").addEventListener("click",(function(){prev_btn_efb()}))}else document.getElementById("btn_send_efb").addEventListener("click",(function(){if(0==preview_efb&&0==fun_validation_efb())return!1,!1;setTimeout((function(){if(!0){1!=Number(valj_efb[0].show_icon)&&document.querySelector('[data-step="icon-s-'+(current_s_efb+1)+'-efb"]').classList.add("active"),document.querySelector('[data-step="step-'+(current_s_efb+1)+'-efb"]').classList.toggle("d-none"),document.getElementById("btn_send_efb").classList.toggle("d-none");var e=document.querySelector('[data-step="step-'+current_s_efb+'-efb"]');a=e.nextElementSibling,e.classList.add("d-none"),a.classList.remove("d-none"),current_s_efb+=1,setProgressBar_efb(current_s_efb,steps_len_efb),send_data_efb()}document.getElementById("body_efb")&&document.getElementById("body_efb").scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),200)}));document.querySelector(".submit")&&document.querySelector(".submit").addEventListener("click",(function(){return!1}))}function prev_btn_efb(){var e=current_s_efb;if(2==e){var t=`<span id="button_group_Next_button_text" class="efb ${valj_efb[0].el_text_color} mx-2">${valj_efb[0].button_Next_text}</span><i class="efb ${valj_efb[0].el_height} ${valj_efb[0].button_Next_icon} ${valj_efb[0].icon_color}" id="button_group_Next_icon"></i>`;document.getElementById("next_efb").innerHTML=t,document.getElementById("next_efb").classList.toggle("d-none")}else if(e==valj_efb[0].steps){t=`<span id="button_group_Next_button_text" class="efb ${valj_efb[0].el_text_color} mx-2">${valj_efb[0].button_Next_text}</span><i class="efb ${valj_efb[0].el_height} ${valj_efb[0].button_Next_icon} ${valj_efb[0].icon_color}" id="button_group_Next_icon"></i>`;document.getElementById("next_efb").innerHTML=t,sitekye_emsFormBuilder.length>1&&(1==valj_efb[0].captcha||"1"==valj_efb[0].captcha)&&document.getElementById("next_efb").classList.remove("disabled")}var a=document.querySelector('[data-step="step-'+current_s_efb+'-efb"]');if("payment"==valj_efb[0].type&&1!=preview_efb){let e=valj_efb.findIndex((e=>"stripe"==e.type));e=-1==e?valj_efb.findIndex((e=>"persiaPay"==e.type)):e,valj_efb[e].step==a&&document.getElementById("next_efb").classList.remove("disabled")}prev_s_efb=a.previousElementSibling;var n=""+(current_s_efb-1);t=valj_efb.find((e=>e.step==n));1!=Number(valj_efb[0].show_icon)&&(document.querySelector('[data-step="icon-s-'+current_s_efb+'-efb"]').classList.remove("active"),document.querySelector('[data-step="step-'+current_s_efb+'-efb"]').classList.toggle("d-none"),document.getElementById("title_efb").className=t.label_text_color,document.getElementById("desc_efb").className=t.message_text_color,document.getElementById("title_efb").textContent=t.name,document.getElementById("desc_efb").textContent=t.message,document.getElementById("title_efb").classList.add("text-center","efb","mt-1"),document.getElementById("desc_efb").classList.add("text-center","efb","fs-7")),a.classList.add("d-none"),prev_s_efb.classList.remove("d-none"),current_s_efb-=1,localStorage.setItem("step",current_s_efb),setProgressBar_efb(current_s_efb,steps_len_efb),1==current_s_efb&&(document.getElementById("prev_efb").classList.toggle("d-none"),document.getElementById("next_efb").classList.toggle("d-none")),1==Number(valj_efb[0].captcha)&&current_s_efb<steps_len_efb&&document.getElementById("next_efb").classList.remove("disabled"),document.getElementById("body_efb")&&document.getElementById("body_efb").scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}function setProgressBar_efb(e,t){if(1!=Number(valj_efb[0].show_pro_bar)){var a=e/t*100;a=Math.round(100*a)/100,document.querySelector(".progress-bar-efb").style.width=a+"%"}}function ReadyElForViewEfb(e){setTimeout((()=>{const t=1==valj_efb[0].steps?0:1,a=add_buttons_zone_efb(t,"preview"),n=`\n    <head>\n    <script>\n    valj_efb = ${JSON.stringify(valj_efb)};\n    <\/script>   \n  </head>\n    <body>\n    ${e}\n    ${a}\n    handle_navbtn_efb(${valj_efb[0].steps},'mobile')\n    <\/script>\n    </body>\n    `;let l=document.createElement("iframe");l.id="efbMobileView",l.src="data:text/html;charset=utf-8,"+encodeURI(n),document.getElementById("parentMobileView-efb").innerHTML="",document.getElementById("parentMobileView-efb").appendChild(l)}),1e3)}function alert_message_efb(e,t,a,n){a*=1e3,n=n?`alert-${n}`:"alert-info";const l=document.getElementById(`step-${current_s_efb}-efb-msg`)?`step-${current_s_efb}-efb-msg`:"body_efb";let s=document.getElementById("body_efb")?l:"alert_efb";"body_efb"==s&&Number(document.getElementById("body_efb").offsetWidth)<380&&(s="alert_content_efb"),null==document.getElementById("alert_efb")&&(document.getElementById("body_efb").innerHTML+="<div id='alert_efb' class='efb mx-5'></div>"),document.getElementById(s).innerHTML+=` <div id="alert_content_efb" class="efb alert_efb  alert ${n} alert-dismissible ${1==efb_var.text.rtl?"rtl-text":""}" role="alert">\n    <h5 class="efb alert-heading fs-4">${e}</h5>\n    <div>${String(t)}</div>\n    <button type="button" class="efb btn-close" data-dismiss="alert" aria-label="Close" onclick="close_msg_efb()"></button>\n  </div>`,document.getElementById(s).scrollIntoView({behavior:"smooth",block:"center",inline:"center"},!0),setTimeout((()=>{document.querySelector(".alert_efb")&&(document.querySelector(".alert_efb").style.display="none",document.getElementById("alert_efb").innerHTML="")}),a)}function close_msg_efb(){const e=document.getElementById("alert_content_efb");e&&e.remove()}function noti_message_efb(e,t,a){t=t?`alert-${t}`:"alert-info";let n=document.getElementById(a);document.getElementById("noti_content_efb")&&document.getElementById("noti_content_efb").remove(),n.innerHTML+=` <div id="noti_content_efb" class="efb w-75 mt-0 my-1 alert-dismissible alert ${t}  ${1==efb_var.rtl?"rtl-text":""}" role="alert">\n    <p class="efb my-0">${e}</p>    \n  </div>`}function previewFormEfb(e){"run"!=e&&(state_efb="view",preview_efb=!0,activeEl_efb=0);let t="\x3c!--efb.app--\x3e",a=0,n="";const l="run"==e?"body_efb":"settingModalEfb_",s=valj_efb.length,o=calPLenEfb(s);let i="run"==e?0:s*o;if(i<1700&&(i=1700),i="run"==e?0:i,"show"!=e&&"run"!=e){if(!(valj_efb.length>2))return show_modal_efb(`<div class="efb text-center text-darkb efb"><div class="efb bi-emoji-frown fs-4 efb"></div><p class="efb fs-5 efb">${efb_var.text.formNotFound}</p></div>`,efb_var.text.previewForm,"","saveBox"),void state_modal_show_efb(1);localStorage.setItem("valj_efb",JSON.stringify(valj_efb)),"pc"==e&&(show_modal_efb(loading_messge_efb(),efb_var.text.previewForm,"","saveBox"),state_modal_show_efb(1))}try{let l=0;valj_efb.forEach(((s,o)=>{let i=s.type.toLowerCase();if("html"!=valj_efb[o].type&&"link"!=valj_efb[o].type&&"heading"!=valj_efb[o].type&&"persiaPay"!=valj_efb[o].type&&Object.entries(valj_efb[o]).forEach((([e,t])=>{fun_addStyle_costumize_efb(t.toString(),e,o)})),a<s.step&&"step"==s.type&&(a+=1,n+=`<li id="${s.id_}" data-step="icon-s-${a}-efb"class="efb  ${valj_efb[0].steps<=6?`step-w-${valj_efb[0].steps}`:"step-w-6"} ${s.icon_color} ${s.icon}   ${1==s.step?"active":""}" ><strong class="efb  fs-5  ${s.label_text_color} ">${s.name}</strong></li>`,t+=1==a?`<fieldset data-step="step-${a}-efb" class="efb my-2 mx-0 px-0 steps-efb efb row">`:`\x3c!-- fieldset!!!? --\x3e<div id="step-${Number(a)-1}-efb-msg"></div></fieldset><fieldset data-step="step-${a}-efb"  class="efb my-2 steps-efb efb row d-none">`,valj_efb[0].show_icon,valj_efb[0].hasOwnProperty("dShowBg")&&1==valj_efb[0].dShowBg&&"run"==e&&document.getElementById("body_efb").classList.remove("card")),"step"==s.type&&"html"!=s.type?steps_index_efb.push(o):"step"!=s.type&&"form"!=s.type&&"option"!=s.type&&(t+=addNewElement(s.type,s.id_,!0,!0),"html"==s.type&&(t+="\x3c!--testHTML--\x3e")),!(s.hasOwnProperty("disabled")&&1==s.disabled&&0==s.hasOwnProperty("hidden")||s.hasOwnProperty("disabled")&&1==s.disabled&&1==s.hasOwnProperty("hidden")&&0==s.hidden))if("email"==s.type||"text"==s.type||"password"==s.type||"tel"==s.type||"number"==s.type||"url"==s.type||"textarea"==s.type||"range"==s.type)"function"==typeof fun_sendBack_emsFormBuilder&&s.value.length>1&&fun_sendBack_emsFormBuilder({id_:s.id_,name:s.name,id_ob:s.id_+"_",amount:s.amount,type:s.type,value:s.value,session:sessionPub_emsFormBuilder});else if("function"==typeof fun_sendBack_emsFormBuilder&&s.hasOwnProperty("value")&&s.value.length>0&&"option"!=s.type){let e=[];if(1==i.includes("radio")){l+=1;let t=valj_efb.find((e=>e.id_==s.value||e.id_old==s.value));e=[{id_:s.id_,name:s.name,id_ob:t.id_,amount:s.amount,type:s.type,value:t.value,session:sessionPub_emsFormBuilder}],i.includes("pay")&&Object.assign(e.at(-1),{price:t.price}),i=1}else if(1==i.includes("checkbox")){l+=1;for(let t of s.value){let a=valj_efb.find((e=>e.id_==t));e.push({id_:s.id_,name:s.name,id_ob:a.id_,amount:s.amount,type:s.type,value:a.value,session:sessionPub_emsFormBuilder}),i.includes("pay")&&Object.assign(e.at(-1),{price:a.price})}i=1}else if(1==i.includes("multi")){l+=1;let t="";for(let e of s.value){t+=valj_efb.find((t=>t.id_==e)).value+"@efb!"}e=[{id_:s.id_,name:s.name,amount:s.amount,type:s.type,value:t,session:sessionPub_emsFormBuilder}],i=1}else if(1==i.includes("select")||1==i.includes("stateprovince")||1==i.includes("conturylist")){l+=1;let t=valj_efb.find((e=>e.id_==s.value));e=[{id_:s.id_,name:s.name,id_ob:t.id_,amount:s.amount,type:s.type,value:t.value,session:sessionPub_emsFormBuilder}],i=1}if(1===i)for(let t in e)fun_sendBack_emsFormBuilder(e[t])}})),a+=1,t+=`\n           ${0==valj_efb[0].hasOwnProperty("logic")||1==valj_efb[0].hasOwnProperty("logic")&&0==valj_efb[0].logic?fun_captcha_load_efb():"\x3c!--logic efb--!>"}\n           </fieldset>\n          <fieldset data-step="step-${a}-efb" class="efb my-5 pb-5 steps-efb efb row d-none text-center" id="efb-final-step">\n            ${1==valj_efb[0].hasOwnProperty("logic")&&1==valj_efb[0].logic?fun_captcha_load_efb():loading_messge_efb()}                \n            \x3c!-- fieldset2 --\x3e\n            <div id="step-2-efb-msg"></div>\n            </fieldset>`,n+=`<li id="f-step-efb"  data-step="icon-s-${a}-efb" class="efb  ${valj_efb[1].icon_color} ${valj_efb[0].steps<=6?`step-w-${valj_efb[0].steps}`:"step-w-6"} bi-check-lg" ><strong class="efb  fs-5 ${valj_efb[1].label_text_color}">${efb_var.text.finish}</strong></li>`}catch(e){}t.length>10&&(t+="</div>"),n=`${1!=Number(valj_efb[0].show_icon)?`<ul id="steps-efb" class="efb mb-2 px-2">${n}</ul>`:""}\n    ${0==valj_efb[0].show_pro_bar||0==valj_efb[0].show_pro_bar?`<div class="efb d-flex justify-content-center" id="f-progress-efb"><div class="efb progress mx-3 w-100"><div class="efb  progress-bar-efb  ${valj_efb[0].button_color} progress-bar-striped progress-bar-animated" role="progressbar"aria-valuemin="0" aria-valuemax="100"></div></div></div><br> `:""}\n    `;const d="pre"==e?"pre-form-efb":"pre-efb";document.getElementById(l).classList.add(d),t=`  \n    <div class="efb px-0 pt-2 pb-0 my-1 col-12 mb-2" id="view-efb">\n\n    ${1!=Number(valj_efb[0].show_icon)?`<h4 id="title_efb" class="efb fs-3 ${valj_efb[1].label_text_color} text-center mt-3 mb-0">${valj_efb[1].name}</h4><p id="desc_efb" class="efb ${valj_efb[1].message_text_color} text-center  fs-6 mb-2">${valj_efb[1].message}</p>`:""}\n    \n     <form id="efbform"> ${n} <div class="efb mt-1 px-2">${t}</div> </form>\n    </div>\n    `;const b=1==valj_efb[0].steps?0:1;if("pc"==e)document.getElementById("dropZoneEFB").innerHTML="",t="\x3c!-- find xxxx --\x3e"+t,show_modal_efb(t,efb_var.text.pcPreview,"bi-display","saveBox"),add_buttons_zone_efb(b,"settingModalEfb-body");else if("pre"==e)show_modal_efb(t,efb_var.text.pcPreview,"bi-display","saveBox"),add_buttons_zone_efb(b,"settingModalEfb-body");else if("mobile"==e){const e=`\n        <div class="efb smartphone-efb">\n        <div class="efb content efb" >\n            <div id="parentMobileView-efb">\n            <div class="efb lds-hourglass efb"></div><h3 class="efb ">${efb_var.text.pleaseWaiting}</h3>\n            </div>\n         \n        </div>\n        \n      </div> `;show_modal_efb(e,efb_var.text.mobilePreview,"bi-phone","settingBox"),ReadyElForViewEfb(t)}else document.getElementById(l).innerHTML=t,document.getElementById(l).innerHTML+=add_buttons_zone_efb(b,l),"payment"==valj_efb[0].type&&"stripe"==ajax_object_efm.paymentGateway&&"function"==typeof post_api_stripe_apay_efb&&post_api_stripe_apay_efb();let r="text";try{const e=valj_efb.length;valj_efb.forEach(((t,a)=>{let n=!!t.hasOwnProperty("disabled")&&t.disabled;switch(t.type){case"maps":initMap(n);break;case"esign":if(c2d_contex_efb=document.getElementById(`${t.id_}_`).getContext("2d"),c2d_contex_efb.lineWidth=5,c2d_contex_efb.strokeStyle="#000000",n)return;document.getElementById(`${t.id_}_`).addEventListener("mousedown",(e=>{draw_mouse_efb=!0,c2d_contex_efb=document.getElementById(`${t.id_}_`).getContext("2d"),canvas_id_efb=t.id_,lastMousePostion_efb=getmousePostion_efb(document.getElementById(`${t.id_}_`),e)}),!1),document.getElementById(`${t.id_}_`).addEventListener("mouseup",(e=>{draw_mouse_efb=!1;const a=document.getElementById(`${t.id_}-sig-data`).value;document.getElementById(`${t.id_}_-message`).classList.remove("show");const n=[{id_:t.id_,name:t.name,amount:t.amount,type:t.type,value:a,session:sessionPub_emsFormBuilder}];fun_sendBack_emsFormBuilder(n[0])}),!1),document.getElementById(`${t.id_}_`).addEventListener("mousemove",(e=>{mousePostion_efb=getmousePostion_efb(document.getElementById(`${t.id_}_`),e)}),!1),document.getElementById(`${t.id_}_`).addEventListener("touchmove",(e=>{let a=e.touches[0],n=new MouseEvent("mousemove",{clientY:a.clientY,clientX:a.clientX});document.getElementById(`${t.id_}_`).dispatchEvent(n)}),!1),document.getElementById(`${t.id_}_`).addEventListener("touchstart",(e=>{canvas_id_efb=t.id_,c2d_contex_efb=document.getElementById(`${t.id_}_`).getContext("2d"),mousePostion_efb=getTouchPos_efb(document.getElementById(`${t.id_}_`),e);let a=e.touches[0],n=new MouseEvent("mousedown",{clientY:a.clientY,clientX:a.clientX});document.getElementById(`${t.id_}_`).dispatchEvent(n)}),!1),document.getElementById(`${t.id_}_`).addEventListener("touchend",(e=>{let a=new MouseEvent("mouseup",{});document.getElementById(`${t.id_}_`).dispatchEvent(a);document.getElementById(`${t.id_}-sig-data`).value}),!1),function e(){requestAnimFrame(e),renderCanvas_efb(t.id_)}();break;case"multiselect":case"payMultiselect":let l=1;!function e(a){setTimeout((()=>{l+=1;const a=document.querySelector(`[data-id='${t.id_}_options']`);if(null!=a){const e=t.hasOwnProperty("corner")?t.corner:"efb-square";a.className+=` efb emsFormBuilder_v  ${e} ${t.el_border_color} ${t.el_text_size} ${t.el_height}`,a.onclick=function(){},jQuery((function(){jQuery(".selectpicker").selectpicker()}))}else e(10*l)}),a)}(e);break;case"rating":break;case"dadfile":if(n)return;set_dadfile_fun_efb(t.id_,a);break;case"ardate":case"pdate":r=t.type;break}}))}catch{}"mobile"!=e&&(valj_efb[0].hasOwnProperty("logic")&&1==valj_efb[0].logic?logic_handle_navbtn_efb(valj_efb[0].steps,"pc"):handle_navbtn_efb(valj_efb[0].steps,"pc")),"run"==e&&(sitekye_emsFormBuilder.length>1&&loadCaptcha_efb(),createStepsOfPublic()),step_el_efb=Number(valj_efb[0].steps),("run"==e&&1==addons_emsFormBuilder.AdnOF&&"string"==typeof valj_efb[0].AfLnFrm&&1==valj_efb[0].AfLnFrm||"persiaPay"==valj_efb[0].getway&&"string"==typeof get_authority_efb)&&fun_offline_Efb(),"ardate"==r?"function"==typeof load_hijir_data_picker_efb?load_hijir_data_picker_efb():setTimeout((()=>{alert_message_efb(efb_var.text.iaddon,efb_var.text.IMAddonAD,20,"info")}),1e3):"pdate"==r&&("function"==typeof load_style_persian_data_picker_efb?load_style_persian_data_picker_efb():setTimeout((()=>{alert_message_efb(efb_var.text.iaddon,efb_var.text.IMAddonPD,20,"info")}),1e3))}function fun_prev_send(){var e=Number(valj_efb[0].steps)+1,t=loading_messge_efb();document.getElementById("efb-final-step").innerHTML=t;var a=document.querySelector('[data-step="step-'+current_s_efb+'-efb"]');prev_s_efb=a.previousElementSibling,1!=Number(valj_efb[0].show_icon)&&document.querySelector('[data-step="icon-s-'+current_s_efb+'-efb"]').classList.remove("active"),document.querySelector('[data-step="step-'+current_s_efb+'-efb"]').classList.toggle("d-none"),2==e?document.getElementById("btn_send_efb").classList.toggle("d-none"):document.getElementById("next_efb").classList.toggle("d-none");var n=""+(current_s_efb-1),l=valj_efb.find((e=>e.step==n));1!=Number(valj_efb[0].show_icon)&&(document.getElementById("title_efb").className=l.label_text_color+" efb text-center mt-1",document.getElementById("desc_efb").className=l.message_text_color+" efb text-center fs-6",document.getElementById("title_efb").textContent=l.name,document.getElementById("desc_efb").textContent=l.message),document.getElementById("prev_efb")&&document.getElementById("prev_efb").classList.toggle("d-none"),a.classList.add("d-none"),prev_s_efb.classList.remove("d-none"),current_s_efb-=1,localStorage.setItem("step",current_s_efb),setProgressBar_efb(current_s_efb,e)}function verifyCaptcha(e){if(e.length>1){const e=valj_efb[0].steps>1?"next_efb":"btn_send_efb";document.getElementById(e).classList.remove("disabled"),setTimeout((()=>{timeOutCaptcha()}),61e3)}}function timeOutCaptcha(){const e=valj_efb[0].steps>1?"next_efb":"btn_send_efb";document.getElementById(e).classList.add("disabled"),alert_message_efb(ajax_object_efm.text.error,ajax_object_efm.text.errorVerifyingRecaptcha,7,"warning")}function fun_validation_efb(){let e=document.getElementById("body_efb").offsetWidth;const t=Number(e)<380&&0==window.matchMedia("(max-width: 480px)").matches?`<div class="efb fs-5 nmsgefb bi-exclamation-diamond-fill" onClick="alert_message_efb('${efb_var.text.enterTheValueThisField}','',10,'danger')"></div>`:efb_var.text.enterTheValueThisField;let a=!0,n="null";for(let l in valj_efb){let s=sendBack_emsFormBuilder_pub.findIndex((e=>e.id_==valj_efb[l].id_));if(l>1&&1==valj_efb[l].required&&current_s_efb==valj_efb[l].step&&"chlCheckBox"!=valj_efb[l].type){const o=0==fun_el_select_in_efb(valj_efb[l].type)?`${valj_efb[l].id_}_`:`${valj_efb[l].id_}_options`;let i=document.getElementById(`${valj_efb[l].id_}_-message`);if("file"==valj_efb[l].type||"dadfile"==valj_efb[l].type){let e=files_emsFormBuilder.findIndex((e=>e.id_==valj_efb[l].id_));s=files_emsFormBuilder[e].hasOwnProperty("state")&&0==Number(files_emsFormBuilder[e].state)||-1==e?-1:1}if(-1==s){1==a&&(a=!1,n=valj_efb[l].id_);const s=0==fun_el_select_in_efb(valj_efb[l].type)?`${valj_efb[l].id_}_`:`${valj_efb[l].id_}_options`;Number(e)<525&&0==window.matchMedia("(max-width: 480px)").matches&&i.classList.add("unpx"),i.innerHTML=t,i.classList.contains("show")||i.classList.add("show"),1==type_validate_efb(valj_efb[l].type)&&(document.getElementById(s).className=colorBorderChangerEfb(document.getElementById(s).className,"border-danger"))}else{n=valj_efb[l].id_,i.innerHTML="",i.classList.remove("show"),1==type_validate_efb(valj_efb[l].type)&&(document.getElementById(o).className=colorBorderChangerEfb(document.getElementById(o).className,"border-success"));const e=sendBack_emsFormBuilder_pub.length>0&&"multiselect"==valj_efb[l].type&&sendBack_emsFormBuilder_pub[s].hasOwnProperty("value")?sendBack_emsFormBuilder_pub[s].value.split("@efb!"):"";("multiselect"==valj_efb[l].type||"payMultiselect"==valj_efb[l].type)&&e.length-1<valj_efb[l].minSelect&&(document.getElementById(o).className=colorBorderChangerEfb(document.getElementById(o).className,"border-danger"),i.innerHTML=efb_var.text.minSelect+" "+valj_efb[l].minSelect,i.classList.contains("show")||i.classList.add("show"),1==a&&(a=!1,n=valj_efb[l].id_))}}else if(l>1&&"chlCheckBox"==valj_efb[l].type&&current_s_efb==valj_efb[l].step){for(let e of sendBack_emsFormBuilder_pub)if("chlCheckBox"==e.type&&e.id_==valj_efb[l].id_&&""==e.qty.length){const t=e.id_ob+"_chl";document.getElementById(t).classList.add("bg-danger"),a=!1,n=valj_efb[l].id_}0==a&&noti_message_efb(efb_var.text.enterTheValueThisField,"danger",`step-${current_s_efb}-efb-msg`)}}return"null"!=n&&document.getElementById(n).scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),a}function type_validate_efb(e){return"select"==e||"multiselect"==e||"text"==e||"password"==e||"email"==e||"conturyList"==e||"stateProvince"==e||"file"==e||"url"==e||"color"==e||"date"==e||"textarea"==e||"tel"==e||"number"==e}function send_data_efb(){if("run"!=state_efb){const e=funTnxEfb("DemoCode-220201");document.getElementById("efb-final-step").innerHTML=e}else endMessage_emsFormBuilder_view()}function funTnxEfb(e,t,a){const n=valj_efb[0].thank_you_message.done||efb_var.text.done,l=valj_efb[0].hasOwnProperty("corner")?valj_efb[0].corner:"efb-square",s=valj_efb[0].thank_you_message.thankYou||efb_var.text.thanksFillingOutform,o=t||n,i=a||s,d=valj_efb[0].hasOwnProperty("clrdoneMessageEfb")?valj_efb[0].clrdoneMessageEfb:"doneMessageEfb",b=valj_efb[0].hasOwnProperty("clrdoneTitleEfb")?valj_efb[0].clrdoneTitleEfb:"doneTitleEfb",r=valj_efb[0].hasOwnProperty("clrdoniconEfb")?valj_efb[0].clrdoniconEfb:"doneTitleEfb",_=b,c=`\n  <div class="efb fs-4"><h5 class="efb mt-3 efb fs-4 ${d}" id="doneTrackEfb">${valj_efb[0].thank_you_message.trackingCode||efb_var.text.trackingCode}: <strong>${e}</strong></h5>\n               <input type="text" class="efb hide-input efb " value="${e}" id="trackingCodeEfb">\n               <div id="alert"></div>\n               <button type="button" class="efb btn  ${l} efb ${valj_efb[0].button_color}  ${valj_efb[0].el_text_color} efb-btn-lg my-3 fs-5" onclick="copyCodeEfb('trackingCodeEfb')">\n                   <i class="efb fs-5 bi-clipboard-check mx-1  ${valj_efb[0].el_text_color}"></i>${efb_var.text.copy}\n               </button></div>`;return`\n                    <h4 class="efb  my-1 fs-2 ${_}" id="doneTitleEfb">\n                        <i class="efb ${valj_efb[0].thank_you_message.hasOwnProperty("icon")?valj_efb[0].thank_you_message.icon:"bi-hand-thumbs-up"}  title-icon mx-2 fs-2 ${r}" id="DoneIconEfb"></i>${o}\n                    </h4>\n                    <h3 class="efb fs-4 ${d}" id="doneMessageEfb">${i}</h3>\n                  <span class="efb " ${1==valj_efb[0].trackingCode?c:"</br>"}</span>\n  \n  `}localStorage.getItem("count_view")?localStorage.setItem("count_view",parseInt(localStorage.getItem("count_view"))+1):localStorage.setItem("count_view",0),fun_el_select_in_efb=e=>"conturyList"==e||"stateProvince"==e||"select"==e||"multiselect"==e||"paySelect"==e||"payMultiselect"==e,fun_el_check_radio_in_efb=e=>"radio"==e||"checkbox"==e||"payRadio"==e||"payCheckbox"==e||"imgRadio"==e||"chlRadio"==e||"chlCheckBox"==e,addStyleColorBodyEfb=(e,t,a,n)=>{let l="text";l=-1==n?"text":valj_efb[n].type;let s=`.${e}{color:${t}!important;}`,o="";switch(l){case"textarea":o="textarea";break;case"text":case"password":case"email":case"number":case"image":case"date":case"tel":case"url":case"range":case"color":case"checkbox":case"radiobutton":o="input";break;default:o="";break}t="#"!=t[0]?"#"+t:t,efb_add_costum_color(e,t,s,a)},efb_add_costum_color=(e,t,a,n)=>{let l="";return t="#"!=t[0]?"#"+t:t,"text"==n?(l=`${n}-${e}`,a=`.${l}{color:${t}!important;}`):"icon"==n?(l=`text-${e}`,a=`.${l}{color:${t}!important;}`):"border"==n?(l=`${n}-${e}`,a=`.${l}{border-color:${t}!important;}`):("bg"==n||"btn"==n)&&(l=`${n}-${e}`,a=`.${l}{background-color:${t}!important;}`),document.body.appendChild(Object.assign(document.createElement("style"),{textContent:`${a}`})),l},fun_addStyle_costumize_efb=(e,t,a)=>{if(e.toString().includes("colorDEfb")){let e="",n="";switch(t.toString()){case"button_color":e="btn",n=valj_efb[a].style_btn_color?valj_efb[a].style_btn_color:"";break;case"icon_color":e="icon",n=valj_efb[a].style_icon_color?valj_efb[a].style_icon_color:"";break;case"el_text_color":e="text",n=valj_efb[a].style_el_text_color?valj_efb[a].style_el_text_color:"";break;case"label_text_color":e="text",n=valj_efb[a].style_label_color?valj_efb[a].style_label_color:"";break;case"message_text_color":e="text",n=valj_efb[a].style_message_text_color?valj_efb[a].style_message_text_color:"";break;case"el_border_color":e="border",n=valj_efb[a].style_border_color?valj_efb[a].style_border_color:"";break;case"clrdoneTitleEfb":e="text",n=valj_efb[a].clrdoneTitleEfb?valj_efb[a].clrdoneTitleEfb.slice(-7):"";break;case"clrdoniconEfb":e="text",n=valj_efb[a].clrdoniconEfb?valj_efb[a].clrdoniconEfb.slice(-7):"";break;case"clrdoneMessageEfb":e="text",n=valj_efb[a].clrdoneMessageEfb?valj_efb[a].clrdoneMessageEfb.slice(-7):"";break}""!=n&&addStyleColorBodyEfb(`colorDEfb-${n.slice(1)}`,n.length>6?n.slice(-6):n,e,a)}},fun_offline_Efb=()=>{let e="";const t=JSON.parse(localStorage.getItem("sendback"));for(let a of t)switch(sendBack_emsFormBuilder_pub.push(a),a.type){case"email":case"text":case"password":case"tel":case"url":case"date":case"color":case"range":case"number":case"firstName":case"lastName":document.getElementById(a.id_ob).value=a.value;break;case"textarea":document.getElementById(a.id_ob).innerHTML=a.value;break;case"checkbox":case"radio":case"payCheckbox":case"payRadio":case"payRadio":document.getElementById(a.id_ob).checked=!0;break;case"paySelect":case"conturyList":case"stateProvince":case"select":document.getElementById(a.id_ob).value=a.value;break;case"multiselect":case"payMultiselect":const t=document.getElementById(`${a.id_}_options`);t.innerHTML=a.value.replaceAll("@efb!",",");const n=a.value.split("@efb!");for(let a of n)e=document.querySelector(`.efblist  [data-name="${a}"]`),e&&(e.className+=" border-info",e.innerHTML=`\n                <th scope="row" class="bi-check-square text-info efb"></th>\n                <td class="efb  ms">${a}</td>\n                `,t.dataset.select=`${e.dataset.row} @efb!`);break;case"esign":e=document.getElementById(`${a.id_}_`);let l=e.getContext("2d"),s=new Image;s.onload=function(){l.drawImage(s,0,0)},s.src=a.value;break;case"yesNo":e=document.querySelectorAll(`[data-lid='${a.id_}']`);for(let t of e)t.dataset.value==a.value&&(t.className+="active");break;case"switch":document.getElementById(a.id_ob).checked="On"==a.value;break;case"rating":a.value>=1&&(document.getElementById(`${a.id_}-star1`).checked=!0),a.value>=2&&(document.getElementById(`${a.id_}-star2`).checked=!0),a.value>=3&&(document.getElementById(`${a.id_}-star3`).checked=!0),a.value>=4&&(document.getElementById(`${a.id_}-star4`).checked=!0),5==a.value&&(document.getElementById(`${a.id_}-star5`).checked=!0);break;case"document":let o=a.url.split("/");o=o.pop(),e=document.getElementById(`${a.id_}_-message`),e.className="efb text-success efb fs-7 fw-bolder",e.innerHTML=`${efb_var.text.uploadedFile}: ${o}`,e.classList.contains("show")||e.classList.add("show");break;case"stripe":break;case"persiaPay":break}"payment"==valj_efb[0].type&&"persiaPay"==valj_efb[0].getway&&"string"==typeof get_authority_efb&&fun_after_bankpay_persia_ui()};let get_position_col_el=(e,t)=>{const a=valj_efb.findIndex((t=>t.dataId==e));let n=document.getElementById(valj_efb[a].id_)??"null",l=document.getElementById(`${valj_efb[a].id_}_labG`)??"null",s=document.getElementById(`${valj_efb[a].id_}-f`)??"null",o="",i="col-md-12",d="col-md-12",b="";switch(valj_efb[a].hasOwnProperty("size")?Number(valj_efb[a].size):100){case 100:o="col-md-12",i="col-md-3",d="col-md-9";break;case 92:o="col-md-11",i="col-md-2",d="col-md-10";break;case 80:case 83:o="col-md-10",i="col-md-2",d="col-md-10";break;case 75:o="col-md-9",i="col-md-2",d="col-md-10";break;case 67:o="col-md-8",i="col-md-3",d="col-md-9";break;case 58:o="col-md-7",i="col-md-3",d="col-md-9";break;case 50:o="col-md-6",i="col-md-3",d="col-md-9";break;case 42:o="col-md-5",i="col-md-3",d="col-md-9";break;case 33:o="col-md-4",i="col-md-4",d="col-md-8";break;case 25:o="col-md-3",i="col-md-4",d="col-md-8";break;case 17:o="col-md-2",i="col-md-4",d="col-md-8";break;case 8:o="col-md-1",i="col-md-5",d="col-md-5";break}return"up"==valj_efb[a].label_position?(i="col-md-12",d="col-md-12"):b="row",1==t&&(n.classList=colMdChangerEfb(n.className,o),"null"!=s&&(s.classList=colMdChangerEfb(s.className,d)),"null"!=l&&(l.classList=colMdChangerEfb(l.className,i))),[b,o,i,d]};function calPLenEfb(e){let t=2;return t=e<=5?40:e>5&&e<=10?20:e>10&&e<=50?15:e>50&&e<=100?9:e>100&&e<=300?3:e>300&&e<=600?1.5:e>600&&e<=1e3?1.2:1.1,t}function replaceContentMessageEfb(e){return e=(e=(e=(e=(e=(e=(e=e.replace(/[\\]/g,"")).replaceAll(/(\\"|"\\)/g,'"')).replaceAll(/(\\\\n|\\\\r)/g,"<br>")).replaceAll("@efb@sq#","'")).replaceAll("@efb@vq#","`")).replaceAll("@efb@dq#","''")).replaceAll("@efb@nq#","<br>")}function fun_upload_file_api_emsFormBuilder(e,t,a){if(!navigator.onLine)return void alert_message_efb("",efb_var.text.offlineSend,17,"danger");let n=files_emsFormBuilder.findIndex((t=>t.id_===e));files_emsFormBuilder[n].state=1,files_emsFormBuilder[n].type=t;const l=efb_var.nonce_msg,s=("msg"==a?efb_var.id:efb_var.msg_id,new FormData,e+"_"),o=document.getElementById(s);o.files[0];return uploadFile_api(o.files[0],e,a,l,n,s),!0}function uploadFile_api(e,t,a,n,l,s){document.querySelector("#progress-bar");const o=t+"-prB";fetch_uploadFile(e,t,a,n).then((a=>{if(!0!==a.success||!0!==a.data.success){return alert_message_efb("",a.data.hasOwnProperty("file")?a.data.file.error:a.data.m,30,"danger"),document.querySelector(o).style.width="0%",void(document.querySelector(o).textContent="0% = "+e.name)}{files_emsFormBuilder[l].url=a.data.file.url,files_emsFormBuilder[l].state=2,files_emsFormBuilder[l].id=s;const n=valueJson_ws.find((e=>e.id_===t))||0,i=[{id_:files_emsFormBuilder[l].id_,name:files_emsFormBuilder[l].name,amount:n.amount,type:files_emsFormBuilder[l].type,value:"@file@",url:files_emsFormBuilder[l].url,session:sessionPub_emsFormBuilder}];fun_sendBack_emsFormBuilder(i[0]);const d=document.getElementById(o);d&&(d.style.width="100%",d.textContent="100% = "+e.name),document.getElementById(t+"-prG")&&document.getElementById(t+"-prG").classList.add("d-none")}})).catch((e=>{}))}function fetch_uploadFile(e,t,a,n){var l=t+"-prB";return new Promise(((s,o)=>{const i=new FormData,d=efb_var.hasOwnProperty("id")?efb_var.id:0;i.append("async-upload",e),i.append("id",t),i.append("pl",a),i.append("nonce_msg",n),i.append("sid",efb_var.sid),i.append("fid",d);const b=efb_var.rest_url+"Emsfb/v1/forms/file/upload",r=new XMLHttpRequest;r.upload.addEventListener("progress",(t=>{if(t.lengthComputable){const a=Math.round(t.loaded/t.total*100),n=document.getElementById(l);n&&(n.style.width=a+"%",n.textContent=a+"% = "+e.name)}})),r.addEventListener("load",(()=>{if(r.status>=200&&r.status<300){const e=JSON.parse(r.responseText);s(e)}else o(r.statusText)})),r.addEventListener("error",(()=>{o(r.statusText)})),r.open("POST",b,!0),r.send(i)}))}function generatePDF_EFB(e){const t=[{loc:"am",font:"Noto Serif Ethiopic"},{loc:"ar",font:"Noto Sans Arabic"},{loc:"fa_IR",font:"Noto Sans Arabic"},{loc:"arq",font:"Alegreya Sans SC"},{loc:"az_TR",font:"Noto Sans"},{loc:"bn_BD",font:"Noto Sans Bengali"},{loc:"cs_CZ",font:"Signika"},{loc:"hat",font:"Tinos"},{loc:"he_IL",font:"Noto Sans Hebrew"},{loc:"hr",font:"Noto Sans"},{loc:"hy",font:"Noto Sans Armenian"},{loc:"id_ID",font:"Noto Sans"},{loc:"ja",font:"Noto Sans JP"},{loc:"ka_GE",font:"Noto Sans Georgian"},{loc:"km",font:"Noto Sans Khmer"},{loc:"ko_KR",font:"Noto Sans KR"},{loc:"lt_LT",font:"Noto Sans"},{loc:"ml_IN",font:"Noto Sans"},{loc:"ms_MY",font:"Noto Sans"},{loc:"ne_NP",font:"Noto Sans"},{loc:"ru_RU",font:"Noto Sans"},{loc:"sw",font:"Noto Sans"},{loc:"th",font:"Noto Sans Thai"},{loc:"ur",font:"Noto Nastaliq Urdu"},{loc:"uz_UZ",font:"Noto Sans"},{loc:"vi",font:"Noto Sans"},{loc:"zh_CN",font:"Noto Sans SC"},{loc:"zh_HK",font:"Noto Sans HK"},{loc:"zh_TW",font:"Noto Sans TC"}],a=t.findIndex((e=>e.loc==efb_var.wp_lan)),n=-1!=a?t[a].font:"Noto Sans",l=`\n        <link href="https://fonts.googleapis.com/css2?family=${n}" rel="stylesheet">\n        <style>\n           html{ font-family: '${n}', sans-serif;}\n            .bg-response.efb {\n              padding: 10px 19px;\n              margin: 15px 20px;\n              border-radius: 15px !important;\n              background-color: #fcfcfc !important;\n              box-shadow: 0px 1px 0px 2px rgb(0 7 17) !important;\n          }\n          img{width: 200px;}\n          img.emoji{ width: 40px;}\n          p {margin: 0px;}\n\n          #watermark {\n            margin: 0% 24%;\n            font-size: 28px;\n            position: absolute;\n            color: #a8bde085;\n            transform: rotate(-45deg);\n            align-items: center;\n            align-items: center;\n            text-align: center;\n            font-weight: bold;\n        }\n        </style>\n  `,s=document.getElementById(e);let o=window.open("","Print-Window");const i=` <div style="text-align:center">\n  <h2>${`<a href="${window.location.origin}" target="_blank">${window.location.hostname}</a></h2>\n  ${1!=efb_var.pro?`<h2>${efb_var.text.createdBy} <a href="https://whitestudio.team" target="_blank">${efb_var.text.easyFormBuilder}</a>`:""}`}</h2>\n</div>`;val=`<html style="direction:${0==efb_var.rtl?"ltr":"rtl"}"><head>${l}</head>\n  <title>${window.location.hostname}</title>\n  <body onload='winprint()'>\n  <script>\n  function winprint(){setTimeout(()=>{window.print()},100);}\n  <\/script>\n  ${i}\n\n  ${s.innerHTML}\n     \n  </body></html>`,o.document.open(),o.document.write(val),setTimeout((()=>{o.document.close()}),100)}function check_msg_ext_resp_efb(){document.querySelector("#replayM_emsFormBuilder").addEventListener("keypress",(e=>{document.querySelector("#replayB_emsFormBuilder").classList.contains("disabled")&&document.querySelector("#replayB_emsFormBuilder").classList.remove("disabled"),13===e.which&&e.preventDefault()}))}function fun_show_val_range_efb(e){document.getElementById(e+"_rv").innerText=document.getElementById(e+"_").value}santize_string_efb=e=>e.replaceAll(/(<)(script[^>]*>[^<]*(?:<(?!\/script>)[^<]*)*<\/script>|\/?\b[^<>]+>|!(?:--\s*(?:(?:\[if\s*!IE]>\s*-->)?[^-]*(?:-(?!->)-*[^-]*)*)--|\[CDATA[^\]]*(?:](?!]>)[^\]]*)*]])>)/g,"do not use HTML tags"),state_rply_btn_efb=e=>{0!=pro_efb&&setTimeout((()=>{if(1==stock_state_efb){let e=document.getElementById("respStateEfb");e&&(e.disabled=!1,e.classList.remove("btn-outline-pink"),!e.classList.contains("btn-outline-pink")&&e.classList.remove("btn-outline-pink"),!e.classList.contains("btn-outline-success")&&e.classList.add("btn-outline-success"),e.innerHTML=efb_var.text.open,e.dataset.state="1"),document.getElementById("replayB_emsFormBuilder").remove(),document.getElementById("attach_efb")&&document.getElementById("attach_efb").remove(),document.getElementById("replayM_emsFormBuilder").remove(),document.getElementById("label_replyM_efb").remove(),document.getElementById("replay_state__emsFormBuilder").innerHTML=`<h5 class="efb fs-4 my-3 text-center text-pinkEfb">${efb_var.text.clsdrspn}</h5>`}else{let e=document.getElementById("respStateEfb");e&&(e.disabled=!1,!e.classList.contains("btn-outline-success")&&e.classList.remove("btn-outline-success"),!e.classList.contains("btn-outline-pink")&&e.classList.add("btn-outline-pink"),e.innerHTML=efb_var.text.close,e.dataset.state="0")}}),e)},window.addEventListener("offline",(e=>{})),window.addEventListener("online",(e=>{})),santize_string_efb=e=>{if(null==e||null==e)return null;return e.replaceAll(/(<)(script[^>]*>[^<]*(?:<(?!\/script>)[^<]*)*<\/script>|\/?\b[^<>]+>|!(?:--\s*(?:(?:\[if\s*!IE]>\s*-->)?[^-]*(?:-(?!->)-*[^-]*)*)--|\[CDATA[^\]]*(?:](?!]>)[^\]]*)*]])>)/g,"")};const checkInvalidUTF8_efb=(e,t=!1)=>{if(0===(e=String(e)).length)return"";if(0)return e;return encodeURI(e)===e?e:t?unescape(encodeURIComponent(e)):""},preKsesLessThan_efb=e=>e.replace(/<[^>]*?((?=<)|>|$)/g,(function(e){return preKsesLessThanCallback_efb(e)})),preKsesLessThanCallback_efb=e=>-1===e[0].indexOf(">")?escHtml(e[0]):e[0];function escHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const stripAllTags_efb=(e,t=!1)=>(e=(e=e.replace(/@<(script|style)[^>]*?>.*?<\/\1>@si/g,"")).replace(/<[^>]*>/g,""),t&&(e=e.replace(/[\r\n\t ]+/g," ")),e.trim()),sanitize_text_efb=(e,t=!1)=>{if("object"==typeof e||Array.isArray(e))return"";if(null==e||null==e)return e;let a=e=e.toString();-1!==a.indexOf("<")&&(a=a.replace(/<[^>]*?((?=<)|>|$)/g,(function(e){return preKsesLessThanCallback_efb(e)})),a=stripAllTags_efb(a,!1),a=a.replace(/<\n/g,"&lt;\n")),t||(a=a.replace(/[\r\n\t ]+/g," ")),a=a.trim();let n=!1;for(;/%[a-f0-9]{2}/i.test(a);)a=a.replace(/%[a-f0-9]{2}/i,""),n=!0;return n&&(a=a.trim().replace(/ +/g," ")),a};valNotFound_efb=()=>{alert_message_efb("Security Error","Varible value is empty!",30,"danger")};const add_r_matrix_view_select=(e,t,a,n,l)=>{const s=valj_efb.findIndex((e=>e.id_==l));valj_efb[s].hasOwnProperty("op_style")&&1!=Number(valj_efb[s].op_style)&&Number(valj_efb[s].op_style);return`\n    \x3c!---here r_matrix--\x3e\n      <div class="efb  col-sm-12 row my-1" data-id="${e}" data-parent="${l}" id="${e}-v">\n        <div class="efb my-2 col-md-8 fs-6 ${valj_efb[s].el_text_color}  ${valj_efb[s].el_height} ${valj_efb[s].label_text_size}" id="${e}_lab">${efb_var.text.newOption}</div>\n        <div class="efb col-md-4 d-flex justify-content-center " id="${e}" > \n            <div class="efb btn btn-secondary text-white mx-1 disabled"  data-point="5"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n            <div class="efb btn btn-secondary text-white mx-1 disabled"  data-point="4"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n            <div class="efb btn btn-secondary text-white mx-1 disabled"  data-point="3"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n            <div class="efb btn btn-secondary text-white mx-1 disabled"  data-point="2"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n            <div class="efb btn btn-secondary text-white mx-1 disabled"  data-point="1"  data-id="${e}"  onclick="fun_point_rating(this)"> <i class="efb bi-star-fill"></i></div>\n            <input type="hidden" data-vid="${e}" data-parent="${l} data-type="rating"  id="${e}-point-rating" >\n        </div>                                            \n    </div>\n    `};async function fetch_json_from_url_efb(e){temp_efb="null";let t={s:!1,r:"false"};fetch(e).then((e=>e.json())).then((e=>{t.s=!0,t.r=e})).catch((e=>{t.r=e})),temp_efb=t}function fun_send_mail_emsFormBuilder(e,t,a){const n={action:"mail_send_submited_Emsfb",id:e,type_:a,nonce:t,sid:efb_var.sid},l=new Headers({"Content-Type":"application/json"}),s=efb_var.rest_url+"Emsfb/v1/forms/email/send",o=JSON.stringify(n);fetch(s,{method:"POST",headers:l,body:o}).then((e=>e.json())).then((e=>{})).catch((e=>{}))}fun_captcha_load_efb=()=>` ${sitekye_emsFormBuilder.length>1?`<div class="efb row mx-0"><div id="gRecaptcha" class="efb g-recaptcha my-2 mx-0 px-0" data-sitekey="${sitekye_emsFormBuilder}" data-callback="verifyCaptcha" style="transform:scale(0.88);-webkit-transform:scale(0.88);transform-origin:0 0;-webkit-transform-origin:0 0;"></div><small class="efb text-danger" id="recaptcha-message"></small></div>`:""}\n            \x3c!-- fieldset1 --\x3e \n            ${"view"==state_efb&&1==valj_efb[0].captcha?`<div class="efb col-12 mb-2 mx-0 mt-3 efb" id="recaptcha_efb"><img src="${efb_var.images.recaptcha}" id="img_recaptcha_perview_efb"></div>`:""}\n            <div id="step-1-efb-msg"></div>`;