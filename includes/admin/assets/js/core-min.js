let stepsCountEfb,exportView_emsFormBuilder=[],sendBack_emsFormBuilder=[],sessionPub_emsFormBuilder="reciveFromServer",stepNames_emsFormBuilder=["t","Sync","Sync"],currentTab_emsFormBuilder=0,multiSelectElemnets_emsFormBuilder=[],valueJson_ws=[],demo_emsFormBuilder=!1,validate_edit_mode_emsFormBuilder=!1,test_view__emsFormBuilder=!0;function fun_render_view_core_emsFormBuilder(e){exportView_emsFormBuilder=[],valueJson_ws=JSON.parse(localStorage.getItem("valueJson_ws_p")),form_type_emsFormBuilder=valueJson_ws&&valueJson_ws[0].type?valueJson_ws[0].type:"form",null==valueJson_ws&&(valueJson_ws="N");for(let e of valueJson_ws){let t,s,i="",r="";switch(e.type){case"text":case"password":case"email":case"number":case"image":case"date":case"tel":case"url":case"range":case"color":t=e.id?e.id:e.id_,s=!!e.required&&e.required,"date"==e.type||"email"!=e.type&&"tel"!=e.type&&"url"!==e.type&&"password"!==e.type||(r="validation");const l="payCheckbox"==e.type||"payRadio"==e.type||"paySelect"==e.type||"payMultiselect"==e.type?e.type.slice(2).toLowerCase():e.type;i+=`<div class="efb row emsFormBuilder" id="${t}-row"> <label for="${t}" class="efb emsFormBuilder" >${e.name} ${1==e.required?"*":""}</label><input type="${l}"  id='${t}' name="${t}" class="efb ${e.class?`${e.class} emsFormBuilder_v `:"emsFormBuilder emsFormBuilder_v"} ${r} ${1==e.required?"require":""}"  ${1==e.required?"require":""} ${e.tooltip?`placeholder="${e.tooltip}"`:""} data-id="${e.id_}" ${1==e.required?"required":""}>`,exportView_emsFormBuilder.push({id_:e.id_,element:i,step:e.step,amount:e.amount,type:e.type,required:s,amount:e.amount});break;case"file":t=e.id?e.id:e.id_,s=!!e.required&&e.required;const m=!!e.fileDrogAndDrop&&e.fileDrogAndDrop;let a=".zip,.rar",d="Zip";"Image"==e.file?(a=".png,.jpg,.jpeg",d="Photo"):"Media"==e.file?(a=".mp3,.mp4,.wav,.wav,.AVI,.WebM,.MKV,.FLV",d=e.file):"Document"==e.file?(a=".xlsx,.xls,.doc,.docx,.ppt, pptx,.pptm,.txt,.pdf,.dotx,.rtf,.odt,.ods,.odp",d=e.file):"Zip"==e.file&&(a=".zip,.rar",d=e.file),r=1==m?"form-control-file text-secondary ":"",i=` <div class="efb row emsFormBuilder ${1==m?"inputDnD":""}" id="${t}-row"> <label for="${t}" class="efb emsFormBuilder" >${e.name} ${1==e.required?"*":""}</label><input type="${e.type}"  id='${t}' name="${t}" class="efb ${e.class?`${e.class} emsFormBuilder_v `:"emsFormBuilder emsFormBuilder_v "} ${r} ${1==e.required?"require":""}"  ${1==e.required?"require":""} ${e.tooltip?`placeholder="${e.tooltip}"`:""} accept="${a}" onchange="valid_file_emsFormBuilder('${t}')" data-id="${e.id_}" ${1==e.required?"required":""} ${1==m?` data-title="${efb_var.text.DragAndDropA} ${d} ${efb_var.text.orClickHere}"`:""}>`,exportView_emsFormBuilder.push({id_:e.id_,element:i,step:e.step,amount:e.amount,type:e.type,required:s,amount:e.amount});break;case"textarea":t=e.id?e.id:e.id_,s=!!e.required&&e.required,i=`<div class="efb row emsFormBuilder" id="${t}-row"> <label for="${t}" class="efb emsFormBuilder" >${e.name}  ${1==e.required?"*":""}</label><textarea id='${t}' name="${t}" class="efb ${e.class?`${e.class} emsFormBuilder_v`:"emsFormBuilder emsFormBuilder_v"} ${1==e.required?"require":""}" ${e.tooltip?`placeholder="${e.tooltip}"`:""} data-id="${e.id_}" ${1==e.required?"required":""}></textarea>`,exportView_emsFormBuilder.push({id_:e.id_,element:i,step:e.step,amount:e.amount,type:e.type,required:s,amount:e.amount});break;case"button":t=e.id?e.id:e.id_,i=`<div class="efb row emsFormBuilder" id="${t}-row"> <button  id='${t}' name="${t}" class="efb ${e.class?`${e.class}  emsFormBuilder_v`:"btn btn-primary emsFormBuilder_v btn-lg btn-block"}" ${e.tooltip?`placeholder="${e.tooltip}"`:""} data-id="${e.id_}" value="${e.name}">${e.name}</button>`,exportView_emsFormBuilder.push({id_:e.id_,element:i,step:e.step,amount:e.amount,type:e.type,amount:e.amount});break;case"checkbox":case"radiobutton":t=e.id?e.id:e.id_;const o="checkbox"==e.type?"checkbox":"radio";s=!!e.required&&e.required,i=`<div class="efb  emsFormBuilder"><div class="efb row"><label for="${e.id_}" id="${e.id_}" class="efb emsFormBuilder emsFormBuilder-title ${1==e.required?"require":""}" data-id="${e.id_}" >${e.name}  ${1==e.required?"*":""}</label></div>`,exportView_emsFormBuilder.push({id_:e.id_,element:i,step:e.step,amount:e.amount,parents:e.id_,type:o,required:s,amount:e.amount});break;case"multiselect":case"payMultiselect":t=e.id?e.id:e.id_,s=!!e.required&&e.required,1==e.allowMultiSelect&&1==test_view__emsFormBuilder?i+=`<div class="efb row emsFormBuilder" id="${t}-row"> <label for="${t}" class="efb emsFormBuilder" >${e.name}(Disabled) ${1==e.required?"*":""}</label><input type="${e.type}"  id='${t}' name="${t}" class="efb ${e.class?`${e.class} emsFormBuilder_v `:"emsFormBuilder emsFormBuilder_v"} ${r} ${1==e.required?"require":""}"  ${1==e.required?"require":""} placeholder="${efb_var.text.selectOpetionDisabled}" data-id="${e.id_}" disabled>`:i+=` <div class="efb  emsFormBuilder  row" id="emsFormBuilder-${e.id_}"><label for="${e.id_}" class="efb emsFormBuilder" data-id="${e.id_}" >${e.name}  ${1==e.required?"*":""}</label><select id='${t}' name="${e.id_}" class="efb ${e.class?`${e.class} emsFormBuilder_v `:"emsFormBuilder emsFormBuilder_v "} ${1==e.allowMultiSelect?"multiple-emsFormBuilder":""} ${1==e.required?"require":""}" value="${e.name}"  placeholder='${e.tooltip?e.tooltip:" Select"}' data-id="${e.id_}"   ${1==e.allowMultiSelect?'multiple="multiple" multiple':""}>`,exportView_emsFormBuilder.push({id_:e.id_,element:i,step:e.step,amount:e.amount,parents:e.id_,type:"select",required:s,amount:e.amount});break;case"option":t=e.id?e.id:e.id_;const n=exportView_emsFormBuilder.findIndex((t=>t.parents===e.parents));if(n>-1){s=!(!exportView_emsFormBuilder[n].required||null==exportView_emsFormBuilder[n].required)&&exportView_emsFormBuilder[n].required;const i=exportView_emsFormBuilder[n].id_,r=valueJson_ws.find((e=>e.id_===i));test_view__emsFormBuilder=1==r.allowMultiSelect,"radio"!=exportView_emsFormBuilder[n].type&&"checkbox"!=exportView_emsFormBuilder[n].type||(exportView_emsFormBuilder[n].element+=`<div class="efb row emsFormBuilder"><div class="efb emsFormBuilder_option col-1"><input type="${exportView_emsFormBuilder[n].type}" id='${t}' name="${e.parents}" class="efb ${e.class?`${e.class}  emsFormBuilder_v col`:"emsFormBuilder emsFormBuilder_v"} ${1==s?"require":""}" value="${e.name}" ${e.tooltip?`placeholder="${e.tooltip}"`:""} data-id="${e.id_}"}></div> <div class="efb col-10 efb emsFormBuilder_option"><label for="${e.parents}" class="efb emsFormBuilder" >${e.name}</label></div></div>`),"select"==exportView_emsFormBuilder[n].type&&0==test_view__emsFormBuilder&&(exportView_emsFormBuilder[n].element+=`<option  id='${t}' class="efb ${e.class?`${e.class}`:"emsFormBuilder "} ${1==s?"require":""}" value="${e.name}" name="${e.parents}" value="${e.name}" data-id="${e.id_}">${e.name}</option>`),exportView_emsFormBuilder[n].required=!1,test_view__emsFormBuilder=!0}break}}const t="form"!=form_type_emsFormBuilder?efb_var.text[form_type_emsFormBuilder]:efb_var.text.send,s=`\x3c!-- commenet --!><div class="efb m-2">\n<div class="efb  row d-flex justify-content-center align-items-center">\n    <div class="efb col-md-12 efb">\n        <div id="emsFormBuilder-form-view" >\n        <form id="emsFormBuilder-form-view-id">\n            <h1 id="emsFormBuilder-form-view-title" class="efb emsFormBuilder">${efb_var.text.preview}</h1>                \n            <div class="efb emsFormBuilder-all-steps-view" id="emsFormBuilder-all-steps-view" ${"form"==form_type_emsFormBuilder?"":'style="display:none;"'}> \n                <span class="efb emsFormBuilder-step-view" id="emsFormBuilder-firstStepIcon-view"><i class="efb fa fa-tachometer"></i></span> \n                <div class="efb emsFormBuilder-addStep-view" id="emsFormBuilder-addStep-view" >\n                </div>\n                <span class="efb emsFormBuilder-step-view"><i class="efb px-1 fa fa-floppy-o"></i></span> \n            </div>\n            <div class="efb emsFormBuilder-all-steps-view" ${"form"==form_type_emsFormBuilder?"":'style="display:none;"'} > \n                <h5 class="efb emsFormBuilder-step-name-view f-setp-name" id ="emsFormBuilder-step-name-view">${efb_var.text.preview}</h5> \n            </div>\n            <div id="emsFormBuilder-message-area-view"></div>\n            <div class="efb emsFormBuilder-tab-view" id="emsFormBuilder-firstTab-view">\n            </div>\n            <div  id="emsFormBuilder-tabInfo-view">\n            </div>\n            <div  id="emsFormBuilder-tabList-view">\n            </div>           \n            <div class="efb thanks-message text-center" id="emsFormBuilder-text-message-view"> \n                <h3>${efb_var.text.registered}</h3> <span>${efb_var.text.yourInformationRegistered}</span>\n            </div>\n            <div style="overflow:auto;" id="emsFormBuilder-text-nextprevious-view">\n            \n            ${valueJson_ws[0].steps>1?` <div style="float:right;"> <button type="button" id="emsFormBuilder-text-prevBtn-view" class="efb emsformbuilder" class="efb mat-shadow emsFormBuilder" onclick="emsFormBuilder_nevButton_view(-1)"><i class="efb ${1==ajax_object_efm.rtl?"fa fa-angle-double-right":"fa fa-angle-double-left"}"></i></button>  <button type="button" id="emsFormBuilder-text-nextBtn-view" class="efb mat-shadow emsFormBuilder" onclick="emsFormBuilder_nevButton_view(1)"><i class="efb ${1==ajax_object_efm.rtl?"fa fa-angle-double-left":"fa fa-angle-double-right"}"></i></button> </div> `:`<button type="button" id="emsFormBuilder-text-nextBtn-view" class="efb btn btn-lg btn-block mat-shadow btn-type" onclick="emsFormBuilder_nevButton_view(1)">${t} </button> </div> `}\n                              \n            </div>\n          </form>      \n        </div>\n    </div>\n</div>\n</div>`;if(1!=e)return s;if(document.getElementById("body_emsFormBuilder")&&(document.getElementById("body_emsFormBuilder").innerHTML=s),exportView_emsFormBuilder.length>0){valueJson_ws[0].steps,valueJson_ws[0].formName;document.getElementById("emsFormBuilder-form-view-title").innerHTML=String(valueJson_ws[0].formName),document.getElementById("emsFormBuilder-step-name-view").innerHTML=valueJson_ws[0]["name-1"]}ShowTab_emsFormBuilder_view(currentTab_emsFormBuilder),createStepsOfPublic()}function ShowTab_emsFormBuilder_view(e){var t=document.getElementsByClassName("emsFormBuilder-tab-view");null!=t[e]&&(t[e]&&(t[e].style.display="block",t[e].classList.add("fadeInEFB")),document.getElementById("emsFormBuilder-text-prevBtn-view")&&(0!=e||null!=e[0]&&!e[0]?document.getElementById("emsFormBuilder-text-prevBtn-view").style.display="inline":document.getElementById("emsFormBuilder-text-prevBtn-view").style.display="none"),t.length,validateForm_fixStepInd_view(e))}function emsFormBuilder_nevButton_view(e){if(0!=e){var t=document.getElementsByClassName("emsFormBuilder-tab-view");if(1==e&&!validateForm_emsFormBuilder_view())return!1;t[currentTab_emsFormBuilder].style.display="none",currentTab_emsFormBuilder+=e,stepName_emsFormBuilder_view(currentTab_emsFormBuilder)}if(0==e){document.getElementById("emsFormBuilder-firstTab-view").style.display="block",document.getElementById("emsFormBuilder-firstTab-view").classList.add="step",document.getElementById("emsFormBuilder-text-nextprevious-view").style.display="block",document.getElementById("emsFormBuilder-all-steps-view").style.display="",document.getElementById("emsFormBuilder-form-view-title").style.display="block",document.getElementById("emsFormBuilder-text-message-view").style.display="none";for(let e of document.querySelectorAll(".finish"))e.classList.remove("finish"),e.classList.remove("active"),e.classList.contains("first");currentTab_emsFormBuilder=e}t&&currentTab_emsFormBuilder>=t.length&&(document.getElementById("emsFormBuilder-text-nextprevious-view").style.display="none",document.getElementById("emsFormBuilder-all-steps-view").style.display="none",document.getElementById("emsFormBuilder-form-view-title").style.display="none",document.getElementById("emsFormBuilder-text-message-view").style.display="block",0==demo_emsFormBuilder?endMessage_emsFormBuilder_view():document.getElementById("emsFormBuilder-text-message-view").innerHTML=`<h1 class="efb px-1 fas fa-thumbs-up faa-bounce animated text-primary"></h1> <h3>${efb_var.text.done}!</br><small>(Demo)</smal><h3>`),ShowTab_emsFormBuilder_view(currentTab_emsFormBuilder)}function validateForm_emsFormBuilder_view(){let e,t,s,i=!0,r=0;e=document.getElementsByClassName("emsFormBuilder-tab-view"),t=e[currentTab_emsFormBuilder].querySelectorAll(".require");try{for(const t of e[currentTab_emsFormBuilder].querySelectorAll(".require , .validation")){const e=t.classList.contains("require");if("INPUT"==t.tagName)switch(""==t.value&&t.classList.contains("require")?(t.className+=" invalid",i=!1):(t.classList.remove("invalid"),s=t.value),t.type){case"email":i=!0!==e||valid_email_emsFormBuilder(t);break;case"tel":i=!0!==e||valid_phone_emsFormBuilder(t);break;case"password":t.value.length<=6?(i=!1,t.className+=" invalid",document.getElementById(`${t.id}-row`).innerHTML+=`<small class="efb text-danger" id="${t.id}-message">${efb_var.text.password8Chars}</small>`):(t.classList.remove("invalid"),document.getElementById(`${t.id}-message`)&&document.getElementById(`${t.id}-message`).remove());break;case"url":null===t.value.match(/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/g)&&1==t.classList.contains("require")?(i=!1,t.className+=" invalid",document.getElementById(`${t.id}-row`).innerHTML+=`<small class="efb text-danger" id="${t.id}-message">${efb_var.text.enterValidURL}</small>`):(i=!0,document.getElementById(`${t.id}-message`)&&document.getElementById(`${t.id}-message`).remove(),t.classList.remove("invalid"));break;case"file":t.id;i=!!t.files[0];break}else if("LABEL"==t.tagName){const e=document.getElementsByName(t.dataset.id);let r=!1;for(let i of e)1==i.checked&&(t.classList.remove("invalid"),r=!0,s=i.value);0==r&&(s="",t.className+=" invalid",i=!1)}else"SELECT"==t.tagName?""==t.value?(t.className+=" invalid",i=!1):s=t.value:t.tagName;0==i&&(r+=1,document.getElementById("emsFormBuilder-message-area-view").innerHTML=alarm_emsFormBuilder(efb_var.text.pleaseFillInRequiredFields)),1==i&&0==r&&(document.getElementsByClassName("emsFormBuilder-step-view")[currentTab_emsFormBuilder].className+=" finish",document.getElementById("alarm_emsFormBuilder")&&(document.getElementById("emsFormBuilder-message-area-view").innerHTML=""))}}catch(e){}return!(r>0)}function validateForm_fixStepInd_view(e){var t,s=document.getElementsByClassName("emsFormBuilder-step-view");for(t=0;t<s.length;t++)s[t].className=s[t].className.replace(" active","");s[e].className+=" active"}function createStepsOfPublic(){if(1==valueJson_ws.length&&"N"==valueJson_ws&&document.getElementById("emsFormBuilder-form-view"))return document.getElementById("emsFormBuilder-form-view").innerHTML=`<h1 class='efb emsFormBuilder'><i class="efb fas fa-exclamation-triangle faa-flash animated text-danger""></i></h1><h3 id="formNotFound">${efb_var.text.formNotFound}</h3> <span>${efb_var.text.errorV01}</span>`,!1;stepsCountEfb=Number(valueJson_ws[0].steps);const e=document.getElementById("emsFormBuilder-addStep-view"),t=document.getElementById("emsFormBuilder-tabList-view"),s=document.getElementById("emsFormBuilder-tabInfo-view");if(null!=e){if(e.hasChildNodes())for(;e.hasChildNodes();)e.removeChild(e.childNodes[0]);if(t.hasChildNodes())for(;t.hasChildNodes();)t.removeChild(t.childNodes[0]);if(s.hasChildNodes())for(;s.hasChildNodes();)s.removeChild(s.childNodes[0]);exportView_emsFormBuilder=exportView_emsFormBuilder.sort((function(e,t){return Number(e.amount)-Number(t.amount)}));for(let e=1;e<=stepsCountEfb;e++){let t;tags="",icon="icon-"+e,icon=valueJson_ws[0][icon]?valueJson_ws[0]["icon-"+e]:"fa fa-tachometer",stepNames_emsFormBuilder[e-1]=valueJson_ws[0]["name-"+e];for(let s of exportView_emsFormBuilder)Number(s.step)==e&&(t=1===Number(s.step)?"emsFormBuilder-firstTab-view":"emsFormBuilder-tabList-view",tags+="select"!=s.type?`${s.element}</div></br>`:`${s.element}</select></div></br>`);""!=tags&&(document.getElementById(t).innerHTML+="emsFormBuilder-firstTab-view"==t?tags:`<div class="efb emsFormBuilder-tab-view"> ${tags}</div>`),1==e?document.getElementById("emsFormBuilder-firstStepIcon-view").innerHTML=`<i class="efb ${icon}"></i>`:document.getElementById("emsFormBuilder-addStep-view").innerHTML+=`<span class="efb emsFormBuilder-step-view" id="stepIcon-${e-1}"><i class="efb ${icon}"></i></span>`}for(const e of document.querySelectorAll(".emsFormBuilder_v"))"submit"!=e.type?e.addEventListener("change",(t=>{t.preventDefault();let s="";const i=e.dataset.id,r=valueJson_ws.find((e=>e.id_===i));if("text"==e.type||"password"==e.type||"color"==e.type||"number"==e.type||"date"==e.type||"url"==e.type||"range"==e.type||"textarea"==e.type)s=e.value;else if("radio"==e.type||"checkbox"==e.type)s=e.value,r.name=document.getElementById(r.parents).innerText;else if("select-one"==e.type)s=e.value;else if("select-multiple"==e.type){e.name;if(1==e.classList.contains("multiple-emsFormBuilder"))for(let t=0;t<e.children.length;t++)s+=e.children[t].value+","}else if("email"==e.type){s=1==valid_email_emsFormBuilder(e)?e.value:""}else if("tel"==e.type){s=1==valid_phone_emsFormBuilder(e)?e.value:""}if(""!==s){fun_sendBack_emsFormBuilder([{id_:i,name:r.name,value:s,session:sessionPub_emsFormBuilder}][0],355)}})):"submit"==e.type&&e.addEventListener("click",(t=>{const s=e.dataset.id,i=valueJson_ws.find((e=>e.id_===s));fun_sendBack_emsFormBuilder([{id_:s,name:i.name,value:e.value,session:sessionPub_emsFormBuilder}][0])}))}}function fun_sendBack_emsFormBuilder(e){if(e.hasOwnProperty("value")&&(e.value=e.value.replaceAll("'","@efb@sq#"),e.value=e.value.replaceAll("`","@efb@vq#"),e.value=e.value.replaceAll('"',"@efb@dq#"),e.value=e.value.replaceAll("\t"," "),e.value=e.value.replaceAll("\b"," "),e.value=e.value.replaceAll("\r","@efb@nq#"),e.value=e.value.replaceAll("\n","@efb@nq#"),e.value=e.value.replaceAll("\r"," ")),"undefined"!=typeof sendBack_emsFormBuilder_pub){if(sendBack_emsFormBuilder_pub.length>0){let t=sendBack_emsFormBuilder_pub.findIndex((t=>t.id_===e.id_));-1==t||"switch"==e.type||"checkbox"!=sendBack_emsFormBuilder_pub[t].type&&"payCheckbox"!=sendBack_emsFormBuilder_pub[t].type&&"multiselect"!=sendBack_emsFormBuilder_pub[t].type&&"payMultiselect"!=sendBack_emsFormBuilder_pub[t].type?-1!=t&&"@file@"==e.value?sendBack_emsFormBuilder_pub[t]=e:-1==t?sendBack_emsFormBuilder_pub.push(e):"string"!=typeof e.price?sendBack_emsFormBuilder_pub[t].value=e.value:(sendBack_emsFormBuilder_pub[t].value=e.value,sendBack_emsFormBuilder_pub[t].price=e.price):(t=sendBack_emsFormBuilder_pub.findIndex((t=>t.id_===e.id_&&t.value==e.value)),-1==t?sendBack_emsFormBuilder_pub.push(e):sendBack_emsFormBuilder_pub.splice(t,1))}else sendBack_emsFormBuilder_pub.push(e);sendBack_emsFormBuilder=sendBack_emsFormBuilder_pub}}function fun_multiSelectElemnets_emsFormBuilder(e){if(multiSelectElemnets_emsFormBuilder.length>0){const t=multiSelectElemnets_emsFormBuilder.findIndex((t=>t.parents===e.parents));if(-1!==t){const s=multiSelectElemnets_emsFormBuilder[t],i=Object.keys(s);let r=0;for(const l of i)e[l]===s[l]&&(r=1),1===r&&"parents"!==l&&void 0!==s[l]&&void 0!==e[l]&&s[l]!==e[l]&&(multiSelectElemnets_emsFormBuilder[t]=e,document.getElementById(l).selected,r=2);1==r&&Object.assign(multiSelectElemnets_emsFormBuilder[t],e)}else multiSelectElemnets_emsFormBuilder.push(e)}else multiSelectElemnets_emsFormBuilder.push(e);return 0}function saveLocalStorage_emsFormBuilder_view(){localStorage.setItem("valueJson_ws",JSON.stringify(valueJson_ws))}function alarm_emsFormBuilder(e){return`<div class="efb alert alert-warning alert-dismissible fade show " role="alert" id="alarm_emsFormBuilder">\n  <div class="efb emsFormBuilder"><i class="efb fas fa-exclamation-triangle faa-flash animated"></i></div>\n    <strong>${efb_var.text.alert} </strong>${e}\n  </div>`}function endMessage_emsFormBuilder_view(){const e=currentTab_emsFormBuilder+1;let t=[];for(let s=1;s<=e;s++)-1==sendBack_emsFormBuilder.findIndex((e=>e.step==s))&&t.push(s);let s=0,i=0;for(let e of exportView_emsFormBuilder)if(1==e.required){const t=e.id_;s+=1,-1==sendBack_emsFormBuilder.findIndex((e=>e.id_==t))&&(i+=1)}if(s!=i&&sendBack_emsFormBuilder.length<1){document.getElementById("emsFormBuilder-text-message-view").innerHTML=`<h1 class='efb emsFormBuilder'><i class="efb fas fa-exclamation-triangle faa-flash animated text-danger""></i></h1><h3>Failed</h3> <span>${efb_var.text.pleaseMakeSureAllFields}</span>\n    <div class="efb display-btn"> <button type="button" id="emsFormBuilder-text-prevBtn-view" onclick="emsFormBuilder_nevButton_view(0)" style="display;"><i class="efb fa fa-angle-double-left"></i></button></div>`}else document.getElementById("emsFormBuilder-text-message-view").innerHTML=`<h1 class="efb fas fa-sync fa-spin text-primary emsFormBuilder "></h1> <h3 class="efb fs-3"> ${efb_var.text.pleaseWaiting}<h3>`,actionSendData_emsFormBuilder()}function stepName_emsFormBuilder_view(e){document.getElementById("emsFormBuilder-step-name-view").innerHTML="null"!=stepNames_emsFormBuilder[e]&&null!=stepNames_emsFormBuilder[e]?` ${stepNames_emsFormBuilder[e]}`:""}function valid_email_emsFormBuilder(e){document.getElementById(`${e.id}-message`)&&document.getElementById(`${e.id}-message`).remove();let t=0;const s=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return t+=e.value.match(s)?0:1,!e.value.match(s)&&(e.className+=" invalid"),t>0?document.getElementById(`${e.id}-row`).innerHTML+=`<small class="efb text-danger" id="${e.id}-message">${efb_var.text.enterTheEmail}</small>`:document.getElementById("alarm_emsFormBuilder")&&(e.classList.remove("invalid"),document.getElementById(`${e.id}-message`)&&document.getElementById(`${e.id}-message`).remove()),!(t>0)}function valid_phone_emsFormBuilder(e){document.getElementById(`${e.id}-message`)&&document.getElementById(`${e.id}-message`).remove();let t=0;const s=/^\s*(?:\+?(\d{1,3}))?([-. (]*(\d{3})[-. )]*)?((\d{3})[-. ]*(\d{2,4})(?:[-.x ]*(\d+))?)\s*$/gm;return t+=e.value.match(s)?0:1,t>0?(!e.value.match(s)&&(e.className+=" invalid"),document.getElementById(`${e.id}-row`).innerHTML+=`<small class="efb text-danger" id="${e.id}-message">${efb_var.text.enterThePhone}</small>`):document.getElementById("alarm_emsFormBuilder")&&e.classList.remove("invalid"),!(t>0)}function valid_file_emsFormBuilder(e){document.getElementById(`${e}-message`)&&document.getElementById(`${e}-message`).remove();let t="";if(1){t=valueJson_ws.find((t=>t.id_===e)).file}let s=0,i=!1;const r=document.getElementById(e);let l=r.accept.split(",");if(r.files[0]&&r.files[0].size<15e6)for(let e of l){-1!=r.files[0].type.indexOf(e.slice(1,e.length))&&(s=1)}if(s>0){new FileReader;r.setAttribute("data-title",r.files[0].name),r.classList.remove("text-warning"),r.classList.add("text-secondary"),document.getElementById(`${e}-message`)&&document.getElementById(`${e}-message`).remove(),i=!0}else{let s=`${efb_var.text.pleaseUploadA} ${t}`;r.classList.add("text-warning"),r.classList.remove("text-secondary"),r.files[0]&&(s=r.files[0].size<15e6?`Please upload the ${t} file (${l.join()})`:`The ${t} size is too large, maximum size of a file is 15MB. Try new ${t} file`),r.setAttribute("data-title",s),document.getElementById(`${e}-row`).innerHTML+=`<small class="efb text-danger" id="${r.id}-message">${s}</small>`,i=!1}return i}jQuery((function(){null!=typeof ajax_object_efm_core&&1==Number(ajax_object_efm_core.check)&&(fun_render_view_core_emsFormBuilder(ajax_object_efm_core.check),validate_edit_mode_emsFormBuilder=!0)}));