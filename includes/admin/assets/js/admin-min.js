let state_check_ws_p=1,valueJson_ws_p=[],exportJson_ws=[],pro_ws=!1,form_ID_emsFormBuilder=0,form_type_emsFormBuilder="form";const efb_version=3.6;let wpbakery_emsFormBuilder=!1;function saveLocalStorage_emsFormBuilder(){localStorage.setItem("valueJson_ws_p",JSON.stringify(valueJson_ws_p)),localStorage.setItem("valueJson_ws_p",JSON.stringify(valueJson_ws_p))}function alarm_emsFormBuilder(val){return`<div class="efb alert alert-warning alert-dismissible fade show " role="alert" id="alarm_emsFormBuilder">
    <div class="efb emsFormBuilder"><i class="efb fas fa-exclamation-triangle faa-flash animated"></i></div>
    <strong>${efb_var.text.alert} </strong>${val}
  </div>`}function Link_emsFormBuilder(state){let link="https://whitestudio.team/document";if("fa_IR"!=efb_var.language)switch(state){case"publishForm":link="https://youtu.be/AnkhmZ5Cz9w";break;case"createSampleForm":case"tutorial":link+=valj_efb.length<1||"s/payment"!=valj_efb[0].type?"s/how-to-create-your-first-form-with-easy-form-builde":"How-to-Create-a-Payment-Form-in-Easy-Form-Builder";break;case"stripe":link="https://whitestudio.team/documents/how-to-setup-and-use-the-stripe-on-easy-form-builder";break;case"ws":link="https://whitestudio.team/";break;case"price":link="https://whitestudio.team/#price";break;case"efb":link="https://wordpress.org/plugins/easy-form-builder/";break;case"wiki":link="https://whitestudio.team/documents/";break;case"EmailNoti":link+="s/How-to-Set-Up-Form-Notification-Emails-in-Easy-Form-Builder";break;case"redirectPage":link+="s/how-to-edit-a-redirect-pagethank-you-page-of-forms-on-easy-form-builder";break;case"AdnSPF":link+="s/how-to-setup-and-use-the-stripe-on-easy-form-builder/";break;case"AdnOF":link+="s/offline-forms-addon/";break;case"AdnADP":link+="s/how-to-install-islamic-date-in-easy-form-builder-plugin/";break;case"wpbakery":link+="s/wpbakery-easy-form-builder-v34/";break;case"AdnPPF":link="https://whitestudio.team";break;case"AdnATC":case"AdnSS":case"AdnCPF":case"AdnESZ":case"AdnSE":link="https://whitestudio.team/addons"}else switch(link="https://easyformbuilder.ir/داکیومنت/",state){case"publishForm":link+="%da%86%da%af%d9%88%d9%86%d9%87-%d9%81%d8%b1%d9%85-%d8%aa%d9%88%d8%b3%d8%b7-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2-%d8%a2%d8%b3%d8%a7%d9%86-%d8%af%d8%b1-%d9%88%d8%b1%d8%af%d9%be%d8%b1%d8%b3-%d8%a8%d8%b3/";break;case"createSampleForm":case"tutorial":link+="%da%86%da%af%d9%88%d9%86%d9%87-%d9%81%d8%b1%d9%85-%d8%aa%d9%88%d8%b3%d8%b7-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2-%d8%a2%d8%b3%d8%a7%d9%86-%d8%af%d8%b1-%d9%88%d8%b1%d8%af%d9%be%d8%b1%d8%b3-%d8%a8%d8%b3/";break;case"stripe":link="https://whitestudio.team/documents/how-to-setup-and-use-the-stripe-on-easy-form-builder";break;case"ws":link="https://easyformbuilder.ir/";break;case"price":link="https://easyformbuilder.ir/#price";break;case"efb":link="https://wordpress.org/plugins/easy-form-builder/";break;case"wiki":link="https://easyformbuilder.ir/documents/";break;case"EmailNoti":link+="چگونه-ایمیل-اطلاع-رسانی-را-در-فرم-ساز-آس/";break;case"redirectPage":link+="نحوه-ساخت-یک-صفحه-تشکر-در-افزونه-فرم-ساز/";break;case"AdnSPF":link="https://easyformbuilder.ir/documents/";break;case"AdnOF":link+="%d9%81%d8%b9%d8%a7%d9%84-%da%a9%d8%b1%d8%af%d9%86-%d8%ad%d8%a7%d9%84%d8%aa-%d8%a2%d9%81%d9%84%d8%a7%db%8c%d9%86-%d9%81%d8%b1%d9%85/";break;case"AdnPPF":link+="%da%86%da%af%d9%88%d9%86%d9%87-%d8%af%d8%b1%da%af%d8%a7%d9%87-%d9%be%d8%b1%d8%af%d8%a7%d8%ae%d8%aa-%d8%a7%db%8c%d8%b1%d8%a7%d9%86%db%8c-%d8%b1%d8%a7-%d8%a8%d9%87-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2/";break;case"wpbakery":link+="%da%86%da%af%d9%88%d9%86%d9%87-%d9%81%d8%b1%d9%85-%d8%b3%d8%a7%d8%b2-%d8%a2%d8%b3%d8%a7%d9%86-%d8%af%d8%b1-%d9%88%d8%b1%d8%af%d9%be%d8%b1%d8%b3-%d8%a8%db%8c%da%a9%d8%b1%db%8c-%d8%a7%d8%b3%d8%aa%d9%81/";break;case"AdnATC":case"AdnSS":case"AdnCPF":case"AdnESZ":case"AdnSE":link="https://easyformbuilder.ir/"}window.open(link,"_blank")}function show_message_result_form_set_EFB(state,m){var wpbakery=`<p class="efb m-5 mx-3 fs-4"><a class="efb text-danger" onClick="Link_emsFormBuilder('wpbakery')" target="_blank">${efb_var.text.wwpb}</a></p>`,title=`
  <h4 class="efb title-holder efb">
     <img src="${efb_var.images.title}" class="efb title efb">
     ${0!=state?'<i class="efb  bi-hand-thumbs-up title-icon mx-2"></i>'+efb_var.text.done:'<i class="efb  bi-hand-thumbs-up title-icon mx-2"></i>'+efb_var.text.error}
  </h4>
  
  `;let content="";content=0!=state?` <h3 class="efb"><b>${efb_var.text.goodJob}</b></br> ${1==state?efb_var.text.formIsBuild:efb_var.text.formUpdatedDone}</h3>
    ${wpbakery_emsFormBuilder?wpbakery:""}
  <h5 class="efb mt-3 efb">${efb_var.text.shortcode}: <strong>${m}</strong></h5>
  <input type="text" class="efb hide-input efb" value="${m}" id="trackingCodeEfb">
  <div id="alert"></div>
  <a  class="efb btn-r btn efb btn-primary btn-lg m-3" onclick="copyCodeEfb('trackingCodeEfb')">
      <i class="efb  bi-clipboard-check mx-1"></i>${efb_var.text.copyShortcode}
  </a>
  <a  class="efb btn efb btn-outline-pink btn-lg m-3 px-3" data-bs-toggle="modal" data-bs-target="#Output" onclick="open_whiteStudio_efb('publishForm')">
      <i class="efb  bi-question mx-1"></i>${efb_var.text.help}
  </a>
  <a  class="efb btn efb btn-outline-pink btn-lg m-3 px-3" data-bs-toggle="modal" data-bs-target="#close" onclick="location.reload(true);">
      <i class="efb  bi-x mx-1"></i>${efb_var.text.close}
  </a>
  `:`<h3 class="efb">${m}</h3>`,document.getElementById("settingModalEfb-body").innerHTML=`<div class="efb card-body text-center efb">${title}${content}</div>`}function actionSendData_emsFormBuilder(){var name;navigator.onLine?(data={},name=formName_Efb,jQuery(function($){return data=1==state_check_ws_p?{action:"add_form_Emsfb",value:localStorage.getItem("valj_efb"),name:name,type:form_type_emsFormBuilder,nonce:efb_var.nonce}:{action:"update_form_Emsfb",value:localStorage.getItem("valj_efb"),name:name,nonce:efb_var.nonce,id:form_ID_emsFormBuilder},$.post(ajaxurl,data,function(res){"insert"==res.data.r?res.data.value&&1==res.data.success?(state_check_ws_p=0,form_ID_emsFormBuilder=parseInt(res.data.id),show_message_result_form_set_EFB(1,res.data.value)):(alert(res,"error"),show_message_result_form_set_EFB(0,res.data.value,efb_var.text.somethingWentWrongPleaseRefresh+", Code:400-1")):"update"==res.data.r||"updated"==res.data.r&&1==res.data.success?show_message_result_form_set_EFB(2,res.data.value):null==res.data.m||1<res.data.m.length?show_message_result_form_set_EFB(0,res.data.value,efb_var.text.somethingWentWrongPleaseRefresh+", Code:400-400"):show_message_result_form_set_EFB(0,res.data.value,res.data.m+", Code:400-400")}),!0})):alert_message_efb("",efb_var.text.offlineSend,17,"danger")}function actionSendAddons_efb(val){if(navigator.onLine){const snd=val;if(null==snd)return valNotFound_efb();data={},jQuery(function($){return data={action:"add_addons_Emsfb",value:snd,nonce:efb_var.nonce},$.post(ajaxurl,data,function(res){"done"==res.data.r?res.data.value&&1==res.data.success?(alert_message_efb(efb_var.text.done,"",30,"info"),location.reload()):(alert(res,"error"),alert_message_efb(efb_var.text.error,efb_var.text.somethingWentWrongPleaseRefresh+", Code:400-1",30,"danger")):null==res.data.m||1<res.data.m.length?alert_message_efb(efb_var.text.error,res.data.m,30,"danger"):alert_message_efb(efb_var.text.error,efb_var.text.somethingWentWrongPleaseRefresh+", Code:400-2",30,"danger")}),!0})}else alert_message_efb("",efb_var.text.offlineSend,17,"danger")}function actionSendAddonsUn_efb(val){navigator.onLine?(data={},jQuery(function($){return data={action:"remove_addons_Emsfb",value:val,nonce:efb_var.nonce},$.post(ajaxurl,data,function(res){"done"==res.data.r?res.data.value&&1==res.data.success?(alert_message_efb(efb_var.text.done,"",30,"info"),location.reload()):(alert(res,"error"),alert_message_efb(efb_var.text.error,efb_var.text.somethingWentWrongPleaseRefresh+", Code:400-1",30,"danger")):(null!=res.data.m&&res.data.m.length,alert_message_efb(efb_var.text.error,efb_var.text.somethingWentWrongPleaseRefresh+", Code:400-1",30,"danger"))}),!0})):alert_message_efb("",efb_var.text.offlineSend,17,"danger")}function fun_report_error(fun,err){}function close_overpage_emsFormBuilder(i){document.getElementById("overpage").remove(),2==i&&(demo_emsFormBuilder=!1)}function getOS_emsFormBuilder(){var userAgent=window.navigator.userAgent,platform=window.navigator.platform,os=null;return valid=!1,-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(platform)?os="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(platform)?os="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(platform)?(os="Windows",valid=!0):/Android/.test(userAgent)?os="Android":!os&&/Linux/.test(platform)&&(os="Linux"),valid}localStorage.getItem("valueJson_ws_p")&&localStorage.removeItem("valueJson_ws_p"),jQuery(function(){state_check_ws_p=Number(efb_var.check),setting_emsFormBuilder=efb_var.setting,pro_ws="1"==efb_var.pro||1==efb_var.pro,pro_ws="undefined"!=typeof pro_whitestudio&&pro_whitestudio,1==state_check_ws_p?(history.replaceState("templates",null,"?page=Emsfb_create"),add_dasboard_emsFormBuilder()):2==state_check_ws_p&&(timeout=500,(fun_timeout=()=>{setTimeout(()=>{("undefined"==typeof addons_efb?(timeout+=100,fun_timeout):add_addons_emsFormBuilder)()},timeout)})())}),document.getElementById("wpfooter").remove(),console.info("Easy Form Builder 3.6.15> WhiteStudio.team"),createCardFormEfb=i=>{tag_efb=tag_efb.concat(i.tag.split(" ")).filter((item,i,ar)=>ar.indexOf(item)===i);let prw=`<a class="efb float-end btn mx-1 efb rounded-pill border-danger text-danger " onclick="fun_preview_before_efb('${i.id}' ,'local' ,${i.pro})"><i class="efb  bi-eye mx-1"></i>${efb_var.text.preview}</a>`,btn=`<button type="button" id="${i.id}" class="efb float-end btn mb-1 efb btn-primary btn-lg float-end emsFormBuilder btn-r efbCreateNewForm"><i class="efb  bi-plus-circle mx-1"></i>${efb_var.text.create}</b></button>`;var fn;return"form"!=i.id&&"payment"!=i.id||(prw="\x3c!--not preview--\x3e"),-1!=i.tag.search("payment")&&0==efb_var.addons.AdnSPF&&0==efb_var.addons.AdnPPF&&(fn=`alert_message_efb('${efb_var.text.error}', '${efb_var.text.IMAddonP}', 20 , 'danger')`,btn=`<a class="efb float-end btn mb-1 efb btn-primary btn-lg float-end  btn-r" onClick="${fn}"><i class="efb  bi-plus-circle mx-1"></i>${efb_var.text.create}</b></a>`),`
  <div class="efb tag  col ${1==efb_var.rtl?"rtl-text":""} ${i.tag}" id="${i.id}"> <div class="efb card efb"><div class="efb card-body">
  ${1==i.pro&&1!=efb_var.pro?funProEfb():""}
  <h5 class="efb card-title efb"><i class="efb  ${i.icon} mx-1"></i>${i.title} </h5>
  <div class="efb row" ><p class="efb card-text efb ${mobile_view_efb?"":"fs-7"} float-start my-3">${i.desc}  <b>${efb_var.text.freefeatureNotiEmail}</b> </p></div>
  ${btn}
  ${prw}
  </div></div></div>`},createCardAddoneEfb=i=>{tag_efb=tag_efb.concat(i.tag.split(" ")).filter((item,i,ar)=>ar.indexOf(item)===i);let funNtn=`funBTNAddOnsEFB('${i.name}','${i.v_required}')`,nameNtn=efb_var.text.install,iconNtn="bi-download",colorNtn="btn-primary";return 1==i.pro&&1!=efb_var.pro?(funNtn="pro_show_efb(1)",nameNtn=efb_var.text.pro,iconNtn="bi-gem",colorNtn="btn-warning"):1==efb_var.setting[i.name]&&(funNtn=`funBTNAddOnsUnEFB('${i.name}')`,nameNtn=efb_var.text.remove,iconNtn="",colorNtn="btn-secondary"),`
  <div class="efb tag mt-0 col ${1==efb_var.rtl?"rtl-text":""} ${i.tag}" id="${i.id}"> <div class="efb card efb"><div class="efb card-body">
  ${1==i.pro&&1!=efb_var.pro?funProEfb():""}
  <h5 class="efb card-title efb"><i class="efb  ${i.icon} mx-1"></i>${i.title} </h5>
  <div class="efb row" ><p class="efb card-text efb ${mobile_view_efb?"":"fs-7"} float-start my-3">${i.desc}  </p></div>
  <a id="${i.name}" data-vrequired="${i.v_required}" class="efb float-end btn addons mb-1 efb ${colorNtn} btn-lg float-end btn-r" onClick="${funNtn}"><i class="efb ${iconNtn} mx-1"></i>${nameNtn}</b></a>
  <a class="efb float-end btn mx-1 efb rounded-pill border-danger text-danger " onclick="Link_emsFormBuilder('${i.name}')"><i class="efb  bi-question-circle mx-1"></i>${efb_var.text.help}</a>
  </div></div></div>`},funProEfb=()=>`<div class="efb  pro-card"><a type="button" onClick='pro_show_efb(1)' class="efb pro-version-efb" data-bs-toggle="tooltip" data-bs-placement="top" title="${efb_var.text.fieldAvailableInProversion}" data-original-title="${efb_var.text.fieldAvailableInProversion}"><i class="efb  bi-gem text-light"></i></a></div>`;const boxs_efb=[{id:"form",title:efb_var.text.newForm,desc:efb_var.text.createBlankMultistepsForm,status:!0,icon:"bi-check2-square",tag:"all new",pro:!1},{id:"contact",title:efb_var.text.contactusForm,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"payment",title:efb_var.text.paymentform,desc:efb_var.text.createPaymentForm,status:!0,icon:"bi-wallet-fill",tag:"all payment new",pro:!0},{id:"support",title:efb_var.text.supportForm,desc:efb_var.text.createSupportForm,status:!0,icon:"bi-shield-check",tag:"all support",pro:!1},{id:"survey",title:efb_var.text.survey,desc:efb_var.text.createsurveyForm,status:!0,icon:"bi-bar-chart-line",tag:"all survey",pro:!1},{id:"contactTemplate",title:efb_var.text.contactusTemplate,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"curvedContactTemplate",title:efb_var.text.curved+" "+efb_var.text.contactusTemplate,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"multipleStepContactTemplate",title:efb_var.text.multiStep+" "+efb_var.text.contactusTemplate,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"privateContactTemplate",title:efb_var.text.showTheFormTologgedUsers+" "+efb_var.text.contactusTemplate,desc:efb_var.text.createContactusForm,status:!0,icon:"bi-envelope",tag:"all contactUs",pro:!1},{id:"customerFeedback",title:efb_var.text.customerFeedback,desc:efb_var.text.createSupportForm,status:!0,icon:"bi-shield-check",tag:"all support",pro:!1},{id:"supportTicketForm",title:efb_var.text.supportTicketF,desc:efb_var.text.createSupportForm,status:!0,icon:"bi-shield-check",tag:"all support",pro:!1},{id:"orderForm",title:efb_var.text.purchaseOrder+" "+efb_var.text.payment,desc:efb_var.text.purchaseOrder,status:!0,icon:"bi-bag",tag:"all payment",pro:!0},{id:"register",title:efb_var.text.registerForm,desc:efb_var.text.createRegistrationForm,status:!0,icon:"bi-person-plus",tag:"all signInUp",pro:!1},{id:"login",title:efb_var.text.loginForm,desc:efb_var.text.createLoginForm,status:!0,icon:"bi-box-arrow-in-right",tag:"all signInUp",pro:!1},{id:"subscription",title:efb_var.text.subscriptionForm,desc:efb_var.text.createnewsletterForm,status:!0,icon:"bi-bell",tag:"all",pro:!1}];let tag_efb=[];function add_dasboard_emsFormBuilder(){let value="\x3c!-- boxs --\x3e";for(var i of boxs_efb)value+=createCardFormEfb(i);let cardtitles="\x3c!-- card titles --\x3e";for(let i of tag_efb)cardtitles+=`
    <li class="efb col-3 col-lg-1 col-md-2 col-sm-2 col-sx-3 mb-2  m-1 p-0 text-center">
      <a class="efb nav-link m-0 p-0 cat fs-6  ${i}" aria-current="page" onclick="funUpdateLisetcardTitleEfb('${i}')" role="button">${efb_var.text[i]}</a>
    </li>
    `;cardtitles=`
    <ul class="efb mt-4 mb-3 p-0 d-flex justify-content-center row" id="listCardTitleEfb">${cardtitles}
    <hr class="efb hr">
    </ul>
    `,document.getElementById("tab_container_efb").innerHTML=`

          ${head_introduce_efb("create")}
          <section id="content-efb">
          ${mobile_view_efb?"":`<img src="${efb_var.images.title}" class="efb ${1==efb_var.rtl?"right_circle-efb":"left_circle-efb"}"><h4 class="efb title-holder efb fs-4"><img src="${efb_var.images.title}" class="efb title efb create"><i class="efb  bi-arrow-down-circle title-icon mx-1"></i>${efb_var.text.forms}</h4>`}
          <div class="efb d-flex justify-content-center ">
            <input type="text" placeholder="${efb_var.text.search}" id="findCardFormEFB" class="efb fs-6 search-form-control efb-rounded efb mx-2"> <a class="efb btn efb btn-outline-pink mx-1" onClick="FunfindCardFormEFB()" >${efb_var.text.search}</a>
            
          </div
            <div class="efb row">
            ${cardtitles}
            <div class="efb  row row-cols-1 row-cols-md-3 g-4" id="listFormCardsEFB">${value}</div></div>
            </section>`;for(const n of document.getElementsByClassName("efbCreateNewForm"))n.addEventListener("click",e=>{form_type_emsFormBuilder=n.id,create_form_by_type_emsfb(n.id,"npreview")});for(const n of document.getElementsByClassName("efbPreviewForm"))n.addEventListener("click",e=>{form_type_emsFormBuilder=n.id,create_form_by_type_emsfb(n.id,"preview")})}function add_addons_emsFormBuilder(){let value="\x3c!-- boxs --\x3e";for(var i of addons_efb){var v;1==i.state&&(v={name:i.name,id:i.id,tag:i.tag,icon:i.icon,title:efb_var.text[i.title],desc:efb_var.text[i.desc],v_required:i.v_required,pro:i.pro},"fa_IR"!=efb_var.language&&"AdnPPF"!=i.name||"fa_IR"==efb_var.language)&&(value+=createCardAddoneEfb(v))}document.getElementById("tab_container_efb").innerHTML=`

          ${head_introduce_efb("create")}
          <section id="content-efb">
          ${mobile_view_efb?"":`<h4 class="efb  mb-0 title-holder fs-4 efb"><img src="${efb_var.images.title}" class="efb title efb create"><i class="efb  bi-plus-circle title-icon mx-1"></i>${efb_var.text.addons}</h4>`}
  
            <div class="efb row">
            
    <ul class="efb mt-4 mb-3 p-0 d-flex justify-content-center row" id="listCardTitleEfb"><!-- card titles -->
    <hr class="efb hr">
    </ul>
    
            <div class="efb  row row-cols-1 mt-0 row-cols-md-3 g-4" id="listFormCardsEFB">${value}</div></div>
            </section>`;for(const n of document.getElementsByClassName("efbCreateNewForm"))n.addEventListener("click",e=>{form_type_emsFormBuilder=n.id,create_form_by_type_emsfb(n.id,"npreview")});for(const n of document.getElementsByClassName("efbPreviewForm"))n.addEventListener("click",e=>{form_type_emsFormBuilder=n.id,create_form_by_type_emsfb(n.id,"preview")})}function FunfindCardFormEFB(){var row,c,cards=[],v=document.getElementById("findCardFormEFB").value.toLowerCase();document.getElementById("listFormCardsEFB").innerHTML="";for(row of boxs_efb)1!=row.title.toLowerCase().includes(v)&&1!=row.desc.toLowerCase().includes(v)||cards.push(row);let result="\x3c!--Search--\x3e";for(c of cards)result+=createCardFormEfb(c);"'\x3c!--Search--\x3e'"==result&&(result="NotingFound"),document.getElementById("listFormCardsEFB").innerHTML=result;for(const n of document.getElementsByClassName("efbCreateNewForm"))n.addEventListener("click",e=>{form_type_emsFormBuilder=n.id,create_form_by_type_emsfb(n.id,"npreview")})}function FunfindCardAddonEFB(){var row,c,cards=[],v=document.getElementById("findCardFormEFB").value.toLowerCase();document.getElementById("listFormCardsEFB").innerHTML="";for(row of addons_efb)1!=row.title.toLowerCase().includes(v)&&1!=row.desc.toLowerCase().includes(v)||cards.push(row);let result="\x3c!--Search--\x3e";for(c of cards)result+=createCardAddoneEfb(c);"'\x3c!--Search--\x3e'"==result&&(result="NotingFound"),document.getElementById("listFormCardsEFB").innerHTML=result;for(const n of document.getElementsByClassName("efbCreateNewForm"))n.addEventListener("click",e=>{form_type_emsFormBuilder=n.id,create_form_by_type_emsfb(n.id,"npreview")})}function create_form_by_type_emsfb(id,s){localStorage.removeItem("valj_efb"),"pre"!=s&&(document.getElementById("header-efb").innerHTML="",document.getElementById("content-efb").innerHTML="");var label_align=1==efb_var.rtl?"txt-right":"txt-left";if("form"===id)form_type_emsFormBuilder="form",valj_efb=[];else if("contact"===id){const json=[{type:form_type_emsFormBuilder="form",steps:1,formName:efb_var.text.contactUs,email:"",trackingCode:!0,EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"2jpzt59do",show_icon:!0,show_pro_bar:!0,captcha:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!0,stateForm:!1,dShowBg:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:efb_var.text.contactusForm,icon:"bi-chat-right-fill",step:1,amount:2,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-muted",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"uoghulv7f",dataId:"uoghulv7f-id",type:"text",placeholder:efb_var.text.firstName,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.firstName,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"xzdeosw2q",dataId:"xzdeosw2q-id",type:"text",placeholder:efb_var.text.lastName,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.lastName,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"2jpzt59do",dataId:"2jpzt59do-id",type:"email",placeholder:efb_var.text.email,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:6,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1,noti:1},{id_:"dvgl7nfn0",dataId:"dvgl7nfn0-id",type:"textarea",placeholder:efb_var.text.enterYourMessage,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.message,required:!0,amount:7,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1}];localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("contactTemplate"===id){form_type_emsFormBuilder="form";const json=contact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("multipleStepContactTemplate"===id){form_type_emsFormBuilder="form";const json=multiple_step_ontact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("privateContactTemplate"===id){form_type_emsFormBuilder="form";const json=private_contact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("curvedContactTemplate"===id){form_type_emsFormBuilder="form";const json=curved_contact_us_template_efb();localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("register"===id)form_type_emsFormBuilder="register",json=[{type:"register",steps:1,formName:efb_var.text.register,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.register,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"emailRegisterEFB",show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB("register"),email_temp:"",sendEmail:!0,stateForm:!1},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:efb_var.text.registerForm,icon:"bi-box-arrow-in-right",step:1,amount:2,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"usernameRegisterEFB",dataId:"usernameRegisterEFB-id",type:"text",placeholder:efb_var.text.username,value:"",size:100,message:"",id:"",classes:"",name:efb_var.text.username,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"besie",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"passwordRegisterEFB",dataId:"passwordRegisterEFB-id",type:"password",placeholder:efb_var.text.password,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.password,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"emailRegisterEFB",dataId:"emailRegisterEFB-id",type:"email",placeholder:efb_var.text.email,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:9,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1,noti:1}],valj_efb=json,localStorage.setItem("valj_efb",JSON.stringify(json));else if("login"===id)form_type_emsFormBuilder="login",json=[{type:"login",steps:1,formName:efb_var.text.login,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.login,button_color:"btn-darkb",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:!1,show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!1,stateForm:!1},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:efb_var.text.loginForm,icon:"bi-box-arrow-in-right",step:1,amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-dark",icon_color:"text-danger",visible:1},{id_:"emaillogin",dataId:"emaillogin-id",type:"text",placeholder:efb_var.text.emailOrUsername,value:"",size:100,message:"",id:"",classes:"",name:efb_var.text.emailOrUsername,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"passwordlogin",dataId:"passwordlogin-id",type:"password",placeholder:efb_var.text.password,value:"",size:100,message:"",id:"",classes:"",name:efb_var.text.password,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1}],valj_efb=json,localStorage.setItem("valj_efb",JSON.stringify(json));else if("support"===id){const json=[{type:form_type_emsFormBuilder="form",steps:1,formName:efb_var.text.support,email:"",trackingCode:!0,EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"qas87uoct",show_icon:!0,show_pro_bar:!0,captcha:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!0,stateForm:!1,dShowBg:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"Support",icon:"bi-ui-checks-grid",step:"1",amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-dark",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"rhglopgi8",dataId:"rhglopgi8-id",type:"select",placeholder:"Select",value:"",size:"100",message:"",id:"",classes:"",name:"How can we help you?",required:!0,amount:2,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"b2xssuo2w",dataId:"b2xssuo2w-id",parent:"rhglopgi8",type:"option",value:"Accounting & Sell question",id_op:"n470h48lg",step:"1",amount:3},{id_:"b2xssuo2w",dataId:"b2xssuo2w-id",parent:"rhglopgi8",type:"option",value:"Technical & support question",id_op:"zu7f5aeob",step:"1",amount:4},{id_:"jv1l79ir1",dataId:"jv1l79ir1-id",parent:"rhglopgi8",type:"option",value:"General question",id_op:"jv1l79ir1",step:"1",amount:5},{id_:"59c0hfpyo",dataId:"59c0hfpyo-id",type:"text",placeholder:efb_var.text.subject,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.subject,required:0,amount:6,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"qas87uoct",dataId:"qas87uoct-id",type:"email",placeholder:efb_var.text.email,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:10,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1,noti:1},{id_:"cqwh8eobv",dataId:"cqwh8eobv-id",type:"textarea",placeholder:efb_var.text.message,value:"",size:"100",message:"",id:"",classes:"",name:efb_var.text.message,required:!0,amount:8,step:2,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:pro_efb}];localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("supportTicketForm"===id){form_type_emsFormBuilder="form";const json=support_ticket_form_efb();localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("orderForm"===id){form_type_emsFormBuilder="payment";const json=order_payment_form_efb();localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("customerFeedback"===id){form_type_emsFormBuilder="form";const json=customer_feedback_efb();localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("subscription"===id){const json=[{type:form_type_emsFormBuilder="subscribe",steps:1,formName:efb_var.text.subscribe,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.subscribe,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-d-efb",email_to:"82i3wedt1",show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!0,stateForm:!1,dShowBg:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"",icon:"bi-check2-square",step:1,amount:2,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"janf5eutd",dataId:"janf5eutd-id",type:"text",placeholder:efb_var.text.name,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.name,required:!0,amount:3,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:"txt-center",message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"82i3wedt1",dataId:"82i3wedt1-id",type:"email",placeholder:efb_var.text.email,value:"",size:"50",message:"",id:"",classes:"",name:efb_var.text.email,required:!0,amount:5,step:1,label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-l-efb",label_align:"txt-center",message_align:"justify-content-start",el_align:"justify-content-start",pro:!1,noti:1}];localStorage.setItem("valj_efb",JSON.stringify(json)),valj_efb=json}else if("survey"==id){const json=[{type:form_type_emsFormBuilder="survey",steps:1,formName:efb_var.text.survey,email:"",trackingCode:"",EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:!1,show_icon:!0,show_pro_bar:!0,captcha:!1,private:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!1,stateForm:!1},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"Survey form",icon:"bi-clipboard-data",step:"1",amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1},{id_:"6af03cgwb",dataId:"6af03cgwb-id",type:"select",placeholder:"Select",value:"",size:100,message:"",id:"",classes:"",name:"what is your favorite food ?",required:!0,amount:2,step:"1",label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"wxgt1tvri",dataId:"wxgt1tvri-id",parent:"6af03cgwb",type:"option",value:"Pasta",id_op:"n9r68xhl1",step:"1",amount:3},{id_:"wxgt1tvri",dataId:"wxgt1tvri-id",parent:"6af03cgwb",type:"option",value:"Pizza",id_op:"khp0a798x",step:"1",amount:4},{id_:"6x1lv1ufx",dataId:"6x1lv1ufx-id",parent:"6af03cgwb",type:"option",value:"Fish and seafood",id_op:"6x1lv1ufx",step:"1",amount:5},{id_:"yythlx4tt",dataId:"yythlx4tt-id",parent:"6af03cgwb",type:"option",value:"Vegetables",id_op:"yythlx4tt",step:"1",amount:6},{id_:"fe4q562zo",dataId:"fe4q562zo-id",type:"checkbox",placeholder:"Check Box",value:"",size:"50",message:"",id:"",classes:"",name:"Lnaguage",required:0,amount:7,step:"1",label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"khd2i7ubz",dataId:"khd2i7ubz-id",parent:"fe4q562zo",type:"option",value:"English",id_op:"khd2i7ubz",step:"1",amount:8},{id_:"93hao0zca",dataId:"93hao0zca-id",parent:"fe4q562zo",type:"option",value:"French",id_op:"93hao0zca",step:"1",amount:9},{id_:"75bcbj6s1",dataId:"75bcbj6s1-id",parent:"fe4q562zo",type:"option",value:"German",id_op:"75bcbj6s1",step:"1",amount:10},{id_:"lh1csq8mw",dataId:"lh1csq8mw-id",parent:"fe4q562zo",type:"option",value:"Russian",id_op:"lh1csq8mw",step:"1",amount:11},{id_:"5gopt8r6b",dataId:"5gopt8r6b-id",parent:"fe4q562zo",type:"option",value:"Portuguese",id_op:"5gopt8r6b",step:"1",amount:12},{id_:"v57zhziyi",dataId:"v57zhziyi-id",parent:"fe4q562zo",type:"option",value:"Hindi",id_op:"v57zhziyi",step:"1",amount:13},{id_:"16suwyx5m",dataId:"16suwyx5m-id",type:"radio",placeholder:"Radio Button",value:"",size:"50",message:"",id:"",classes:"",name:"Gender",required:0,amount:14,step:"1",label_text_size:"fs-6",label_position:"beside",el_text_size:"fs-6",label_text_color:"text-labelEfb",el_border_color:"border-d",el_text_color:"text-labelEfb",message_text_color:"text-muted",el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:!1},{id_:"ha0sfnwbp",dataId:"ha0sfnwbp-id",parent:"16suwyx5m",type:"option",value:"Male",id_op:"ha0sfnwbp",step:"1",amount:15},{id_:"w3jpyg24h",dataId:"w3jpyg24h-id",parent:"16suwyx5m",type:"option",value:"Female",id_op:"w3jpyg24h",step:"1",amount:16},{id_:"in4xa2y0f",dataId:"in4xa2y0f-id",parent:"16suwyx5m",type:"option",value:"Non-binary",id_op:"in4xa2y0f",step:"1",amount:17},{id_:"1028hto5a",dataId:"1028hto5a-id",parent:"16suwyx5m",type:"option",value:"Transgender",id_op:"1028hto5a",step:"1",amount:18},{id_:"rz3vkawya",dataId:"rz3vkawya-id",parent:"16suwyx5m",type:"option",value:"Intersex",id_op:"rz3vkawya",step:"1",amount:19},{id_:"2oezrrpny",dataId:"2oezrrpny-id",parent:"16suwyx5m",type:"option",value:"I prefer not to say",id_op:"2oezrrpny",step:"1",amount:20}];valueJson_ws_p=json,valj_efb=json,localStorage.setItem("valj_efb",JSON.stringify(json))}else"reservation"!=id&&("payment"==id?(form_type_emsFormBuilder="payment",valj_efb=[]):"booking"==id&&(valj_efb=[{type:"form",steps:1,formName:"booking",email:"",trackingCode:!0,EfbVersion:2,button_single_text:efb_var.text.submit,button_color:"btn-primary",icon:"bXXX",button_Next_text:efb_var.text.next,button_Previous_text:efb_var.text.previous,button_Next_icon:"bi-chevron-right",button_Previous_icon:"bi-chevron-left",button_state:"single",label_text_color:"text-light",el_text_color:"text-light",message_text_color:"text-muted",icon_color:"text-light",el_height:"h-l-efb",email_to:"qas87uoct",show_icon:!0,show_pro_bar:!0,captcha:!1,thank_you:"msg",thank_you_message:textThankUEFB(),email_temp:"",sendEmail:!0,stateForm:!1,dShowBg:!0,booking:!0},{id_:"1",type:"step",dataId:"1",classes:"",id:"1",name:"booking form",icon:"bi-check2",step:"1",amount:1,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-labelEfb",message_text_color:"text-muted",icon_color:"text-danger",visible:1}],form_type_emsFormBuilder="form",valueJson_ws_p=valj_efb));formName_Efb=form_type_emsFormBuilder,"npreview"==s?(creator_form_builder_Efb(),"form"!=id&&"payment"!=id&&"smart"!=id&&setTimeout(()=>{editFormEfb()},100)):previewFormEfb("pre")}function head_introduce_efb(state){var text=efb_var.text.efbIsTheUserSentence+" "+efb_var.text.efbYouDontNeedAnySentence,btnSize=mobile_view_efb?"":"btn-lg";let cont="";var vType=`<div class="efb mx-3 col-lg-4 mt-2 pd-5 col-md-10 col-sm-12 alert alert-light pointer-efb buy-noti" onclick="Link_emsFormBuilder('price')">
  <i class="efb bi-diamond text-pinkEfb mx-1"></i>
  <span class="efb text-dark">${efb_var.text.getPro}</span><br>
  ${efb_var.text.yFreeVEnPro}
  </div>`;return"create"!=state&&(cont=`
    
                  <div class="efb clearfix"></div>                 
                  <p class="efb card-text  ${"create"==state?"card-text":"text-dark"} efb pb-3 ${mobile_view_efb?"fs-7":"fs-6"}">${text}</p>
                  
    <a class="efb btn btn-r btn-primary ${btnSize}" href="${"create"==state?"#form":"admin.php?page=Emsfb_create"}"><i class="efb  bi-plus-circle mx-1"></i>${efb_var.text.createForms}</a>
    <a class="efb btn mt-1 efb btn-outline-pink ${btnSize}" onClick="Link_emsFormBuilder('tutorial')"><i class="efb  bi-info-circle mx-1"></i>${efb_var.text.tutorial}</a>`),`<section id="header-efb" class="efb   ${"create"==state?"":"card col-12 bg-color"}">
  <div class="efb row ${mobile_view_efb?"mx-2":"mx-5"}">
              <div class="efb col-lg-7 mt-2 pd-5 col-md-12">
                  <img src="${efb_var.images.logo}" class="efb description-logo  ${mobile_view_efb?"m-1":""} efb">
                  <h1 class="efb  pointer-efb mb-0 ${mobile_view_efb?"fs-6":""}" onClick="Link_emsFormBuilder('efb')" >${efb_var.text.easyFormBuilder}</h1>
                  <h3 class="efb  pointer-efb  ${"create"==state?"card-text ":"text-darkb"} ${mobile_view_efb?"fs-7":"fs-6"}" onClick="Link_emsFormBuilder('ws')" >${efb_var.text.byWhiteStudioTeam}</h3>
                  ${cont}
                 
              </div>
              ${"create"!=state||0!=efb_var.pro&&"false"!=efb_var.pro?"":vType}
              ${"create"!=state&&mobile_view_efb?`<div class="efb col-lg-5 col-md-12 "> <img src="${efb_var.images.head}" class="efb img-fluid"></div>`:""}
              ${"create"!=state&&0==mobile_view_efb?`<div class="efb col-lg-5 col-md-12 "> <img src="${efb_var.images.head}" class="efb img-fluid"></div>`:""}  
    </div>  
  </section> `}function sideMenuEfb(s){var el=document.getElementById("sideBoxEfb");0==s?(el.classList.remove("show"),document.getElementById("sideMenuConEfb").innerHTML=`<div class="efb my-5" id=""><div class="efb  lds-hourglass"></div><h3 class="efb fs-3">${efb_var.text.pleaseWaiting}</h3></div>`,document.getElementById("sideMenuFEfb").classList.add("efbDW-0"),el.classList.add("efbDW-0")):(document.getElementById("sideBoxEfb").classList.remove("efbDW-0"),document.getElementById("sideMenuFEfb").classList.remove("efbDW-0"),el.classList.add("show"))}fun_preview_before_efb=(i,s,pro)=>{valj_efb=[],show_modal_efb("",efb_var.text.preview,"bi-check2-circle","saveLoadingBox"),state_modal_show_efb(1),"local"==s&&create_form_by_type_emsfb(i,"pre")},window.onload=()=>{setTimeout(()=>{for(const el of document.querySelectorAll(".notice"))el.remove()},50),document.body.scrollTop},switch_color_efb=color=>{let c;switch(color){case"#0d6efd":c="primary";break;case"#198754":c="success";break;case"#6c757d":c="secondary";break;case"#ff455f":c="danger";break;case"#e9c31a":c="warning";break;case"#31d2f2":c="info";break;case"#fbfbfb":c="light";break;case"#202a8d":c="darkb";break;case"#898aa9":c="labelEfb";break;case"#ff4b93":c="pinkEfb";break;case"#ffffff":c="white";break;case"#212529":c="dark";break;case"#777777":c="muted ";break;default:c="colorDEfb-"+color.slice(1)}return c},ColorNameToHexEfbOfElEfb=(v,i,n)=>{let r,id;switch(n){case"label":id="style_label_color";break;case"description":id="style_message_text_color";break;case"el":id="style_el_text_color";break;case"btn":id="style_btn_text_color";break;case"icon":id="style_icon_color";break;case"border":id="style_border_color"}switch(v){case"primary":r="#0d6efd";break;case"success":r="#198754";break;case"secondary":r="#6c757d";break;case"danger":r="#ff455f";break;case"warning":r="#e9c31a";break;case"info":r="#31d2f2";break;case"light":r="#fbfbfb";break;case"darkb":r="#202a8d";break;case"labelEfb":r="#898aa9";break;case"d":r="#83859f";break;case"pinkEfb":r="#ff4b93";break;case"white":r="#ffffff";break;case"dark":r="#212529";break;case"muted":case"muted":r="#777777";break;default:var len="colorDEfb-".length;v.includes("colorDEfb")&&(r="#"+v.slice(len))}return r},addColorTolistEfb=color=>{var ObColors=document.getElementById("color_list_efb"),child=ObColors.childNodes;let is_color=!1;child.forEach((element,key)=>{0!=key&&element.value.includes(color)&&(is_color=!0)}),is_color||(ObColors.innerHTML+=`<option name="addUser" value="${color}">`)};const funSetCornerElEfb=(dataId,co)=>{var indx=valj_efb.findIndex(x=>x.dataId==dataId),el=document.querySelector(`[data-id='${dataId}-set']`);if("undefined"==el.dataset.side||""==el.dataset.side){valj_efb[indx].corner=co,postId="dadfile"!=el.dataset.tag?valj_efb[indx].id_+"_":valj_efb[indx].id_+"_box";let cornEl=document.getElementById(postId);fun_el_select_in_efb(el.dataset.tag)&&(cornEl=document.getElementById(postId+"options")),"esign"==el.dataset.tag?cornEl=document.getElementById(valj_efb[indx].id_+"_b"):"dadfile"==el.dataset.tag&&(cornEl=document.getElementById(valj_efb[indx].id_+"_box")),cornEl.className=cornerChangerEfb(cornEl.className,co)}else"yesNo"==el.dataset.side?(valj_efb[indx].corner=co,document.getElementById(valj_efb[indx].id_+"_b_1").className=cornerChangerEfb(document.getElementById(valj_efb[indx].id_+"_b_1").className,co),document.getElementById(valj_efb[indx].id_+"_b_2").className=cornerChangerEfb(document.getElementById(valj_efb[indx].id_+"_b_2").className,co)):(valj_efb[0].corner=co,(postId=document.getElementById("btn_send_efb")).classList.toggle("efb-square"),postId.className=cornerChangerEfb(postId.className,co),document.getElementById("next_efb").className=cornerChangerEfb(document.getElementById("next_efb").className,co),document.getElementById("prev_efb").className=cornerChangerEfb(document.getElementById("prev_efb").className,co))};let change_el_edit_Efb=el=>{let lenV=valj_efb.length;if(0<el.value.length&&(-1!=el.value.search(/(")+/g)||-1!=el.value.search(/(>)+/g)||-1!=el.value.search(/(<)+/g))&&"htmlCodeEl"!=el.id)el.value=el.value.replaceAll('"',""),alert_message_efb(efb_var.text.error,`Don't use forbidden Character likes: ["][<][>]`,10,"danger");else{var p;"htmlCodeEl"==el.id&&(el.value=el.value.replaceAll('"',"'")),20<lenV&&(timeout=5,p=calPLenEfb(lenV)/2,"multiselect"!=el.dataset.tag&&"payMultiselect"!=el.dataset.tag||(timeout=100),lenV=lenV*Math.log(lenV)*p,setTimeout(()=>{document.getElementById("overlay_efb").classList.remove("d-none"),document.getElementById("overlay_efb").classList.add("d-block"),setTimeout(()=>{document.getElementById("overlay_efb").classList.remove("d-block")},lenV),clearTimeout(lenV)},timeout),clearTimeout(timeout));let postId=el.dataset.id.includes("step-")?el.dataset.id.slice(5):el.dataset.id,indx=(postId=el.dataset.id.includes("Next_")||el.dataset.id.includes("Previous_")?0:postId,"button_group"!=el.dataset.id&&"button_group_"!=el.dataset.id&&0!=postId?valj_efb.findIndex(x=>x.dataId==postId||x.dataId==postId+"-id"):0);const len_Valj=valj_efb.length;postId=null;let clss="",c,color;setTimeout(()=>{if(el.hasAttribute("value")&&"htmlCodeEl"!=el.id&&(el.value="url"!=el.type?sanitize_text_efb(el.value):el.value.replace(/[<>()[\ ]]/g,"")),null==el.value)return valNotFound_efb();switch(el.id){case"labelEl":valj_efb[indx].name=el.value,document.getElementById(valj_efb[indx].id_+"_lab").innerHTML=sanitize_text_efb(el.value);break;case"desEl":valj_efb[indx].message=el.value,document.getElementById(valj_efb[indx].id_+"-des").innerHTML=sanitize_text_efb(el.value);break;case"bookDateExpEl":0==valj_efb[indx].hasOwnProperty("dateExp")&&Object.assign(valj_efb[indx],{dateExp:""}),valj_efb[indx].dateExp=el.value;break;case"mLenEl":if(524288<Number(el.value)&&"range"!=valj_efb[indx].type)el.value="",alert_message_efb("",efb_var.text.mmlen,15,"warning");else if(0==valj_efb[indx].hasOwnProperty("mlen")&&Object.assign(valj_efb[indx],{mlen:"0"}),valj_efb[indx].mlen=el.value,valj_efb[indx].hasOwnProperty("milen")&&Number(valj_efb[indx].mlen)<Number(valj_efb[indx].milen)){alert_message_efb("",efb_var.text.mxlmn,15,"warning"),delete valj_efb[indx].mlen,el.value=0;break}1==valj_efb[0].hasOwnProperty("booking")&&0==valj_efb[indx].hasOwnProperty("registered_count")&&Object.assign(valj_efb[indx],{registered_count:0});break;case"textEl":valj_efb[indx][el.dataset.atr]=sanitize_text_efb(el.value),c=valj_efb[indx].id_+"_"+el.dataset.atr,document.getElementById(c).innerHTML=sanitize_text_efb(el.value);break;case"miLenEl":if(0==Number(el.value)||-1==Number(el.value))clss=document.getElementById(valj_efb[indx].id_+"_req").innerHTML,valj_efb[indx].required=0!=clss.length?1:0,valj_efb[indx].milen=0;else if(524288<Number(el.value)&&"range"!=valj_efb[indx].type)el.value="",alert_message_efb("",efb_var.text.mmlen,15,"warning"),valj_efb[indx].milen=0;else{if(valj_efb[indx].milen=sanitize_text_efb(el.value),valj_efb[indx].hasOwnProperty("mlen")&&Number(valj_efb[indx].mlen)<Number(valj_efb[indx].milen)){alert_message_efb("",efb_var.text.mxlmn,15,"warning"),delete valj_efb[indx].milen,el.value=0;break}"range"!=valj_efb[indx].type&&(valj_efb[indx].required=1)}break;case"adminFormEmailEl":if("1"==efb_var.smtp)if(el.value.includes(",")){var emails=el.value.split(",");let isEmail=!0;emails.forEach(email=>{if(email=email.trim(),0==(isEmail=null==email.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)?!1:isEmail))return alert_message_efb(efb_var.text.error,efb_var.text.invalidEmail+` (${email})`,10,"danger"),valj_efb[0].email="",!1}),valj_efb[0].email=el.value.trim(),valj_efb[0].sendEmail=!0}else{if(el.value.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/))return valj_efb[0].email=el.value,valj_efb[0].sendEmail=!0;""!=el.value&&alert_message_efb(efb_var.text.error,efb_var.text.invalidEmail,10,"danger"),document.getElementById("adminFormEmailEl").value="",valj_efb[0].email=""}else"-1"==efb_var.smtp?(document.getElementById("adminFormEmailEl").value="",alert_message_efb(efb_var.text.error,efb_var.text.goToEFBAddEmailM,30,"danger")):(document.getElementById("adminFormEmailEl").value="",alert_message_efb(efb_var.text.error,efb_var.text.sMTPNotWork,20,"danger"));valj_efb[0].sendEmail=!1;break;case"cardEl":valj_efb[0].dShowBg?valj_efb[0].dShowBg=el.classList.contains("active"):Object.assign(valj_efb[0],{dShowBg:el.classList.contains("active")});break;case"offLineEl":0!=efb_var.addons.AdnOF?valj_efb[0].AfLnFrm?valj_efb[0].AfLnFrm=el.classList.contains("active"):Object.assign(valj_efb[0],{AfLnFrm:el.classList.contains("active")}):(el.checked=!1,el.classList.remove("active"),alert_message_efb(efb_var.text.error,efb_var.text.IMAddons+" "+efb_var.text.offlineTAddon,20,"danger"));break;case"requiredEl":valj_efb[indx].required=1==el.classList.contains("active")?1:0,document.getElementById(valj_efb[indx].id_+"_req").innerHTML=1==valj_efb[indx].required?"*":"";emails={email:"_",text:"_",password:"_",tel:"_",url:"_",date:"_",color:"_",range:"_",number:"_",file:"_",textarea:"_",dadfile:"_",maps:"-map",checkbox:"_options",radio:"_options",select:"_options",multiselect:"_options",esign:"-sig-data",rating:"-stared",yesNo:"_yn"};postId=emails[valj_efb[indx].type],id=valj_efb[indx].id_,(postId=document.getElementById(""+id+postId))&&postId.classList.toggle("required");break;case"hideLabelEl":c=1==el.classList.contains("active")?1:0,valj_efb[indx].hflabel=c,clss=document.getElementById(el.dataset.id+"_lab_g"),1==c?(document.getElementById(valj_efb[indx].id_+"_labG").classList.add("d-none"),funSetPosElEfb(valj_efb[indx].dataId,"up")):document.getElementById(valj_efb[indx].id_+"_labG").classList.remove("d-none");break;case"hiddenEl":valj_efb[indx].hidden=1==el.classList.contains("active")?1:0,1==valj_efb[indx].hidden?(c=document.getElementById(valj_efb[indx].id_),(clss=document.createElement("div")).id=valj_efb[indx].id_+"-hidden",c.insertBefore(clss,c.firstChild),document.getElementById(valj_efb[indx].id_+"-hidden").innerHTML=hiddenMarkEl(valj_efb[indx].id_),document.getElementById(valj_efb[indx].id_).classList.add("hidden")):(document.getElementById(valj_efb[indx].id_+"-hidden").remove(),document.getElementById(valj_efb[indx].id_).classList.remove("hidden"));break;case"disabledEl":postId=valj_efb[indx].id_,clss=document.getElementById(postId).classList,1==(c=1==el.classList.contains("active")?1:0)?clss.add("disabled"):clss.remove("disabled"),valj_efb[indx].disabled=c;break;case"SendemailEl":if("true"==efb_var.smtp||1==efb_var.smtp){if(postId=valj_efb[indx].id_,valj_efb[0].email_to=el.dataset.vid,c=1==el.classList.contains("active")?1:0,clss=document.getElementById(postId).classList,Object.assign(valj_efb[indx],{noti:c}),valj_efb[0].email.length<2)for(var v of valj_efb)v.hasOwnProperty("noti")&&1==v.noti&&(valj_efb[0].sendEmail=!0)}else document.getElementById("SendemailEl").checked=!1,alert_message_efb(efb_var.text.error,efb_var.text.sMTPNotWork,20,"danger");break;case"formNameEl":valj_efb[0].formName=sanitize_text_efb(el.value);break;case"trackingCodeEl":valj_efb[0].trackingCode=!!el.classList.contains("active");break;case"thankYouMessageDoneEl":valj_efb[0].thank_you_message.done=sanitize_text_efb(el.value);break;case"thankYouMessageEl":valj_efb[0].thank_you_message.thankYou=sanitize_text_efb(el.value);break;case"thankYouMessageConfirmationCodeEl":valj_efb[0].thank_you_message.trackingCode=sanitize_text_efb(el.value);break;case"thankYouMessageErrorEl":valj_efb[0].thank_you_message.error=sanitize_text_efb(el.value);break;case"thankYouMessagepleaseFillInRequiredFieldsEl":valj_efb[0].thank_you_message.pleaseFillInRequiredFields=sanitize_text_efb(el.value);break;case"captchaEl":"true"==efb_var.captcha&&"payment"!=valj_efb[0].type?(valj_efb[0].captcha=1==el.classList.contains("active"),document.getElementById("recaptcha_efb")&&(1==el.classList.contains("active")?document.getElementById("recaptcha_efb").classList.remove("d-none"):document.getElementById("recaptcha_efb").classList.add("d-none"))):"payment"==valj_efb[0].type?(document.getElementById("captchaEl").checked=!1,alert_message_efb(efb_var.text.reCAPTCHA,efb_var.text.paymentNcaptcha,20,"danger")):(document.getElementById("captchaEl").checked=!1,alert_message_efb(efb_var.text.reCAPTCHA,efb_var.text.reCAPTCHASetError,20,"danger")),1!=efb_var.captcha&&"true"!=efb_var.captcha&&el.classList.remove("active");break;case"showSIconsEl":valj_efb[0].show_icon=1==el.classList.contains("active");break;case"showSprosiEl":valj_efb[0].show_pro_bar=1==el.classList.contains("active");break;case"showformLoggedEl":valj_efb[0].stateForm=1==el.classList.contains("active");break;case"emailNotiContainsEl":0==valj_efb[0].hasOwnProperty("email_noti_type")&&Object.assign(valj_efb[0],{email_noti_type:el.options[el.selectedIndex].value}),valj_efb[0].email_noti_type=el.options[el.selectedIndex].value;break;case"placeholderEl":document.querySelector(`[data-id="${valj_efb[indx].id_}-el"]`).placeholder=sanitize_text_efb(el.value),valj_efb[indx].placeholder=sanitize_text_efb(el.value);break;case"enableConEl":clss=!0;emails=()=>{document.getElementById("logic_options").classList.remove("d-none"),document.getElementById("logic_options").classList.add("d-block")};if(postId=el.dataset.setid,0==valj_efb[0].hasOwnProperty("logic")&&(Object.assign(valj_efb[0],{logic:!0}),Object.assign(valj_efb[0],{conditions:[]}),clss=!1),c=1==el.classList.contains("active"),1==clss?-1!=(clss=valj_efb[0].conditions.findIndex(x=>x.id_==postId))?0==(valj_efb[0].conditions[clss].state=c)?(document.getElementById("logic_options").classList.remove("d-block"),document.getElementById("logic_options").classList.add("d-none")):(emails(),valj_efb[0].logic=!0):1==c&&(emails(),valj_efb[0].conditions.push({id_:postId,state:c,show:!0,condition:[{no:"0",term:"is",one:"",two:""}]})):(emails(),valj_efb[0].conditions.push({id_:postId,state:c,show:!0,condition:[{no:"0",term:"is",one:"",two:""}]})),0==c||0==c){for(var i=0;i<valj_efb[0].conditions.length;i++)1==valj_efb[0].conditions[i].state&&(c=!0);1!=c&&(valj_efb[0].logic=!1)}break;case"valueEl":"yesNo"!=el.dataset.tag&&"heading"!=el.dataset.tag&&"textarea"!=el.dataset.tag&&"link"!=el.dataset.tag?(document.getElementById(valj_efb[indx].id_+"_").value=sanitize_text_efb(el.value),valj_efb[indx].value=sanitize_text_efb(el.value)):"heading"==el.dataset.tag||"link"==el.dataset.tag||"textarea"==el.dataset.tag?(document.getElementById(valj_efb[indx].id_+"_").innerHTML=sanitize_text_efb(el.value),valj_efb[indx].value=sanitize_text_efb(el.value)):(id=valj_efb[indx].id_+"_"+el.dataset.no,document.getElementById(id).value=sanitize_text_efb(el.value),document.getElementById(id+"_lab").innerHTML=sanitize_text_efb(el.value),1==el.dataset.no?valj_efb[indx].button_1_text=sanitize_text_efb(el.value):valj_efb[indx].button_2_text=sanitize_text_efb(el.value));break;case"classesEl":id=valj_efb[indx].id_;for(var d of document.querySelectorAll(`[data-css='${id}']`)){const v=el.value.replace(" ",",");clss=d.className,1==d.classList.contains("efb1")&&(c=clss.indexOf("efb1"),clss=clss.slice(0,c)),d.className=clss+" efb1 "+sanitize_text_efb(el.value.replace(","," ")),valj_efb[indx].classes=sanitize_text_efb(v)}break;case"sizeEl":postId=document.getElementById(valj_efb[indx].id_+"_labG"),valj_efb[indx].hasOwnProperty("size")&&Object.assign(valj_efb[indx],{size:100});emails=el.options[el.selectedIndex].value;valj_efb[indx].size=emails,get_position_col_el(valj_efb[indx].dataId,!0);break;case"cornerEl":emails=el.options[el.selectedIndex].value;if("undefined"==el.dataset.side||""==el.dataset.side){valj_efb[indx].corner=emails,postId="dadfile"!=el.dataset.tag?valj_efb[indx].id_+"_":valj_efb[indx].id_+"_box";let cornEl=document.getElementById(postId);(cornEl=fun_el_select_in_efb(el.dataset.tag)?"conturyList"==el.dataset.tag||"stateProvince"==el.dataset.tag||"select"==el.dataset.tag?document.getElementById(postId+"options"):document.getElementById(id+"ms"):cornEl).classList.toggle("efb-square"),"dadfile"!=el.dataset.tag&&"esign"!=el.dataset.tag||document.getElementById(valj_efb[indx].id_+"_b").classList.toggle("efb-square")}else valj_efb[0].corner=emails,(postId=document.getElementById("btn_send_efb")).classList.toggle("efb-square"),document.getElementById("next_efb").classList.toggle("efb-square"),document.getElementById("prev_efb").classList.toggle("efb-square");break;case"labelFontSizeEl":valj_efb[indx].label_text_size=el.options[el.selectedIndex].value;var emails=document.getElementById(valj_efb[indx].id_+"_lab"),sizef=el.options[el.selectedIndex].value;emails.className=fontSizeChangerEfb(emails.className,sizef),"step"==el.dataset.tag&&((emails=document.getElementById(valj_efb[indx].id_+"_icon")).className=fontSizeChangerEfb(emails.className,sizef));break;case"optnsStyleEl":if(valj_efb[indx].op_style=el.options[el.selectedIndex].value,c=document.getElementById(valj_efb[indx].id_+"_options"),"1"!=valj_efb[indx].op_style){c.classList.contains("row")||(c.className+=" row col-md-12"),clss="2"==valj_efb[indx].op_style?"col-md-6":"col-md-4";for(let v of document.querySelectorAll(`[data-parent='${valj_efb[indx].id_}'].form-check`))v.className=colMdRemoveEfb(v.className),v.classList.add(clss)}else if(c.classList.contains("row")){c.classList.remove("row"),c.classList.remove("col-md-12");for(let v of document.querySelectorAll(`[data-parent='${valj_efb[indx].id_}'].form-check`))v.className=colMdRemoveEfb(v.className)}break;case"thankYouTypeEl":valj_efb[0].thank_you=el.options[el.selectedIndex].value;var els=document.querySelectorAll(".efb.tnxmsg");if(el=document.getElementById("tnxrdrct"),"msg"!=valj_efb[0].thank_you){for(let i=0;i<els.length;i++)els[i].classList.remove("d-block"),els[i].classList.add("d-none");el.classList.remove("d-none"),el.classList.add("d-block")}else{for(let i=0;i<els.length;i++)els[i].classList.remove("d-none"),els[i].classList.add("d-block");el.classList.remove("d-block"),el.classList.add("d-none")}1!=pro_efb&&(valj_efb[0].thank_you="msg",valj_efb[0].rePage="");break;case"thankYouredirectEl":postId=el.value.match(/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/gi),1!=pro_efb?(pro_show_efb(1),valj_efb[0].thank_you="msg",valj_efb[0].rePage=""):null!=postId?(valj_efb[0].rePage=el.value.replace(/(http:\/\/)+/g,"http:@efb@").replace(/(https:\/\/)+/g,"https:@efb@").replace(/([/])+/g,"@efb@"),valj_efb[0].thank_you="rdrct"):(valj_efb[0].thank_you="msg",valj_efb[0].rePage="",alert_message_efb(efb_var.text.error,efb_var.text.enterValidURL,8,"warning"));break;case"paymentGetWayEl":valj_efb[0].payment=el.options[el.selectedIndex].value;break;case"paymentMethodEl":valj_efb[0].paymentmethod=el.options[el.selectedIndex].value,el=document.getElementById("chargeEfb"),"charge"==valj_efb[0].paymentmethod?(el.innerHTML=efb_var.text.onetime,0==el.classList.contains("one")&&el.classList.add("one")):(id=valj_efb[0].paymentmethod+"ly",el.innerHTML=efb_var.text[id],0==el.classList.contains("one")&&el.classList.remove("one"));break;case"currencyTypeEl":valj_efb[0].currency=el.options[el.selectedIndex].value.slice(0,3);for(const l of document.querySelectorAll(".totalpayEfb"))0==l.classList.contains("ir")&&(l.innerHTML=Number(0).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:valj_efb[0].currency}));funRefreshPricesEfb();break;case"fileTypeEl":valj_efb[indx].file=el.options[el.selectedIndex].value,valj_efb[indx].value=el.options[el.selectedIndex].value;emails=el.options[el.selectedIndex].value.toLowerCase(),emails=efb_var.text[emails];document.getElementById(valj_efb[indx].id_+"_txt")&&(document.getElementById(valj_efb[indx].id_+"_txt").innerHTML=efb_var.text.dragAndDropA+" "+emails);break;case"btnColorEl":color=el.value,(clss=switch_color_efb(color)).includes("colorDEfb")&&addStyleColorBodyEfb(clss,color,"btn",indx),0!=indx?"yesNo"!=el.dataset.tag?0==indx&&1==valj_efb[indx].step||0<indx?document.getElementById(valj_efb[indx].id_+"_b").className=colorBtnChangerEfb(document.getElementById(valj_efb[indx].id_+"_b").className,"btn-"+clss):(document.getElementById("prev_efb").className=colorBtnChangerEfb(document.getElementById("prev_efb").className,"btn-"+clss),document.getElementById("next_efb").className=colorBtnChangerEfb(document.getElementById("next_efb").className,"btn-"+clss)):(document.getElementById(valj_efb[indx].id_+"_b_1").className=colorBtnChangerEfb(document.getElementById(valj_efb[indx].id_+"_b_1").className,"btn-"+clss),document.getElementById(valj_efb[indx].id_+"_b_2").className=colorBtnChangerEfb(document.getElementById(valj_efb[indx].id_+"_b_2").className,"btn-"+clss)):(document.getElementById("btn_send_efb").className=colorBtnChangerEfb(document.getElementById("btn_send_efb").className,"btn-"+clss),document.getElementById("next_efb").className=colorBtnChangerEfb(document.getElementById("next_efb").className,"btn-"+clss),document.getElementById("prev_efb").className=colorBtnChangerEfb(document.getElementById("prev_efb").className,"btn-"+clss)),valj_efb[indx].button_color="btn-"+clss,clss.includes("colorDEfb")&&(valj_efb[indx].style_btn_color?valj_efb[indx].style_btn_color=color:Object.assign(valj_efb[indx],{style_btn_color:color}));break;case"selectColorEl":if(color=el.value,(c=switch_color_efb(color)).includes("colorDEfb")&&addStyleColorBodyEfb(c,color,"text",indx),postId="","label"==el.dataset.el)valj_efb[indx].label_text_color="text-"+c,postId="step"!=valj_efb[indx].type?"_labG":"_lab";else if("description"==el.dataset.el)valj_efb[indx].message_text_color="text-"+c,postId="-des";else if("icon"==el.dataset.el)valj_efb[indx].icon_color="text-"+c,postId="_icon";else if("el"==el.dataset.el)valj_efb[indx].el_text_color="text-"+c,postId="_";else{if("clrdoneMessageEfb"==el.dataset.el)return void(valj_efb[0].clrdoneMessageEfb="text-"+c);if("clrdoneTitleEfb"==el.dataset.el)return void(valj_efb[0].clrdoneTitleEfb="text-"+c);if("clrdoniconEfb"==el.dataset.el)return void(valj_efb[0].clrdoniconEfb="text-"+c)}if("form"!=el.dataset.tag&&"payment"!=el.dataset.tag&&"login"!=el.dataset.tag&&"register"!=el.dataset.tag&&"survey"!=el.dataset.tag&&("select"==el.dataset.tag&&"el"!=el.dataset.el||"radio"==el.dataset.tag&&"el"!=el.dataset.el||"checkbox"==el.dataset.tag&&"el"!=el.dataset.el||"payCheckbox"==el.dataset.tag&&"el"!=el.dataset.el||"chlCheckBox"==el.dataset.tag&&"el"!=el.dataset.el||"payRadio"==el.dataset.tag&&"el"!=el.dataset.el||"yesNo"==el.dataset.tag&&"el"!=el.dataset.el||"stateProvince"==el.dataset.tag&&"el"!=el.dataset.el||"conturyList"==el.dataset.tag&&"el"!=el.dataset.el||"yesNo"!=el.dataset.tag&&"checkbox"!=el.dataset.tag&&"payCheckbox"!=el.dataset.tag&&"payRadio"!=el.dataset.tag&&"radio"!=el.dataset.tag&&"select"!=el.dataset.tag&&"stateProvince"!=el.dataset.tag&&"conturyList"!=el.dataset.tag&&"chlCheckBox"!=el.dataset.tag))document.getElementById(""+valj_efb[indx].id_+postId).className=colorTextChangerEfb(document.getElementById(""+valj_efb[indx].id_+postId).className,"text-"+c);else if("form"==el.dataset.tag||"payment"==el.dataset.tag||"login"==el.dataset.tag||"register"==el.dataset.tag||"survey"==el.dataset.tag)"icon"!=el.dataset.el&&"el"!=el.dataset.el?(document.getElementById(""+valj_efb[0].id_+postId).className=colorTextChangerEfb(document.getElementById(""+valj_efb[0].id_+postId).className,"text-"+c),"colorDEf"==c&&(document.getElementById(""+valj_efb[indx].id_+postId).style.color="#"+color)):"icon"==el.dataset.el?(document.getElementById("button_group_icon").className=colorTextChangerEfb(document.getElementById("button_group_icon").className,"text-"+c),document.getElementById("button_group_Next_icon").className=colorTextChangerEfb(document.getElementById("button_group_Next_icon").className,"text-"+c),document.getElementById("button_group_Previous_icon").className=colorTextChangerEfb(document.getElementById("button_group_Previous_icon").className,"text-"+c)):"el"==el.dataset.el&&(document.getElementById("button_group_button_single_text").className=colorTextChangerEfb(document.getElementById("button_group_button_single_text").className,"text-"+c),document.getElementById("button_group_Next_button_text").className=colorTextChangerEfb(document.getElementById("button_group_Next_button_text").className,"text-"+c),document.getElementById("button_group_Previous_button_text").className=colorTextChangerEfb(document.getElementById("button_group_Previous_button_text").className,"text-"+c));else if("checkbox"==el.dataset.tag||"radio"==el.dataset.tag||"chlCheckBox"==el.dataset.tag){var obj,sizef=valj_efb.filter(obj=>obj.parent===valj_efb[indx].id_);for(obj of sizef){var optin=document.getElementById(obj.id_+"_lab");optin.className=colorTextChangerEfb(optin.className,"text-"+c)}}else if("payCheckbox"==el.dataset.tag||"payRadio"==el.dataset.tag){const objOptions=valj_efb.filter(obj=>obj.parent===valj_efb[indx].id_);for(let obj of objOptions){let optin=document.getElementById(obj.id_+"_lab");var price=document.getElementById(obj.id_+"-price");optin.className=colorTextChangerEfb(optin.className,"text-"+c),price.className=colorTextChangerEfb(optin.className,"text-"+c)}}else if("select"==el.dataset.tag||"stateProvince"==el.dataset.tag||"conturyList"==el.dataset.tag){const objOptions=valj_efb.filter(obj=>obj.parent===valj_efb[indx].id_);for(let obj of objOptions)try{let optin=document.querySelector(`[data-op="${obj.id_op}"]`);optin.className=colorTextChangerEfb(optin.className,"text-"+c)}catch{}}else"yesNo"==el.dataset.tag&&(document.getElementById(valj_efb[indx].id_+"_b_1").className=colorTextChangerEfb(document.getElementById(valj_efb[indx].id_+"_b_1").className,"text-"+c),document.getElementById(valj_efb[indx].id_+"_b_2").className=colorTextChangerEfb(document.getElementById(valj_efb[indx].id_+"_b_2").className,"text-"+c));if(c.includes("colorDEfb"))switch(el.dataset.el){case"label":valj_efb[indx].style_label_color?valj_efb[indx].style_label_color=color:Object.assign(valj_efb[indx],{style_label_color:color});break;case"description":valj_efb[indx].style_label_color?valj_efb[indx].style_message_text_color=color:Object.assign(valj_efb[indx],{style_message_text_color:color});break;case"el":valj_efb[indx].el_text_color?valj_efb[indx].style_el_text_color=color:Object.assign(valj_efb[indx],{style_el_text_color:color});break;case"icon":valj_efb[indx].style_icon_color?valj_efb[indx].style_icon_color=color:Object.assign(valj_efb[indx],{style_icon_color:color})}break;case"selectBorderColorEl":color=el.value,(c=switch_color_efb(color)).includes("colorDEfb")&&addStyleColorBodyEfb(c,color,"border",indx),postId="_","dadfile"==el.dataset.tag?postId="_box":fun_el_select_in_efb(el.dataset.tag)&&(postId="_options"),setTimeout(()=>{var l=document.getElementById(""+valj_efb[indx].id_+postId);l.className=colorBorderChangerEfb(l.className,"border-"+c)},100),valj_efb[indx].el_border_color="border-"+c,c.includes("colorDEfb")&&(valj_efb[indx].style_border_color?valj_efb[indx].style_border_color=color:Object.assign(valj_efb[indx],{style_border_color:color}));break;case"fontSizeEl":valj_efb[indx].el_text_size=el.options[el.selectedIndex].value,id=valj_efb[indx].id_+"_",document.getElementById(id).className=headSizeEfb(document.getElementById(id).className,el.options[el.selectedIndex].value);break;case"hrefEl":valj_efb[indx].href=el.value;break;case"selectHeightEl":c=el.dataset.tag,indx="form"==c||"survey"==c||"payment"==c||"login"==c||"register"==c||"subscribe"==c?0:indx,valj_efb[indx].el_height=el.options[el.selectedIndex].value;let fsize="fs-6";if("h-l-efb"==valj_efb[indx].el_height?fsize="fs-5":"h-xl-efb"==valj_efb[indx].el_height?fsize="fs-4":"h-xxl-efb"==valj_efb[indx].el_height?fsize="fs-3":"h-xxxl-efb"==valj_efb[indx].el_height?fsize="fs-2":"h-d-efb"==valj_efb[indx].el_height&&(fsize="fs-6"),"select"==c||"stateProvince"==c||"conturyList"==c)postId=valj_efb[indx].id_+"_options";else{if("radio"==c||"checkbox"==c){valj_efb[indx].label_text_size=fsize;const objOptions=valj_efb.filter(obj=>obj.parent===valj_efb[indx].id_);setTimeout(()=>{for(var obj of objOptions){valj_efb[indx].el_text_size=fsize;var clslabel=document.getElementById(obj.id_+"_lab").className,clslabel=inputHeightChangerEfb(clslabel,el.options[el.selectedIndex].value);inputHeightChangerEfb(clslabel,fsize),document.getElementById(obj.id_).className=inputHeightChangerEfb(document.getElementById(obj.id_).className,fsize)}},objOptions.length*len_Valj);break}if(0==indx){postId="btn_send_efb",document.getElementById("btn_send_efb").className=inputHeightChangerEfb(document.getElementById("btn_send_efb").className,el.options[el.selectedIndex].value),document.getElementById("next_efb").className=inputHeightChangerEfb(document.getElementById("next_efb").className,el.options[el.selectedIndex].value),document.getElementById("prev_efb").className=inputHeightChangerEfb(document.getElementById("prev_efb").className,el.options[el.selectedIndex].value),document.getElementById("button_group_icon").className=inputHeightChangerEfb(document.getElementById("button_group_icon").className,el.options[el.selectedIndex].value),document.getElementById("button_group_Previous_icon").className=inputHeightChangerEfb(document.getElementById("button_group_Previous_icon").className,el.options[el.selectedIndex].value),document.getElementById("button_group_Next_icon").className=inputHeightChangerEfb(document.getElementById("button_group_Next_icon").className,el.options[el.selectedIndex].value);break}if("maps"==c)postId=valj_efb[indx].id_+"-map";else if("dadfile"==c)postId=valj_efb[indx].id_+"_box";else if("multiselect"==c||"payMultiselect"==c){postId=valj_efb[indx].id_+"_options";emails=document.getElementById(postId);emails.className.match(/h-+\w+-efb/g)?emails.className=inputHeightChangerEfb(emails.className,valj_efb[indx].el_height):emails.classList.add(valj_efb[indx].el_height),emails.className=fontSizeChangerEfb(emails.className,fsize),valj_efb[indx].el_text_size=fsize}else{if("rating"==c){postId=valj_efb[indx].id_,setTimeout(()=>{var newClass=inputHeightChangerEfb(document.getElementById(postId+"_star1").className,valj_efb[indx].el_height);document.getElementById(postId+"_star1").className=newClass,document.getElementById(postId+"_star2").className=newClass,document.getElementById(postId+"_star3").className=newClass,document.getElementById(postId+"_star4").className=newClass,document.getElementById(postId+"_star5").className=newClass},10);break}if("switch"==c)postId=valj_efb[indx].id_+"_",document.getElementById(valj_efb[indx].id_+"_off").className=fontSizeChangerEfb(document.getElementById(valj_efb[indx].id_+"_off").className,fsize),document.getElementById(valj_efb[indx].id_+"_on").className=fontSizeChangerEfb(document.getElementById(valj_efb[indx].id_+"_on").className,fsize);else{if("yesNo"==c){setTimeout(()=>{postId=valj_efb[indx].id_+"_b_1",document.getElementById(""+postId).className=inputHeightChangerEfb(document.getElementById(""+postId).className,valj_efb[indx].el_height),postId=valj_efb[indx].id_+"_b_2",document.getElementById(""+postId).className=inputHeightChangerEfb(document.getElementById(""+postId).className,valj_efb[indx].el_height)},10);break}"link"==c?(postId=valj_efb[indx].id_+"_",document.getElementById(postId).className=fontSizeChangerEfb(document.getElementById(postId).className,fsize)):"range"==c?(postId=valj_efb[indx].id_+"-range",document.getElementById(postId).className=fontSizeChangerEfb(document.getElementById(postId).className,fsize)):postId=valj_efb[indx].id_+"_"}}}setTimeout(()=>{(c=document.getElementById(""+postId)).className=inputHeightChangerEfb(c.className,valj_efb[indx].el_height)},10);break;case"SingleTextEl":let iidd="";1==Number(valj_efb[0].steps)?(iidd=0!=indx?valj_efb[indx].id_+"_button_single_text":"button_group_button_single_text",valj_efb[indx].button_single_text=el.value):(iidd="Next"==el.dataset.side?"button_group_Next_button_text":"button_group_Previous_button_text","Next"==el.dataset.side?valj_efb[0].button_Next_text=el.value:valj_efb[0].button_Previous_text=el.value),document.getElementById(iidd).innerHTML=el.value;break;case"iconEl":break;case"marksEl":valj_efb[indx].mark=parseInt(document.getElementById("marksEl").value);break;case"letEl":sizef=parseFloat(el.value),emails=parseFloat(document.getElementById("lonEl").value);map=new google.maps.Map(document.getElementById(valj_efb[indx].id_+"-map"),{center:{lat:sizef,lng:emails},zoom:8}),valj_efb[indx].lat=sizef;break;case"lonEl":emails=parseFloat(el.value),sizef=parseFloat(document.getElementById("letEl").value);map=new google.maps.Map(document.getElementById(valj_efb[indx].id_+"-map"),{center:{lat:sizef,lng:emails},zoom:8}),valj_efb[indx].lng=emails;break;case"EditOption":sizef=valj_efb.findIndex(x=>x.id_op==el.dataset.id);-1!=sizef&&(valj_efb[sizef].value=el.value,"select"==el.dataset.tag||"stateProvince"==el.dataset.tag||"conturyList"==el.dataset.tag?((emails=document.querySelector(`[data-op="${el.dataset.id}"]`))&&(emails.innerHTML=el.value),emails&&(emails.value=el.value)):"imgRadio"==el.dataset.tag?document.getElementById(valj_efb[sizef].id_op+"_value").innerHTML=el.value:"multiselect"!=el.dataset.tag&&"payMultiselect"!=el.dataset.tag&&(document.querySelector(`[data-op="${el.dataset.id}"]`).value=el.value,document.getElementById(valj_efb[sizef].id_op+"_lab").innerHTML=el.value),el.setAttribute("value",valj_efb[sizef].value),el.setAttribute("defaultValue",valj_efb[sizef].value));break;case"ElvalueOptions":clss=el.dataset.parent,c=valj_efb.findIndex(x=>x.id_==clss),indx=valj_efb.findIndex(x=>x.id_op==el.dataset.id),color=valj_efb[c].type.toLowerCase();emails=valj_efb[c].value;1==color.includes("radio")||1==color.includes("select")&&0==color.includes("multi")||1==color.includes("conturylist")||1==color.includes("stateprovince")?(valj_efb[c].value=valj_efb[indx].id_,0<emails.length&&1==color.includes("radio")&&(document.querySelector(`[data-id="${emails}"]`).removeAttribute("checked"),document.getElementById(emails).removeAttribute("checked")),clss=valj_efb[indx].id_,el.setAttribute("checked",!0),1==color.includes("radio")&&document.getElementById(clss).setAttribute("checked",!0)):(clss=valj_efb[indx].id_,0==el.checked?(el.removeAttribute("checked"),1==color.includes("checkbox")&&(document.getElementById(clss).removeAttribute("checked"),el.removeAttribute("checked")),clss=valj_efb[c].value.findIndex(x=>x==clss),valj_efb[c].value.splice(clss,1)):("string"==typeof valj_efb[c].value?valj_efb[c].value=[clss]:valj_efb[c].value.push(clss),el.setAttribute("checked",!0),1==color.includes("checkbox")&&document.getElementById(clss).setAttribute("checked",!0)));break;case"ElIdOptions":el.value.length<3?alert_message_efb(efb_var.text.error,efb_var.text.idl5,25,"danger"):-1!=(c=-1==(c=valj_efb.findIndex(x=>x.id==el.value))?valj_efb.findIndex(x=>x.id_==el.value):c)?(el.value="",clss=`<div class="efb"> ${efb_var.text.idmu} <br> <b>[${valj_efb[c].value}]<b> </div>`,alert_message_efb(efb_var.text.error,clss,30,"danger")):-1!=(c=valj_efb.findIndex(x=>x.id_op==el.dataset.id))&&(el.value=el.value.replace(/[^a-zA-Z0-9_-]/g,""),el.setAttribute("value",el.value),valj_efb[c].hasOwnProperty("id")?valj_efb[c].id=el.value:Object.assign(valj_efb[c],{id:el.value}));break;case"paymentOption":el.dataset.id;sizef=valj_efb.findIndex(x=>x.id_op==el.dataset.id);if(-1!=sizef){valj_efb[sizef].price=el.value,el.setAttribute("value",valj_efb[sizef].price),el.setAttribute("defaultValue",valj_efb[sizef].price);emails=valj_efb[0].hasOwnProperty("currency")?valj_efb[0].currency:"USD";let no=Number(valj_efb[sizef].price);no=no.toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:emails}),document.getElementById(valj_efb[sizef].id_+"-price").innerHTML=no}break;case"htmlCodeEl":emails=el.dataset.id+"_html";postId=valj_efb.findIndex(x=>x.id_==el.dataset.id),2<el.value.length?(document.getElementById(emails).innerHTML=el.value,document.getElementById(emails).classList.remove("sign-efb"),valj_efb[postId].value=el.value.replace(/\r?\n|\r/g,"@efb@nq#"),valj_efb[postId].value=valj_efb[postId].value.replace(/"/g,"@!")):(document.getElementById(emails).classList.add("sign-efb"),document.getElementById(emails).innerHTML=`
            <div class="efb  noCode-efb m-5 text-center" id="${el.dataset.id}_noCode">
            ${efb_var.text.noCodeAddedYet}  <button type="button" class="efb  btn btn-edit btn-sm" id="settingElEFb" data-id="${el.dataset.id}-id" data-bs-toggle="tooltip" title="Edit" onclick="show_setting_window_efb('${el.dataset.id}-id')">
            <div class="icon-container efb"><i class="efb   bi-gear-wide-connected text-success" id="efbSetting" ></i></div></button> ${efb_var.text.andAddingHtmlCode}
            </div>`,valj_efb[postId].value="");break;case"selectMultiSelectMaxEl":sizef=""==el.value?2:el.value;valj_efb[indx].maxSelect=sizef,document.getElementById(valj_efb[indx].id_+"_options").dataset.no=sizef;break;case"selectMultiSelectMinEl":emails=""==el.value?2:el.value;valj_efb[indx].minSelect=emails,document.getElementById(valj_efb[indx].id_+"_options").dataset.min=emails;break;case"qtyPlcEl":valj_efb[indx].pholder_chl_value=el.value;for(let v of document.querySelectorAll(`[data-id='${valj_efb[indx].id_}']`))v.placeholder=el.value;break;case"countriesListEl":if(valj_efb[indx].country=el.options[el.selectedIndex].value,"stateProvince"==el.dataset.tag&&null!=document.getElementById("optionListefb")){document.getElementById("optionListefb").innerHTML=loading_messge_efb(),fetch_json_from_url_efb(`https://cdn.jsdelivr.net/gh/hassantafreshi/Json-List-of-countries-states-and-cities-in-the-world@main/json/states/${valj_efb[indx].country.toLowerCase()}.json`);let opetions;setTimeout(()=>{if(0==temp_efb.s||"null"==temp_efb)alert_message_efb(efb_var.text.error,temp_efb.r,15,"danger");else{obj_delete_options(valj_efb[indx].id_);for(const key in temp_efb.r){var value=temp_efb.r[key],nValue=value.n.trim(),lValue=1<value.l.length&&value.l.trim()!=nValue?value.l.trim()+` (${nValue})`:nValue;value.s;optionElpush_efb(valj_efb[indx].id_,lValue,value.s,nValue.replaceAll("","_"))}var objOptions=valj_efb.filter(obj=>obj.parent===valj_efb[indx].id_),newRndm=Math.random().toString(36).substr(2,9);opetions=efb_add_opt_setting(objOptions,el,!1,newRndm,""),document.getElementById("optionListefb")&&(document.getElementById("optionListefb").innerHTML=opetions)}},4e3)}valj_efb[indx].country=el.options[el.selectedIndex].value;break;case"imgRadio_url":indx=valj_efb.findIndex(x=>x.id_op==el.dataset.id);valj_efb[indx].src=(url=>url=(url=(url=url.replace(/(http:\/\/)+/g,"http:@efb@")).replace(/(https:\/\/)+/g,"https:@efb@")).replace(/([/])+/g,"@efb@"))(el.value),document.getElementById(valj_efb[indx].id_+"_img").src=el.value;break;case"imgRadio_sub_value":indx=valj_efb.findIndex(x=>x.id_op==el.dataset.id),valj_efb[indx].sub_value=el.value,document.getElementById(valj_efb[indx].id_+"_value_sub").innerHTML=el.value;break;case"selectSmartforOptionsEls":if(-1!=(indx=valj_efb.findIndex(x=>x.id_==el.options[el.selectedIndex].value))){const no=el.options[el.selectedIndex].dataset.idset,step=el.options[el.selectedIndex].dataset.fid,n=valj_efb[0].conditions.findIndex(x=>x.id_==step);var s_op;-1!=(c=-1!=n?valj_efb[0].conditions[n].condition.findIndex(x=>x.no==no):c)&&(valj_efb[0].conditions[n].condition[c].one=sanitize_text_efb(el.options[el.selectedIndex].value),sizef=el.options[el.selectedIndex].dataset.fid,emails=el.options[el.selectedIndex].dataset.idset,s_op=sanitize_text_efb(el.options[el.selectedIndex].value),valj_efb[0].conditions[n].condition[c].two="",document.querySelector(`[data-id='oso-${emails}'`).innerHTML=optionSmartforOptionsEls(sizef,emails,s_op))}break;case"optiontSmartforOptionsEls":c=-1;const step=el.options[el.selectedIndex].dataset.idset;let no=el.options[el.selectedIndex].dataset.fid;no=no;sizef=valj_efb[0].conditions.findIndex(x=>x.id_==step);-1!=(c=-1!=sizef?valj_efb[0].conditions[sizef].condition.findIndex(x=>x.no==no):c)&&(valj_efb[0].conditions[sizef].condition[c].two=sanitize_text_efb(el.options[el.selectedIndex].value))}},6*len_Valj)}};function wating_sort_complate_efb(t){500<t&&(t=500);var body=loading_messge_efb();show_modal_efb(body,efb_var.text.editField,"bi-ui-checks mx-2","settingBox"),document.getElementById("settingModalEfb");state_modal_show_efb(1),setTimeout(()=>{state_modal_show_efb(0)},t)}function create_form_efb(){let content="\x3c!--efb.app--\x3e",step_no=0,head="";var len=valj_efb.length;calPLenEfb(len);try{valj_efb.forEach((value,index)=>{step_no<value.step&&"step"==value.type&&(step_no+=1,head+=`<li id="${value.id_}" data-step="icon-s-${step_no}-efb"class="efb  ${valj_efb[0].steps<=11?"step-w-"+valj_efb[0].steps:"step-w-11"} ${value.icon_color} ${value.icon}   ${1==value.step?"active":""}" ><strong class="efb  fs-5 ${value.label_text_color} ">${value.name}</strong></li>`,content+=1==step_no?`<fieldset data-step="step-${step_no}-efb" class="efb  mt-1 mb-2 steps-efb row">`:`<!-- fieldsetFOrm!!! --></fieldset><fieldset data-step="step-${step_no}-efb"  class="efb my-2 steps-efb efb row d-none">`,valj_efb[0].show_icon),"step"==value.type?steps_index_efb.push(index):"step"!=value.type&&"form"!=value.type&&"option"!=value.type&&(content+=addNewElement(value.type,value.id_,!0,!0))}),step_no+=1,content+=`
                ${1<sitekye_emsFormBuilder.length&&1==valj_efb[0].captcha?`<div class="efb row mx-3"><div id="gRecaptcha" class="efb g-recaptcha my-2 mx-0" data-sitekey="${sitekye_emsFormBuilder}" style=”transform:scale(0.88);-webkit-transform:scale(0.88);transform-origin:0 0;-webkit-transform-origin:0 0;”></div><small class="efb text-danger" id="recaptcha-message"></small></div>`:""}
                <!-- fieldset formNew 1 --> </fieldset> 
    
                <fieldset data-step="step-${step_no}-efb" class="efb my-5 pb-5 steps-efb efb row d-none text-center" id="efb-final-step">
                ${loading_messge_efb()}
                <!-- fieldset formNew 2 --> </fieldset>
      `,head+=`<li id="f-step-efb"  data-step="icon-s-${step_no}-efb" class="efb  ${valj_efb[1].icon_color} ${valj_efb[0].steps<=6?"step-w-"+valj_efb[0].steps:"step-w-6"} bi-check-lg" ><strong class="efb  fs-5 ${valj_efb[1].label_text_color}">${efb_var.text.finish}</strong></li>`}catch(error){console.error("Preview of Pc Form has an Error",error)}return 10<content.length&&(content+="</div>"),head=`${0==valj_efb[0].show_icon||0==valj_efb[0].show_icon?`<ul id="steps-efb" class="efb mb-2 px-2">${head}</ul>`:""}
    `+(0==valj_efb[0].show_pro_bar||0==valj_efb[0].show_pro_bar?`<div class="efb d-flex justify-content-center"><div class="efb progress mx-4"><div class="efb  progress-bar-efb  btn-${RemoveTextOColorEfb(valj_efb[1].label_text_color)} progress-bar-striped progress-bar-animated" role="progressbar"aria-valuemin="0" aria-valuemax="100"></div></div></div> <br> `:""),content=`  
    <div class="efb px-0 pt-2 pb-0 my-1 col-12" id="view-efb">
    <h4 id="title_efb" class="efb ${valj_efb[1].label_text_color} mt-3 mb-0 text-center efb">${valj_efb[1].name}</h4>
    <p id="desc_efb" class="efb ${valj_efb[1].message_text_color} fs-7 mb-2 text-center efb">${valj_efb[1].message}</p>
    
     <form id="efbform"> ${head} <div class="efb mt-1 px-2">${content}</div> </form>
    </div>
    `}get_list_name_selecting_field_efb=()=>{var i,r=[];for(i in valj_efb)"multiselect"==valj_efb[i].type||1!=fun_el_select_in_efb(valj_efb[i].type)&&1!=fun_el_check_radio_in_efb(valj_efb[i].type)||r.push({name:valj_efb[i].name,id_:valj_efb[i].id_});return r},get_list_name_otions_field_efb=i_op=>{var r=[];if(0==i_op)for(var i in valj_efb)if("multiselect"!=valj_efb[i].type&&(1==fun_el_select_in_efb(valj_efb[i].type)||1==fun_el_check_radio_in_efb(valj_efb[i].type))){i_op=valj_efb[i].id_;break}for(let i in valj_efb)valj_efb[i].parent==i_op&&r.push({name:valj_efb[i].value,id_:valj_efb[i].id_});return r};const saveFormEfb=()=>{let proState=!0,stepState=!0,body="",btnText="",btnFun="",message="",state=!1,title=efb_var.text.error,icon="bi-exclamation-triangle-fill",box="error",btnIcon="bi-question-lg",returnState=!1,gateway="";"payment"==valj_efb[0].type&&"persiaPay"==(gateway=-1==(gateway=valj_efb.findIndex(x=>"stripe"==x.type))?valj_efb[0].gateway:gateway)&&(gateway=valj_efb[0].persiaPay),setTimeout(()=>{show_modal_efb("",efb_var.text.save,"bi-check2-circle","saveLoadingBox");let timeout=1e3;check_show_box=()=>{setTimeout(()=>{0==returnState?(check_show_box(),timeout=500):show_modal_efb(body,title,icon,box)},timeout)};try{if(valj_efb.length<3)btnText=efb_var.text.help,btnFun="open_whiteStudio_efb('notInput')",message=efb_var.text.youDoNotAddAnyInput,icon="";else{0==pro_efb&&(proState=-1==valj_efb.findIndex(x=>1==x.pro));for(let s=1;s<=valj_efb[0].steps;s++)if(-1==valj_efb.findIndex(x=>x.step==s&&"step"!=x.type)){stepState=!1;break}}var sav;2<valj_efb.length&&1==proState&&1==stepState&&("payment"==valj_efb[0].type&&-1!=gateway||"persiaPay"==valj_efb[0].type&&-1!=gateway||"payment"!=valj_efb[0].type)?(title=efb_var.text.save,box="saveBox",icon="bi-check2-circle",state=!0,sav=JSON.stringify(valj_efb),localStorage.setItem("valj_efb",sav),localStorage.setItem("valueJson_ws_p",sav),formName_Efb=1<valj_efb[0].formName.length?valj_efb[0].formName:formName_Efb,returnState=actionSendData_emsFormBuilder()):0==proState?(btnText=efb_var.text.activateProVersion,btnFun="open_whiteStudio_efb('pro')",message=efb_var.text.youUseProElements,title=efb_var.text.proVersion,icon="bi-gem",btnIcon=icon,returnState=!0):0==stepState?(btnText=efb_var.text.help,btnFun="open_whiteStudio_efb('emptyStep')",message=efb_var.text.itAppearedStepsEmpty,returnState=!0):"payment"==valj_efb[0].type&&-1==gateway?(btnText=efb_var.text.help,btnFun="open_whiteStudio_efb('paymentform')",message=efb_var.text.addPaymentGetway,icon="bi-exclamation-triangle",returnState=!0):"persiaPay"==valj_efb[0].type&&-1==gateway?(btnText=efb_var.text.help,btnFun="open_whiteStudio_efb('persiaPay')",message=efb_var.text.addPaymentGetway,icon="bi-exclamation-triangle",returnState=!0):"payment"!=valj_efb[0].type&&"persiaPay"!=valj_efb[0].type||1!=valj_efb[0].captcha||(btnText=efb_var.text.help,btnFun="open_whiteStudio_efb('paymentform')",message=efb_var.text.paymentNcaptcha,icon="bi-exclamation-triangle",returnState=!0),0==state&&(btn=`<button type="button" class="efb btn efb btn-outline-pink efb-btn-lg mt-3 mb-3" onClick ="${btnFun}">
      <i class="efb  ${btnIcon} mx-2"></i> ${btnText} </button>`,body=`
      <div class="efb pro-version-efb-modal efb"></div>
        <h5 class="efb  txt-center text-darkb fs-6">${message}</h5>
        <div class="efb  text-center ">
        ${btn}
        </div>
      `,check_show_box()),state_modal_show_efb(1)}catch(error){btnIcon="bi-bug",body=`
    <div class="efb pro-version-efb-modal efb"></div>
    <h5 class="efb  txt-center text-darkb fs-6">${efb_var.text.pleaseReporProblem}</h5>
    <div class="efb  text-center">
    <button type="button" class="efb btn efb btn-outline-pink efb-btn-lg mt-3 mb-3" onClick ="fun_report_error('fun_saveFormEfb','${error}')">
      <i class="efb  bi-megaphone mx-2"></i> ${efb_var.text.reportProblem} </button>
    </div>
    `,show_modal_efb(body,efb_var.text.error,btnIcon,"error"),state_modal_show_efb(1)}},100)};let editFormEfb=()=>{valueJson_ws_p=0;let dropZoneEFB=document.getElementById("dropZoneEFB");dropZoneEFB.innerHTML=loading_messge_efb(),localStorage.getItem("valj_efb")&&(valj_efb=JSON.parse(localStorage.getItem("valj_efb")));var p=calPLenEfb(valj_efb.length);const len=valj_efb.length*p||10;setTimeout(()=>{dropZoneEFB.innerHTML="\x3c!-- edit efb --\x3e";for(let v in valj_efb)try{var type,el;"option"!=valj_efb[v].type&&"r_matrix"!=valj_efb[v].type&&(type="step"==valj_efb[v].type?"steps":valj_efb[v].type,el=addNewElement(type,valj_efb[v].id_,!0,!1),dropZoneEFB.innerHTML+=el,valj_efb[v].hasOwnProperty("type")&&"form"!=valj_efb[v].type&&"step"!=valj_efb[v].type&&"html"!=valj_efb[v].type&&"register"!=valj_efb[v].type&&"login"!=valj_efb[v].type&&"subscribe"!=valj_efb[v].type&&"survey"!=valj_efb[v].type&&"payment"!=valj_efb[v].type&&"smartForm"!=valj_efb[v].type&&funSetPosElEfb(valj_efb[v].dataId,valj_efb[v].label_position),"maps"==type)&&setTimeout(()=>{var lat=Number(valj_efb[v].lat),lon=Number(valj_efb[v].lng);"undefined"!=typeof google&&google.hasOwnProperty("maps")&&(map=new google.maps.Map(document.getElementById(valj_efb[v].id_+"-map"),{center:{lat:lat,lng:lon},zoom:8}))},2*len)}catch(error){console.error("Error",error)}fub_shwBtns_efb()},len)};function obj_resort_row(step){for(var v of valj_efb)v.step==step&&(v.step=step,v.dataId)&&document.getElementById(v.id_)&&(document.getElementById(v.id_).dataset.step=step);fub_shwBtns_efb(),1==valj_efb[0].steps&&fun_handle_buttons_efb(!1)}let sampleElpush_efb=(rndm,elementId)=>{var testb=valj_efb.length,label_align=(amount_el_efb=amount_el_efb||valj_efb[testb-1].amount+1,step_el_efb=step_el_efb||valj_efb[0].steps,1==efb_var.rtl?"txt-right":"txt-left"),txt_color="yesNo"!=elementId?pub_el_text_color_efb:pub_txt_button_color_efb;let pro=(p=()=>{var l=fields_efb.find(x=>x.id==elementId);return l&&l.hasOwnProperty("pro")?l.pro:0})(),size=100,type=elementId;switch(elementId){case"firstName":case"lastName":size=100,type="text";break;default:size=100}"dadfile"!=elementId&&"switch"!=elementId&&"rating"!=elementId&&"esign"!=elementId&&"maps"!=elementId&&"html"!=elementId&&"stateProvince"!=elementId&&"conturyList"!=elementId&&"payMultiselect"!=elementId&&"paySelect"!=elementId&&"payRadio"!=elementId&&"payCheckbox"!=elementId&&"heading"!=elementId&&"link"!=elementId&&"stripe"!=elementId&&"persiaPay"!=elementId||(pro=!0),"file"!=elementId&&"dadfile"!=elementId&&"html"!=elementId&&"steps"!=elementId&&"heading"!=elementId&&"link"!=elementId?(valj_efb.push({id_:rndm,dataId:rndm+"-id",type:type,placeholder:efb_var.text[elementId],value:"",size:size,message:"",id:"",classes:"",name:efb_var.text[elementId],required:0,amount:amount_el_efb,step:step_el_efb,label_text_size:"fs-6",label_position:"up",el_text_size:"fs-6",label_text_color:pub_label_text_color_efb,el_border_color:"border-d",el_text_color:txt_color,message_text_color:pub_message_text_color_efb,el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_align:"justify-content-start",pro:pro,icon_input:""}),"stripe"==elementId?(Object.assign(valj_efb[0],{getway:"stripe",currency:"usd",paymentmethod:"charge"}),valj_efb[0].type="payment",form_type_emsFormBuilder="payment",valj_efb[testb].el_text_color="text-white"):"persiaPay"==elementId?(Object.assign(valj_efb[0],{getway:"persiaPay",currency:"irr",paymentmethod:"charge",persiaPay:"zarinPal"}),valj_efb[0].type="payment",form_type_emsFormBuilder="payment",valj_efb[testb].el_text_color="text-white"):"esign"==elementId?Object.assign(valj_efb[valj_efb.length-1],{icon:"bi-save",icon_color:"text-white",button_single_text:efb_var.text.clear,button_color:pub_bg_button_color_efb}):"yesNo"==elementId?Object.assign(valj_efb[valj_efb.length-1],{button_1_text:efb_var.text.yes,button_2_text:efb_var.text.no,button_color:pub_bg_button_color_efb}):"maps"==elementId?(Object.assign(valj_efb[valj_efb.length-1],{lat:49.24803870604257,lng:-123.10512829684463,mark:1,zoom:7}),setTimeout(()=>{document.getElementById("maps").draggable=!1,document.getElementById("maps_b")&&document.getElementById("maps_b").classList.add("disabled")},5*valj_efb.length)):"multiselect"==elementId||"payMultiselect"==elementId?Object.assign(valj_efb[valj_efb.length-1],{maxSelect:2,minSelect:0}):"chlCheckBox"!=elementId&&"chlRadio"!=elementId||Object.assign(valj_efb[valj_efb.length-1],{pholder_chl_value:efb_var.text.qty})):"html"==elementId?valj_efb.push({id_:rndm,dataId:rndm+"-id",type:elementId,value:"",amount:amount_el_efb,step:step_el_efb,pro:pro}):"heading"==elementId?valj_efb.push({id_:rndm,dataId:rndm+"-id",type:elementId,classes:"",value:efb_var.text[elementId],amount:amount_el_efb,step:step_el_efb,el_text_size:"display-4",el_text_color:"text-dark",el_align:"justify-content-start",pro:pro}):"link"==elementId?valj_efb.push({id_:rndm,dataId:rndm+"-id",type:elementId,classes:"",value:efb_var.text[elementId],amount:amount_el_efb,step:step_el_efb,el_text_size:"fs-3",el_text_color:"text-primary",el_align:"justify-content-start",href:"https://whitestudio.team",pro:pro}):"steps"==elementId?(step_el_efb=0==step_el_efb?1:step_el_efb,txt_color=null!=efb_var.text[formName_Efb]?efb_var.text[formName_Efb].toUpperCase():efb_var.text.step,valj_efb.push({id_:""+step_el_efb,type:"step",dataId:""+step_el_efb,classes:"stepNavEfb",id:""+step_el_efb,name:txt_color,icon:"",step:step_el_efb,amount:amount_el_efb,EfbVersion:2,message:"",label_text_size:"fs-5",el_text_size:"fs-5",label_text_color:"text-darkb",el_text_color:"text-dark",message_text_color:pub_message_text_color_efb,icon_color:pub_icon_color_efb,icon:"bi-ui-checks-grid",visible:1})):(valj_efb.push({id_:rndm,dataId:rndm+"-id",type:elementId,placeholder:elementId,value:"allformat",size:100,message:"",id:"",classes:"",name:efb_var.text[elementId],required:0,amount:amount_el_efb,step:step_el_efb,label_text_size:"fs-6",message_text_size:"fs-7",el_text_size:"fs-6",file:"allformat",label_text_color:pub_label_text_color_efb,label_position:"up",el_text_color:"text-dark",message_text_color:pub_message_text_color_efb,el_height:"h-d-efb",label_align:label_align,message_align:"justify-content-start",el_border_color:"border-d",el_align:"justify-content-start",pro:pro}),"dadfile"==elementId&&Object.assign(valj_efb[valj_efb.length-1],{icon:"bi-cloud-arrow-up-fill",icon_color:pub_icon_color_efb,button_color:pub_bg_button_color_efb}))},optionElpush_efb=(parent,value,rndm,op,tag)=>{void 0===tag||"string"==typeof tag&&0==tag.includes("pay")||1==tag.includes("img")?(valj_efb.push({id_:rndm,dataId:rndm+"-id",parent:parent,type:"option",value:value,id_op:op,step:step_el_efb,amount:amount_el_efb}),void 0!==tag&&1==tag.includes("img")&&Object.assign(valj_efb[valj_efb.length-1],{sub_value:efb_var.text.sampleDescription,src:efb_var.images.head.replace(/(http:\/\/)+/g,"http:@efb@").replace(/(https:\/\/)+/g,"https:@efb@").replace(/([/])+/g,"@efb@")})):valj_efb.push({id_:rndm,dataId:rndm+"-id",parent:parent,type:"option",value:value,id_op:op,step:step_el_efb,price:0,amount:amount_el_efb})};function create_dargAndDrop_el(){var dropZoneEFB=document.getElementById("dropZoneEFB");dropZoneEFB.addEventListener("dragover",event=>{event.preventDefault()});for(const el_efb of document.querySelectorAll(".draggable-efb"))el_efb.addEventListener("dragstart",event=>{event.dataTransfer.setData("text/plain",el_efb.id)}),el_efb.addEventListener("click",event=>{0!=document.body.classList.contains("mobile")||1!=el_efb.getAttribute("draggable")&&"true"!=el_efb.getAttribute("draggable")||fun_efb_add_el(el_efb.id)});dropZoneEFB.addEventListener("drop",event=>{event.preventDefault(),"step"!==event.dataTransfer.getData("text/plain")&&null!=event.dataTransfer.getData("text/plain")&&""!=event.dataTransfer.getData("text/plain")&&(Math.random().toString(36).substr(2,9),event=event.dataTransfer.getData("text/plain"),fun_efb_add_el(event))})}const add_new_option_efb=(parentsID,idin,value,id_ob,tag)=>{document.getElementById("optionListefb").cloneNode(!0);var ftyp=tag.includes("pay")?"payment":"",s=tag.includes("pay"),l_b=mobile_view_efb?"d-block":"d-none",parent=valj_efb.find(x=>x.id_==parentsID),obd=valj_efb.find(x=>x.id_==id_ob),obd=obd.hasOwnProperty("id")?obd.id:obd.id_;let t="radio";(-1<parent.type.toLowerCase().indexOf("multi")||1==parent.type.toLowerCase().includes("checkbox")||1==parent.type.toLowerCase().includes("multiselect"))&&(t="checkbox");parent="payment"==ftyp||"smart"==ftyp?"col-md-7":"col-md-12",parentsID.trim(),tag.trim(),valj_efb.length,document.getElementById("optionListefb").innerHTML+=add_option_edit_admin_efb(0,parentsID,t,idin,tag,id_ob,value,parent,s,l_b,ftyp,obd,""),parent=valj_efb.findIndex(x=>x.id_==parentsID);"radio"==tag&&1==valj_efb[parent].hasOwnProperty("addother")&&1==valj_efb[parent].addother?(s=valj_efb.filter(obj=>obj.parent===parentsID),document.getElementById(parentsID+"_options").innerHTML="\x3c!--efb.app--\x3e",s.forEach(l=>{document.getElementById(parentsID+"_options").innerHTML+=add_new_option_view_select(l.id_,l.value,l.id_,"radio",l.parent)}),document.getElementById(parentsID+"_options").innerHTML+=add_new_option_view_select("random"+parentsID,efb_var.text.otherTxt,"random"+parentsID,"radio",parentsID)):"table_matrix"==tag?document.getElementById(parentsID+"_options").innerHTML+=add_r_matrix_view_select(idin,value,id_ob,tag,parentsID):"multiselect"!==tag&&"payMultiselect"!==tag&&"imgRadio"!==tag||"radio"==tag&&0==valj_efb[parent].hasOwnProperty("addother")?document.getElementById(parentsID+"_options").innerHTML+=add_new_option_view_select(idin,value,id_ob,tag,parentsID):"imgRadio"==tag&&(document.getElementById(parentsID+"_options").innerHTML+=add_new_imgRadio_efb(idin,value,id_ob,tag,parentsID));for(let el of document.querySelectorAll(".elEdit"))el.addEventListener("change",e=>{change_el_edit_Efb(el)})},sort_obj_el_efb_=()=>{let amount=0,step=0;let last_setp=0;var p,len=valj_efb.length;for(const el of document.querySelectorAll(".efbField")){amount+=1;let indx=valj_efb.findIndex(x=>x.id_===el.id);try{-1!=indx&&(el.classList.contains("stepNo")&&(last_setp+=1,step=last_setp),valj_efb[indx].amount=amount,valj_efb[indx].step=step,!fun_el_select_in_efb(el.dataset.tag)&&"radio"!=valj_efb[indx].type&&"checkbox"!=valj_efb[indx].type&&"payRadio"!=valj_efb[indx].type&&"payCheckbox"!=valj_efb[indx].type||valj_efb.filter(obj=>obj.parent===valj_efb[indx].id_).forEach(value=>{amount+=1,value.amount=amount,value.step=step}))}catch{}}20<len?(sort_obj_efb(),p=calPLenEfb(len),wating_sort_complate_efb(len*Math.log(len)*p)):sort_obj_efb()},sort_obj_el_efb=()=>{let amount=1,step=0,state=!1;for(const el of document.querySelectorAll(".efbField")){if(el.classList.contains("stepNavEfb"))amount=1,step=el.dataset.step;else if(1==step){const indx=valj_efb.findIndex(x=>x.dataId==el.dataset.id);var lastIndx=valj_efb.length-1;valj_efb[indx].step=valj_efb[lastIndx].step,valj_efb[indx].amount=valj_efb[lastIndx].amount?Number(valj_efb[lastIndx].amount)+1:1,state=!0}else{el.dataset.amount=amount,el.dataset.step=step,amount+=1;const indx=valj_efb.findIndex(x=>x.dataId==el.dataset.id);-1!=indx&&(valj_efb[indx].amount=amount,valj_efb[indx].step=step)}valj_efb.findIndex(x=>x.dataId==el.dataset.id)}state&&fub_shwBtns_efb()};function add_option_edit_pro_efb(parent,tag,len){var p=calPLenEfb(len);len=len<50?200:(len+Math.log(len))*p;const id_ob=Math.random().toString(36).substr(2,9);optionElpush_efb(parent,efb_var.text.newOption,id_ob,id_ob,tag),setTimeout(()=>{add_new_option_efb(parent,id_ob,efb_var.text.newOption,id_ob,tag)},len)}function show_delete_window_efb(idset,iVJ){var iVJ=valj_efb[iVJ]&&valj_efb[iVJ].hasOwnProperty("type")?`<br> <b>${valj_efb[iVJ].type} > ${valj_efb[iVJ].name??valj_efb[iVJ].value}</b>`:"",iVJ=`<div class="efb   mb-3"><div class="efb  clearfix">${efb_var.text.areYouSureYouWantDeleteItem} ${iVJ}</div></div>`,is_step=!!document.getElementById(idset)&&document.getElementById(idset).classList.contains("stepNavEfb");show_modal_efb(iVJ,efb_var.text.delete,"efb bi-x-octagon-fill mx-2","deleteBox");const confirmBtn=document.getElementById("modalConfirmBtnEfb");0==is_step?(state_modal_show_efb(1),confirmBtn.dataset.id=idset.slice(0,-3),confirmBtn.addEventListener("click",e=>{document.getElementById(confirmBtn.dataset.id).remove(),obj_delete_row(idset,!1,confirmBtn.dataset.id),activeEl_efb=0,state_modal_show_efb(0)})):is_step&&1!=document.getElementById(idset).dataset.id&&(state_modal_show_efb(1),confirmBtn.dataset.id=idset,confirmBtn.addEventListener("click",()=>{(activeEl_efb=0)==pro_efb&&(step_el_efb=1<step_el_efb?step_el_efb-1:1),valj_efb[0].steps=valj_efb[0].steps-1,obj_delete_row(idset,!0),document.getElementById(confirmBtn.dataset.id).remove(),state_modal_show_efb(0)}))}const obj_delete_row=(dataid,is_step)=>{let step=0;var foundIndex=0<Object.keys(valj_efb).length?valj_efb.findIndex(x=>x.dataId==dataid):-1;if(-1!=foundIndex&&1==is_step&&(step=Number(valj_efb[foundIndex].step)-1,step_el_efb=step),-1!=foundIndex){if("maps"==valj_efb[foundIndex].type)document.getElementById("maps").draggable=!0,document.getElementById("maps_b").classList.remove("disabled");else if("stripe"==valj_efb[foundIndex].type)-1==valj_efb.findIndex(x=>"persiaPay"==x.type)&&(valj_efb[0].type="form",form_type_emsFormBuilder="form");else if(fun_el_select_in_efb(valj_efb[foundIndex].type)||"radio"==valj_efb[foundIndex].type||"checkbox"==valj_efb[foundIndex].type)obj_delete_options(valj_efb[foundIndex].id_);else if("email"==valj_efb[foundIndex].type&&valj_efb[0].email_to==valj_efb[foundIndex].id_){var vnoti=valj_efb.filter(obj=>1==obj.noti);let count=0;if(0===Object.keys(vnoti).length)valj_efb[0].email_to="",valj_efb[0].sendEmail=0;else for(var i in vnoti)vnoti[i].hasOwnProperty("id_")&&vnoti[i].id_!=valj_efb[foundIndex].id_&&1==Number(vnoti[i].noti)&&(count+=1);valj_efb[0].sendEmail=0<count?1:0,valj_efb[0].email_to=""}valj_efb.splice(foundIndex,1)}if(1==is_step)for(var ob of valj_efb)ob.step==step&&(ob.step=step);obj_resort_row(step_el_efb)},obj_delete_options=parentId=>{for(;-1!=valj_efb.findIndex(x=>x.parent==parentId);){var indx=valj_efb.findIndex(x=>x.parent==parentId);valj_efb.splice(indx,1)}},obj_delete_the_option=id=>{var foundIndex=0<Object.keys(valj_efb).length?valj_efb.findIndex(x=>x.id_op==id):-1;-1!=foundIndex&&valj_efb.splice(foundIndex,1)};function show_duplicate_fun(idset){}let enableDragSort=listClass=>{listClass=document.getElementsByClassName(listClass);Array.prototype.map.call(listClass,lst=>{enableDragList(lst)})},enableDragList=lst=>{Array.prototype.map.call(lst.children,item=>{enableDragItem(item)})},enableDragItem=item=>{item.classList.contains("stepNavEfb")||item.setAttribute("draggable",!0)},status_drag_start=!1,handleDrag=item=>{var selectedItem=item.target,item=selectedItem.parentNode,x=event.clientX,y=event.clientY,x=null===document.elementFromPoint(x,y)?selectedItem:document.elementFromPoint(x,y);if(0==status_drag_start){for(var i of valj_efb)"option"!=i.type&&"form"!=i.type&&"payment"!=i.type&&selectedItem.id!=i.id_&&selectedItem.previousElementSibling.id!=i.id_&&document.getElementById(i.id_).classList.add("drophere");status_drag_start=!0}selectedItem.classList.add("drag-sort-active-efb"),item===x.parentNode&&(x=x!==selectedItem.nextSibling&&"steps"==x.dataset&&"1"!=x.id?x:x.nextSibling,item.insertBefore(selectedItem,x))},handleDrop=item=>{if(item.target.classList.remove("drag-sort-active-efb"),sort_obj_el_efb_(),1==status_drag_start){for(var i of valj_efb)"option"!=i.type&&"form"!=i.type&&document.getElementById(i.id_)&&document.getElementById(i.id_).classList.remove("drophere");status_drag_start=!1}};const sort_obj_efb=()=>{var len=valj_efb.length,p=calPLenEfb(len);setTimeout(()=>{valj_efb=valj_efb.sort((a,b)=>Number(a.amount)>Number(b.amount)?1:Number(b.amount)>Number(a.amount)?-1:0)},len*p)},delete_option_efb=id=>{document.getElementById(id+"-gs").remove(),document.getElementById(id+"-v")&&document.getElementById(id+"-v").remove();const indx=valj_efb.findIndex(x=>x.id_op==id);var ix,ip=valj_efb.findIndex(x=>x.id_==valj_efb[indx].parent);-1!=indx&&(-1!=ip&&"string"==typeof valj_efb[ip].value?valj_efb[ip].value==valj_efb[indx].id_&&(valj_efb[ip].value=""):-1!=ip&&-1!=(ix=valj_efb[ip].value.findIndex(x=>x==valj_efb[indx].id_))&&valj_efb[ip].value.splice(ix,1),valj_efb.splice(indx,1))};function active_element_efb(el){var ac;el.id!=activeEl_efb&&(0==activeEl_efb?activeEl_efb=document.getElementById(el.id).dataset.id:document.getElementById("btnSetting-"+activeEl_efb).classList.toggle("d-none"),(ac=document.querySelector(".field-selected-efb"))&&ac.classList.remove("field-selected-efb"),activeEl_efb=el.dataset.id,(ac=document.getElementById("btnSetting-"+activeEl_efb)).classList.contains("d-none")&&ac.classList.remove("d-none"),document.querySelector(`[data-id="${activeEl_efb}"]`).classList.add("field-selected-efb"))}fun_efb_add_el=t=>{const rndm=Math.random().toString(36).substr(2,9);if(!("steps"==t&&valj_efb.length<2)){if(valj_efb.length<2&&(dropZoneEFB.innerHTML="",dropZoneEFB.classList.add("pb")),"address"==t||"name"==t){var el;for(const ob of[{n:"name",t:"firstName"},{n:"name",t:"lastName"}])ob.n==t&&(el=addNewElement(ob.t,Math.random().toString(36).substr(2,9),!1,!1),dropZoneEFB.innerHTML+=el)}else{let el=addNewElement(t,rndm,!1,!1);if("null"!=el)switch(dropZoneEFB.innerHTML+=el,t){case"mobile":break;case"persiaPay":case"stripe":funRefreshPricesEfb()}}var id;fub_shwBtns_efb(),"maps"==t&&(id=rndm+"-map","undefined"!=typeof google?new google.maps.Map(document.getElementById(id),{center:{lat:49.24803870604257,lng:-123.10512829684463},zoom:10}):setTimeout(()=>{document.getElementById(rndm+"-map").innerHTML=googleMapsNOkEfb()},800)),setTimeout(()=>{active_element_efb(dropZoneEFB.lastElementChild)},80)}},add_element_dpz_efb=id=>{fun_efb_add_el(id)};const colorBtnChangerEfb=(classes,color)=>classes.replace(/\bbtn+-+[\w\-]+/gi,""+color),colorBGrChangerEfb=(classes,color)=>classes.replace(/\bbg+-+[\w\-]+/gi,""+color),inputHeightChangerEfb=(classes,value)=>classes.replace(/(h-d-efb|h-l-efb|h-xl-efb|h-xxl-efb|h-xxxl-efb)/,""+value),fontSizeChangerEfb=(classes,value)=>classes.replace(/\bfs+-\d+/gi,""+value),colChangerEfb=(classes,value)=>classes.replace(/\bcol-\d+|\bcol-\w+-\d+/,""+value),colMdRemoveEfb=classes=>classes.replace(/\bcol-md+-\d+/gi,""),colMReplaceEfb=(classes,value)=>classes.replace(/\bcol-md+-\d+/gi,value),headSizeEfb=(classes,value)=>classes.replace(/\bdisplay+-\d+/gi,""+value),colSmChangerEfb=(classes,value)=>classes.replace(/\bcol-sm+-\d+/,""+value),iconChangerEfb=(classes,value)=>classes.replace(/(\bbi-+[\w\-]+|bXXX)/g,""+value),isNumericEfb=value=>/^\d+$/.test(value);function emsFormBuilder_delete(id,type,value){let val=id;switch(type){case"addon":val=efb_var.text[id];break;case"form":case"message":val=value;break;case"condlogic":val=id}var body=`<div class="efb   mb-3"><div class="efb  clearfix">${efb_var.text.areYouSureYouWantDeleteItem}<br><b>${efb_var.text[type]} >> ${val} </b></div></div>`,body=(show_modal_efb(body,efb_var.text.delete,"efb bi-x-octagon-fill mx-2","deleteBox"),document.getElementById("modalConfirmBtnEfb"));state_modal_show_efb(1),body.addEventListener("click",e=>{"form"==type?fun_confirm_remove_emsFormBuilder(Number(id)):"message"==type?fun_confirm_remove_message_emsFormBuilder(Number(id)):"addon"==type?(addons_btn_state_efb(id),fun_confirm_remove_addon_emsFormBuilder(id)):(type="condlogic",fun_remove_condition_efb(id,value)),activeEl_efb=0,state_modal_show_efb(0)}),window.scrollTo({top:0,behavior:"smooth"})}function add_r_matrix_edit_pro_efb(parent,tag,len){var p=calPLenEfb(len);len=len<50?200:(len+Math.log(len))*p;const id_ob=Math.random().toString(36).substr(2,9);r_matrix_push_efb(parent,efb_var.text.newOption,id_ob,id_ob,tag),setTimeout(()=>{add_new_option_efb(parent,id_ob,efb_var.text.newOption,id_ob,tag)},len)}funBTNAddOnsEFB=(val,v_required)=>{efb_version>=v_required?1==(val=>"AdnPDP"!=val&&"AdnADP"!=val||!("AdnADP"==val&&1==efb_var.setting.hasOwnProperty("AdnPDP")&&1==efb_var.setting.AdnPDP||"AdnPDP"==val&&1==efb_var.setting.hasOwnProperty("AdnADP")&&1==efb_var.setting.AdnADP))(val)?(addons_btn_state_efb(val),actionSendAddons_efb(val)):alert_message_efb(efb_var.text.error,efb_var.text.mPAdateW,45,"warning"):(alert_message_efb(efb_var.text.error,efb_var.text.upDMsg,30,"warning"),setTimeout(()=>{location.reload()},3e3))},funBTNAddOnsUnEFB=val=>{emsFormBuilder_delete(val,"addon","")},fun_confirm_remove_addon_emsFormBuilder=val=>{actionSendAddonsUn_efb(val)},fun_remove_condition_efb=(no,step_id)=>{document.getElementById(no+"-logics-gs").remove();var no_no,step_no=valj_efb[0].conditions.findIndex(x=>x.id_==step_id);-1!=step_no&&-1!=(no_no=valj_efb[0].conditions[step_no].condition.findIndex(x=>x.no==no))&&(1==valj_efb[0].conditions[step_no].condition.length?(valj_efb[0].conditions[step_no].condition[no_no].one="",valj_efb[0].conditions[step_no].condition[no_no].two=""):valj_efb[0].conditions[step_no].condition.splice(no_no,1))},addons_btn_state_efb=id=>{for(const el of document.querySelectorAll(".addons"))el.classList.add("disabled");document.getElementById(id).innerHTML='<i class="efb bi-hourglass-split mx-1"></i>'},funRefreshPricesEfb=()=>{for(const l of document.querySelectorAll(".efb-crrncy")){const id=l.id.replace("-price","");v=valj_efb.find(x=>x.id_==id),l.innerHTML=Number(v.price).toLocaleString(lan_name_emsFormBuilder,{style:"currency",currency:valj_efb[0].currency})}},state_modal_show_efb=i=>{const el=document.getElementById("settingModalEfb");function Respond(e){e.target==el&&state_modal_show_efb(0)}show=()=>{document.body.classList.add("modal-open"),el.classList.add("show"),el.style.cssText="display: block; padding-right: 0.400024px;",el.setAttribute("aria-hidden",!0),setTimeout(()=>{document.body.addEventListener("click",Respond)},10)},remove=()=>{document.body.classList.remove("modal-open"),el.classList.remove("show"),el.style.cssText="",el.removeAttribute("aria-hidden"),jQuery("#regTitle").empty().append(loadingShow_efb()),jQuery("#settingModalEfb_").hasClass("save-efb")&&jQuery("#settingModalEfb_").removeClass("save-efb"),jQuery("#settingModalEfb_").hasClass("pre-efb")?(jQuery("#dropZoneEFB").empty().append(editFormEfb()),jQuery("#settingModalEfb_").removeClass("pre-efb")):jQuery("#settingModalEfb_").hasClass("pre-form-efb")&&jQuery("#settingModalEfb_").removeClass("pre-form-efb"),jQuery("#modal-footer-efb")&&jQuery("#modal-footer-efb").remove();var val=loading_messge_efb();jQuery("#settingModalEfb-body")&&jQuery("#settingModalEfb-body").html(val),setTimeout(()=>{document.body.removeEventListener("click",Respond)},10)},(1==i?show:remove)()};let r_matrix_push_efb=(parent,value,rndm,op)=>{valj_efb.push({id_:rndm,dataId:rndm+"-id",parent:parent,type:"r_matrix",value:value,id_op:op,step:step_el_efb,amount:amount_el_efb})};function fun_switch_form_efb(el){1==(r="hiddenEl"!=el.id&&"disabledEl"!=el.id||efb_check_el_pro(el))&&change_el_edit_Efb(el)}function efb_check_el_pro(el){return f_b=()=>{el.classList.contains("active")?el.classList.remove("active"):el.classList.add("active")},0==efb_var.pro||"false"==efb_var.pro||""==efb_var.pro?("button"==el.type&&0==el.classList.contains("setting")?(f_b(),pro_show_efb(efb_var.text.youUseProElements)):"button"==el.type&&1==el.classList.contains("setting")&&(f_b(),pro_show_efb(efb_var.text.proUnlockMsg)),!1):("scaptcha_emsFormBuilder"==el.id&&document.getElementById("sitekey_emsFormBuilder").value.length<5&&(f_b(),alert_message_efb(efb_var.text.reCAPTCHA,efb_var.text.reCAPTCHASetError,20,"danger")),!0)}function colors_template_picker_efb(el){var i,t="colorDEfb-"+el.dataset.color.slice(1),c=el.dataset.color;let type="text",r="";switch(Object.assign(valj_efb[0],{customize_color:1}),el.dataset.id){case"label":type="text",r=efb_add_costum_color(t,c,"",type),pub_el_text_color_efb=r,pub_label_text_color_efb=r;break;case"description":type="text",pub_message_text_color_efb=efb_add_costum_color(t,c,"",type);break;case"icon":type="text",r=efb_add_costum_color(t,c,"",type),pub_icon_color_efb=r;break;case"btntc":type="text",r=efb_add_costum_color(t,c,"",type),pub_txt_button_color_efb=r;break;case"button":case"buttonColor":type="btn",pub_bg_button_color_efb=efb_add_costum_color(t,c,"",type)}for(i in valj_efb){var k,v,row=valj_efb[i];let type=valj_efb[i].hasOwnProperty("type")?valj_efb[i].type:"";for([k,v]of Object.entries(row))switch(k){case"el_text_color":case"label_text_color":"form"==type||"yesNo"==type||"payment"==type?valj_efb[i][k]=pub_txt_button_color_efb:valj_efb[i][k]=pub_el_text_color_efb;break;case"message_text_color":valj_efb[i][k]=pub_message_text_color_efb;break;case"icon_color":valj_efb[i][k]=pub_icon_color_efb;break;case"btntc":pub_txt_button_color_efb;break;case"button_color":valj_efb[i][k]=pub_bg_button_color_efb}editFormEfb()}}function open_setting_colors_efb(alert){jQuery(alert).alert("close"),document.getElementById("sideBoxEfb").classList.contains("show")?sideMenuEfb(0):(state_view_efb=1,document.getElementById("sideMenuConEfb").innerHTML=loading_messge_efb(),sideMenuEfb(1),document.getElementById("sideMenuConEfb").innerHTML=body)}document.addEventListener("DOMContentLoaded",function(){var els=document.getElementById("wpbody-content");for(let i=0;i<els.children.length;i++)"SCRIPT"!=els.children[i].tagName&&"STYLE"!=els.children[i].tagName&&-1==els.children[i].id.toLowerCase().indexOf("efb")&&-1==els.children[i].id.indexOf("_emsFormBuilder")&&document.getElementById("wpbody-content").children[i].remove();document.getElementById("track_code_emsFormBuilder")&&document.getElementById("track_code_emsFormBuilder").addEventListener("keydown",event=>{if("Enter"===event.key)return event.preventDefault(),fun_find_track_emsFormBuilder(),!1})},!1),window.addEventListener("popstate",e=>{var getUrlparams=new URLSearchParams(location.search);let v=g_page=getUrlparams.get("page")?sanitize_text_efb(getUrlparams.get("page")):"";if(null==v)return valNotFound_efb();switch(e.state){case"templates":case"create":add_dasboard_emsFormBuilder();break;case"panel":fun_emsFormBuilder_render_view(25),fun_hande_active_page_emsFormBuilder(1);break;case"setting":fun_show_setting__emsFormBuilder(),fun_backButton(0),fun_hande_active_page_emsFormBuilder(2);break;case"help":fun_show_help__emsFormBuilder(),fun_hande_active_page_emsFormBuilder(4);break;case"search":v=localStorage.getItem("search_efb")?sanitize_text_efb(localStorage.getItem("search_efb")):null,search_trackingcode_fun_efb(v);break;case"show-message":v=getUrlparams.get("id")?sanitize_text_efb(getUrlparams.get("id")):null,g_page=sanitize_text_efb(getUrlparams.get("form_type")),efb_var.msg_id=v,form_type_emsFormBuilder=g_page,fun_get_messages_by_id(Number(v)),fun_hande_active_page_emsFormBuilder(1);break;case"edit-form":v=getUrlparams.get("id")?sanitize_text_efb(getUrlparams.get("id")):null,fun_get_form_by_id(Number(v)),fun_backButton(),fun_hande_active_page_emsFormBuilder(1)}}),msg_colors_from_template=()=>{get_colors=()=>{let r="\x3c!--colors--\x3e";for(var i of efb_var.colors)r+=`<div class="efb coloritem col-1 m-1" data-color="${i}" style="background:${i};width: 30px;height: 30px;border-radius: 20%;cursor: pointer;" onClick="colors_template_picker_efb(this)"></div>`;return`<div class="efb row col">${r}</div>`},efb_var.hasOwnProperty("colors")&&(c=get_colors(),div=`<div class="efb text-dark"> ${efb_var.text.wylpfucat} </div><a class="btn btn-darkb text-white efb w-100 mt-1" onclick="open_setting_colors_efb(this)">${efb_var.text.yes}</a>`,alert_message_efb("",div,35,"info"))},add_new_logic_efb=(newId,step_id)=>{newId=Math.random().toString(36).substr(2,9);const row=valj_efb[0].conditions.findIndex(x=>x.id_==step_id);if(-1!=row){valj_efb[0].conditions[row].condition.push({no:newId,term:"is",one:"",two:""});var ones=selectSmartforOptionsEls(newId,step_id),twos=optionSmartforOptionsEls(newId,step_id,0),si=`<p class="efb mx-2 px-0  col-form-label fs-6 text-center">${efb_var.text.ise}</p>`,del_btn=`
      <button type="button" class="efb zindex-100  btn btn-delete btn-sm m-1" onclick="emsFormBuilder_delete('${newId}','condlogic' ,'${step_id}')" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete"><i class="efb  bi-trash"></i></button>
      `;document.getElementById("list-logics").innerHTML+=`
  <div class="efb mx-0 col-sm-12 row opt" id="${newId}-logics-gs">
    <div class="efb mx-0 px-0 col-md-4">  ${ones}</div>
    <div class="efb mx-0 px-0 col-md-2">  ${si}</div>
    <div class="efb mx-0 px-0 col-md-4">  ${twos}</div>
    <div class="efb mx-0 px-0 col-md-2">  ${del_btn}</div>
  </div>`;for(let el of document.querySelectorAll(".elEdit"))if(el.addEventListener("change",e=>{change_el_edit_Efb(el)}),"selectSmartforOptionsEls"==el.id){const row=valj_efb[0].conditions.findIndex(x=>x.id_==el.dataset.fid);var no=valj_efb[0].conditions[row].condition.findIndex(x=>x.no==el.dataset.no);const id=valj_efb[0].conditions[row].condition[no].one;""!=id&&-1!=(no=valj_efb.findIndex(x=>x.id_==id))&&(no=sanitize_text_efb(valj_efb[no].name),(no=document.getElementById("opsso-"+id)).seleced="selected",el.value=no.value),el.value}else if("optiontSmartforOptionsEls"==el.id){const row=valj_efb[0].conditions.findIndex(x=>x.id_==el.dataset.fid),no=valj_efb[0].conditions[row].condition.findIndex(x=>x.no==el.dataset.no),id=valj_efb[0].conditions[row].condition[no].two;if(""!=id){let v=valj_efb.findIndex(x=>x.id_==id);if(-1!=v){v=sanitize_text_efb(valj_efb[v].value);const op=document.getElementById("ocsso-"+id);op.seleced="selected",el.value=op.value}}}}},colors_from_template=()=>{get_colors=()=>{let r="\x3c!--colors--\x3e";for(var i of efb_var.colors)r+=`<div class="efb coloritem col-1 m-1" data-color="${i}" style="background:${i};width: 30px;height: 30px;border-radius: 20%;cursor: pointer;" onClick="colors_template_picker_efb(this)"></div>`;return`<div class="efb row col">${r}</div>`},efb_var.hasOwnProperty("colors")&&(c=get_colors(),div=`<div class="efb text-dark"> ${efb_var.text.wylpfucat} </div><a class="btn btn-darkb text-white efb w-100 mt-1" onclick="open_setting_colors_efb(this)">${efb_var.text.yes}</a>`,alert_message_efb("",div,35,"info"))},add_new_logic_efb=(newId,step_id)=>{newId=Math.random().toString(36).substr(2,9);const row=valj_efb[0].conditions.findIndex(x=>x.id_==step_id);if(-1!=row){valj_efb[0].conditions[row].condition.push({no:newId,term:"is",one:"",two:""});var ones=selectSmartforOptionsEls(newId,step_id),twos=optionSmartforOptionsEls(newId,step_id,0),si=`<p class="efb mx-2 px-0  col-form-label fs-6 text-center">${efb_var.text.ise}</p>`,del_btn=`
      <button type="button" class="efb zindex-100  btn btn-delete btn-sm m-1" onclick="emsFormBuilder_delete('${newId}','condlogic' ,'${step_id}')" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete"><i class="efb  bi-trash"></i></button>
      `;document.getElementById("list-logics").innerHTML+=`
  <div class="efb mx-0 col-sm-12 row opt" id="${newId}-logics-gs">
    <div class="efb mx-0 px-0 col-md-4">  ${ones}</div>
    <div class="efb mx-0 px-0 col-md-2">  ${si}</div>
    <div class="efb mx-0 px-0 col-md-4">  ${twos}</div>
    <div class="efb mx-0 px-0 col-md-2">  ${del_btn}</div>
  </div>`;for(let el of document.querySelectorAll(".elEdit"))if(el.addEventListener("change",e=>{change_el_edit_Efb(el)}),"selectSmartforOptionsEls"==el.id){const row=valj_efb[0].conditions.findIndex(x=>x.id_==el.dataset.fid);var no=valj_efb[0].conditions[row].condition.findIndex(x=>x.no==el.dataset.no);const id=valj_efb[0].conditions[row].condition[no].one;""!=id&&-1!=(no=valj_efb.findIndex(x=>x.id_==id))&&(no=sanitize_text_efb(valj_efb[no].name),(no=document.getElementById("opsso-"+id)).seleced="selected",el.value=no.value),el.value}else if("optiontSmartforOptionsEls"==el.id){const row=valj_efb[0].conditions.findIndex(x=>x.id_==el.dataset.fid),no=valj_efb[0].conditions[row].condition.findIndex(x=>x.no==el.dataset.no),id=valj_efb[0].conditions[row].condition[no].two;if(""!=id){let v=valj_efb.findIndex(x=>x.id_==id);if(-1!=v){v=sanitize_text_efb(valj_efb[v].value);const op=document.getElementById("ocsso-"+id);op.seleced="selected",el.value=op.value}}}}};